{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Series } from \"./Series\";\nimport { NumericXAxis } from \"./NumericXAxis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { NumericYAxis } from \"./NumericYAxis\";\nimport { Color } from \"igniteui-react-core\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { KDTree2D } from \"./KDTree2D\";\nimport { typeGetValue, runOn, delegateRemove, typeCast, delegateCombine, markType, markDep, toNullable } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { SeriesView } from \"./SeriesView\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { KDPointData } from \"./KDPointData\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ProgressiveLoadStatusEventArgs } from \"./ProgressiveLoadStatusEventArgs\";\nimport { SearchArgs } from \"./SearchArgs\";\nimport { KDTreeNode2D } from \"./KDTreeNode2D\";\nimport { AxisRange } from \"./AxisRange\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity, logBase, intDivide } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { dateNow } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar HighDensityScatterSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(HighDensityScatterSeries, _super);\n\n  function HighDensityScatterSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.md = null;\n    _this.mf = null;\n    _this.nl = 0;\n    _this.mh = false;\n    _this.m1 = 0;\n    _this.m0 = 0;\n    _this.mz = 0;\n    _this.my = 255;\n    _this.mx = 0;\n    _this.mw = 0;\n    _this.m4 = 255;\n    _this.m3 = 0;\n    _this.m2 = 0;\n    _this.l5 = null;\n    _this.ma = null;\n    _this.mb = null;\n    _this.l6 = null;\n    _this.l8 = null;\n    _this.mj = false;\n    _this.nm = 0;\n    _this.no = 0;\n    _this.ni = 0;\n    _this.nh = 0;\n    _this.progressiveLoadStatusChanged = null;\n    _this.mo = null;\n    _this.mu = 0;\n    _this.mt = 0;\n    _this.mv = 0;\n    _this.m7 = 0;\n    _this.m5 = 0;\n    _this.m6 = 0;\n    _this.m8 = 0;\n    _this.na = 0;\n    _this.nc = 0;\n    _this.nb = 0;\n    _this.m9 = 0;\n    _this.mq = 0;\n    _this.mr = 0;\n    _this.ms = 0;\n    _this.mp = 0;\n    _this.nk = 0;\n    _this.nj = 0;\n    _this.l2 = null;\n    _this.nn = 0;\n    _this.mi = false;\n    _this._itemIndexes = null;\n    _this.l3 = null;\n    _this.l0 = null;\n    _this.mc = null;\n    _this.ab = HighDensityScatterSeries.$;\n    _this.c7 = false;\n    return _this;\n  }\n\n  HighDensityScatterSeries.prototype.get_c4 = function () {\n    return true;\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"me\", {\n    get: function () {\n      return this.md;\n    },\n    set: function (a) {\n      if (this.md != a) {\n        var b = this.me;\n        this.md = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.me);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.fs = function (a, b) {\n    var c = this.gu(b);\n\n    if (c == HighDensityScatterSeries.$$p[8]) {\n      return this.ft(a, b, this.n3);\n    }\n\n    if (c == HighDensityScatterSeries.$$p[10]) {\n      return this.ft(a, b, this.n7);\n    }\n\n    return _super.prototype.fs.call(this, a, b);\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"mg\", {\n    get: function () {\n      return this.mf;\n    },\n    set: function (a) {\n      if (this.mf != a) {\n        var b = this.mg;\n        this.mf = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.mg);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.ol = function () {\n    if (this.l5 == null) {\n      return;\n    }\n\n    this.l5.s();\n    var a = this.l5;\n    a.progressiveThunkCompleted = delegateRemove(a.progressiveThunkCompleted, runOn(this, this.n9));\n    this.l5 = null;\n  };\n\n  HighDensityScatterSeries.prototype.iz = function (a, b, c, d) {\n    _super.prototype.iz.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"SeriesViewer\":\n        if (this.bs != null) {\n          var e = this.getEffectiveViewport1(this.bi);\n          this.mi = !e.isEmpty;\n        }\n\n        break;\n\n      case \"FastItemsSource\":\n        this.ol();\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.me);\n          c.deregisterColumn(this.mg);\n          this.me = null;\n          this.mg = null;\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.me = this.bw(this.n3);\n          this.mg = this.bw(this.n7);\n        }\n\n        if (this.l9 != null && !this.l9.cl() || this.l7 != null && !this.l7.cl()) {\n          this.jd(false);\n        }\n\n        this.il();\n        break;\n\n      case HighDensityScatterSeries.$$p[7]:\n        var f = this.l6;\n        this.l6 = this.l7;\n        this.ol();\n\n        if (f != null) {\n          f.rangeChanged = delegateRemove(f.rangeChanged, runOn(this, this.oc));\n        }\n\n        if (this.l6 != null) {\n          var g = this.l6;\n          g.rangeChanged = delegateCombine(g.rangeChanged, runOn(this, this.oc));\n        }\n\n        if (c != null) {\n          c.bv(this);\n        }\n\n        if (d != null) {\n          d.ci(this);\n        }\n\n        if (this.l7 != null && !this.l7.cl() || d == null && c != null) {\n          this.jd(false);\n        }\n\n        break;\n\n      case HighDensityScatterSeries.$$p[9]:\n        var h = this.l8;\n        this.l8 = this.l9;\n        this.ol();\n\n        if (h != null) {\n          h.rangeChanged = delegateRemove(h.rangeChanged, runOn(this, this.oc));\n        }\n\n        if (this.l8 != null) {\n          var i = this.l8;\n          i.rangeChanged = delegateCombine(i.rangeChanged, runOn(this, this.oc));\n        }\n\n        if (c != null) {\n          c.bv(this);\n        }\n\n        if (d != null) {\n          d.ci(this);\n        }\n\n        if (this.l9 != null && !this.l9.cl() || d == null && c != null) {\n          this.jd(false);\n        }\n\n        break;\n\n      case \"MouseOverEnabled\":\n        this.mj = this.c7;\n        this.jd(false);\n        break;\n\n      case HighDensityScatterSeries.$$p[8]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.me);\n          this.me = this.bw(this.n3);\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.ol();\n\n        if (this.l7 != null && !this.l7.cl()) {\n          this.jd(false);\n        }\n\n        this.il();\n        break;\n\n      case HighDensityScatterSeries.$$p[10]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.mg);\n          this.mg = this.bw(this.n7);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.ol();\n\n        if (this.l9 != null && !this.l9.cl()) {\n          this.jd(false);\n        }\n\n        this.il();\n        break;\n\n      case HighDensityScatterSeries.$$p[6]:\n        this.ol();\n        this.jd(false);\n        this.ik();\n        break;\n\n      case HighDensityScatterSeries.$$p[3]:\n        this.jd(false);\n        this.ik();\n        break;\n\n      case HighDensityScatterSeries.$$p[1]:\n        this.jd(false);\n        this.ik();\n        break;\n\n      case HighDensityScatterSeries.$$p[0]:\n      case HighDensityScatterSeries.$$p[2]:\n        if (!this.l4.by(this.o0, this.oz)) {\n          return;\n        }\n\n        this.m1 = this.o0.o;\n        this.m0 = this.o0.n;\n        this.mz = this.o0.m;\n        this.my = this.oz.o;\n        this.mx = this.oz.n;\n        this.mw = this.oz.m;\n        this.m4 = this.my - this.m1;\n        this.m3 = this.mx - this.m0;\n        this.m2 = this.mw - this.mz;\n        this.jd(false);\n        this.ik();\n        break;\n\n      case HighDensityScatterSeries.$$p[4]:\n        this.nl = Math.max(typeGetValue(d) - 1, 0);\n        this.mh = this.nl > 0;\n        this.jd(false);\n        this.ik();\n        break;\n\n      case HighDensityScatterSeries.$$p[5]:\n        this.jd(false);\n        this.ik();\n        break;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.ml = function (a) {\n    if (typeCast(NumericYAxis.$, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  HighDensityScatterSeries.prototype.mk = function (a) {\n    if (typeCast(NumericXAxis.$, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  HighDensityScatterSeries.prototype.oc = function (a, b) {\n    this.ol();\n    this.jd(false);\n  };\n\n  HighDensityScatterSeries.prototype.dw = function (a, b, c) {\n    var d = _super.prototype.dw.call(this, a, b, c);\n\n    if (this.l9 == null || this.l7 == null || this.l7.bf == null || this.l9.bf == null || this.mg == null || this.me == null || this.mg.count < 1 || this.me.count < 1 || this.mg.count != this.me.count || this.l7.j4 == this.l7.j3 || this.l9.j4 == this.l9.j3 || this.ly.isEmpty) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"ns\", {\n    get: function () {\n      return this.nm;\n    },\n    set: function (a) {\n      var b = this.nm;\n      this.nm = a;\n      this.raisePropertyChanged(\"ProgressiveStatus\", b, this.nm);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.je = function (a) {\n    _super.prototype.je.call(this, a);\n\n    this.oe(a, this.bi);\n  };\n\n  HighDensityScatterSeries.prototype.oe = function (a, b) {\n    if (this.cc(b)) {\n      return;\n    }\n\n    if (this.l5 == null && !this.mn) {\n      var c = new List$1(KDPointData.$, 2, this.me.count);\n      var d = this.l7;\n      var e = this.l9;\n      var f = new Rect(0, 0, 0, 1, 1);\n      var g = new Rect(0, 0, 0, 1, 1);\n      var h = new ScalerParams(1, f, g, d.b8);\n      var i = new ScalerParams(1, f, g, e.b8);\n      var j_1;\n      var k_1;\n\n      var _loop_1 = function (l) {\n        j_1 = d.dw(this_1.me.item(l), h);\n        k_1 = e.dw(this_1.mg.item(l), i);\n\n        if (!isNaN_(j_1) && !isNaN_(k_1) && !isInfinity(j_1) && !isInfinity(k_1)) {\n          c.add(function () {\n            var $ret = new KDPointData();\n            $ret.a = j_1;\n            $ret.b = k_1;\n            $ret.c = l;\n            return $ret;\n          }());\n        }\n      };\n\n      var this_1 = this;\n\n      for (var l = 0; l < this.me.count; l++) {\n        _loop_1(l);\n      }\n\n      if (this.mm) {\n        this.nh = 1;\n        this.ni = truncate(logBase(c.count, 2)) + 3;\n        this.ns = truncate(this.nh / this.ni * 100);\n\n        if (this.progressiveLoadStatusChanged != null) {\n          this.progressiveLoadStatusChanged(this, new ProgressiveLoadStatusEventArgs(this.ns));\n        }\n\n        this.l5 = KDTree2D.b(c.toArray(), 1);\n        var m = this.l5;\n        m.progressiveThunkCompleted = delegateCombine(m.progressiveThunkCompleted, runOn(this, this.n9));\n\n        if (!this.l5.f(this.e4)) {\n          var n = this.l5;\n          n.progressiveThunkCompleted = delegateRemove(n.progressiveThunkCompleted, runOn(this, this.n9));\n        }\n\n        this.ik();\n      } else {\n        var o = dateNow();\n        this.l5 = new KDTree2D(0, c.toArray(), 1);\n        var p = dateNow();\n      }\n    }\n\n    if (this.mm && !this.mn) {\n      this.of(b);\n    } else {\n      this.og(b);\n    }\n  };\n\n  HighDensityScatterSeries.prototype.hy = function (a, b, c, d) {\n    _super.prototype.hy.call(this, a, b, c, d);\n\n    this.ol();\n    var e = false;\n\n    if (this.l7 != null && !this.l7.cl()) {\n      e = true;\n    }\n\n    if (this.l9 != null && !this.l9.cl()) {\n      e = true;\n    }\n\n    if (e) {\n      this.jd(false);\n    }\n\n    this.il();\n  };\n\n  HighDensityScatterSeries.prototype.ob = function (a) {\n    var b = a;\n    var c = this.nk * this.nj;\n\n    if (this.mj) {\n      if (this._itemIndexes == null || this._itemIndexes.length != c) {\n        this._itemIndexes = new Array(c);\n\n        for (var d = 0; d < c; d++) {\n          this._itemIndexes[d] = 0;\n        }\n      } else {\n        for (var e = 0; e < c; e++) {\n          this._itemIndexes[e] = 0;\n        }\n      }\n    }\n  };\n\n  HighDensityScatterSeries.prototype.og = function (a) {\n    var b;\n    var c;\n    var d = null;\n\n    if (a.n) {\n      d = this._itemIndexes;\n    }\n\n    var e = a.getViewInfo(c, b);\n    c = e.p0;\n    b = e.p1;\n    var f = a;\n    var g = this.getEffectiveViewport1(a);\n    this.ma = new ScalerParams(0, b, c, this.l6.b8, g);\n    this.mb = new ScalerParams(0, b, c, this.l8.b8, g);\n    this.oa(a);\n    this.ob(a);\n    var h = this.nk * this.nj;\n\n    if (this.l3 == null || this.l3.length != h) {\n      this.l3 = new Array(h);\n      this.l0 = new Array(h);\n    }\n\n    var i = this.l3.length;\n    var j = this.l3;\n    var k = this.l0;\n\n    for (var l = 0; l < i; l++) {\n      j[l] = 0;\n      k[l] = 0;\n    }\n\n    this.no = truncate(Math.round(this.eu));\n    this.l2 = f.bv();\n    var m = this.l2.length;\n    var n = this.l2;\n\n    for (var o = 0; o < m; o++) {\n      n[o] = 0;\n    }\n\n    var p = this.nf;\n    var q = this.ne;\n\n    if (isNaN_(p) || isInfinity(p)) {\n      p = 0;\n    }\n\n    if (isNaN_(q) || isInfinity(q)) {\n      q = 50;\n    }\n\n    this.mu = Math.min(p, q);\n    this.mt = Math.max(p, q);\n\n    if (this.mu < 0) {\n      this.mu = 0;\n    }\n\n    if (this.mt < 0) {\n      this.mt = 0;\n    }\n\n    this.mv = this.mt - this.mu;\n\n    if (this.mn) {\n      this.od(a);\n    } else {\n      this.on(a);\n    }\n\n    f.b6();\n\n    if (a.n) {\n      this._itemIndexes = d;\n      this.l4.b7();\n    }\n  };\n\n  HighDensityScatterSeries.prototype.of = function (a) {\n    if (this.l5 == null) {\n      return;\n    }\n\n    this.og(a);\n  };\n\n  HighDensityScatterSeries.prototype.n9 = function (a, b) {\n    var _this = this;\n\n    this.l4.b5(function () {\n      if (_this.nh < _this.ni - 1) {\n        _this.nh++;\n      }\n\n      _this.ns = truncate(_this.nh / _this.ni * 100);\n\n      if (_this.progressiveLoadStatusChanged != null) {\n        _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ns));\n      }\n\n      _this.of(_this.bi);\n\n      _this.ik();\n\n      if (_this.l5 != null) {\n        if (!_this.l5.f(_this.e4)) {\n          var c = _this.l5;\n          c.progressiveThunkCompleted = delegateRemove(c.progressiveThunkCompleted, runOn(_this, _this.n9));\n          _this.ns = 100;\n\n          if (_this.progressiveLoadStatusChanged != null) {\n            _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ns));\n          }\n        }\n      }\n    });\n  };\n\n  HighDensityScatterSeries.prototype.od = function (a) {\n    var b = arrayShallowClone(this.me.asArray());\n    this.l7.gn(boxArray$1(b), 0, b.length, this.ma);\n    var c = arrayShallowClone(this.mg.asArray());\n    this.nn = 0;\n    var d = this.nl;\n    var e = this.mh;\n    var f = this.l3.length;\n    this.l9.gn(boxArray$1(c), 0, c.length, this.mb);\n    var g = 255 << 24 | truncate(this.m1) << 16 | truncate(this.m0) << 8 | truncate(this.mz);\n\n    for (var h = 0; h < b.length; h++) {\n      var i = truncate(b[h]);\n      var j = truncate(c[h]);\n      i = truncate(Math.floor(i));\n      j = truncate(Math.floor(j));\n\n      if (i < 0 || i >= this.nk || j < 0 || j >= this.nj) {\n        continue;\n      }\n\n      if (e) {\n        var k = i - d;\n        var l = i + d;\n        l = l > this.nk - 1 ? this.nk - 1 : l;\n        k = k < 0 ? 0 : k;\n        var m = j + d;\n        var n = j - d;\n\n        for (var o = k; o <= l; o++) {\n          for (var p = n; p <= m; p++) {\n            var q = p * this.nk + o;\n\n            if (q < 0 || q > f - 1) {\n              continue;\n            }\n\n            this.l3[q] = this.l3[q] + 1;\n            this.l0[q] = 1;\n            this.nn++;\n\n            if (this.mj) {\n              this._itemIndexes[q] = h + 1;\n            }\n          }\n        }\n      } else {\n        var r = j * this.nk + i;\n        this.l3[r] = this.l3[r] + 1;\n        this.l0[r] = 1;\n        this.nn++;\n\n        if (this.mj) {\n          this._itemIndexes[r] = h + 1;\n        }\n      }\n    }\n\n    this.oh();\n  };\n\n  HighDensityScatterSeries.prototype.on = function (a) {\n    var b;\n    var c;\n    var d = a.getViewInfo(b, c);\n    b = d.p0;\n    c = d.p1;\n\n    if (this.l5 == null) {\n      return;\n    }\n\n    if (this.mo == null) {\n      this.mo = new List$1(KDTreeNode2D.$, 2, truncate(Math.round(b.width * b.height)));\n    } else {\n      this.mo.clear();\n    }\n\n    var e = c.left;\n    var f = c.right;\n    var g = c.top;\n    var h = c.bottom;\n    this.nb = c.top;\n    this.m9 = c.height;\n    this.na = c.left;\n    this.nc = c.width;\n    this.m7 = b.top;\n    this.m5 = b.height;\n    this.m6 = b.left;\n    this.m8 = b.width;\n    var i = this.getEffectiveViewport1(a);\n    this.mq = (i.left - this.m6) / this.m8;\n    this.mr = (i.top - this.m7) / this.m5;\n    var j = (i.right - this.m6) / this.m8;\n    this.ms = j - this.mq;\n    var k = (i.bottom - this.m7) / this.m5;\n    this.mp = k - this.mr;\n\n    if (this.mi) {\n      e = (e - this.mq) / this.ms;\n      f = (f - this.mq) / this.ms;\n      g = (g - this.mr) / this.mp;\n      h = (h - this.mr) / this.mp;\n    }\n\n    var l = this.eu / b.width * c.width;\n    var m = this.eu / b.height * c.height;\n    var n = Math.min(l, m);\n\n    var o = function () {\n      var $ret = new SearchArgs();\n      $ret.c = e;\n      $ret.a = f;\n      $ret.d = g;\n      $ret.b = h;\n      $ret.e = l;\n      $ret.f = m;\n      $ret.g = 0x7FFFFFFF;\n      return $ret;\n    }();\n\n    this.l5.t(this.mo, o, 0, 1, 0, 1);\n    var p;\n    this.nn = 0;\n\n    for (var q = 0; q < this.mo.count; q++) {\n      p = this.mo._inner[q];\n      this.oi(p);\n    }\n\n    this.oh();\n  };\n\n  HighDensityScatterSeries.prototype.oi = function (a) {\n    if (a.g) {\n      return;\n    }\n\n    var b = a.e != null && a.e.a;\n    var c = a.a == null ? 0 : a.a.length;\n    var d = a.h - c + 1;\n\n    if (b && d > 0) {} else {\n      d = 1;\n    }\n\n    this.ok(a.b, d, b, a.e);\n\n    if (c > 0 && !b) {\n      var e = void 0;\n\n      for (var f = 0; f < c; f++) {\n        e = a.a[f];\n        this.ok(e, d, false, a.e);\n      }\n    }\n\n    if (a.e != null) {\n      a.e.a = false;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.c9 = function (a) {\n    var b = this.bs != null ? this.bs.mq : Rect.empty;\n    var c = this.bs != null ? this.bs.m3 : Rect.empty;\n    var d = new Rect(0, 0, 0, 1, 1);\n    var e = this.ls(this.bi);\n    var f = new ScalerParams(0, d, d, this.l7.b8, e);\n    var g = new ScalerParams(0, d, d, this.l9.b8, e);\n    var h = !b.isEmpty && !c.isEmpty && this.bz != null ? this.bz.indexOf(a) : -1;\n    var i = this.l7 != null && this.me != null && h < this.me.count ? this.l7.dw(this.me.item(h), f) : NaN;\n    var j = this.l9 != null && this.mg != null && h < this.mg.count ? this.l9.dw(this.mg.item(h), g) : NaN;\n\n    if (!isNaN_(i)) {\n      if (i < b.left + 0.1 * b.width) {\n        i = i + 0.4 * b.width;\n        b.x = i - 0.5 * b.width;\n      }\n\n      if (i > b.right - 0.1 * b.width) {\n        i = i - 0.4 * b.width;\n        b.x = i - 0.5 * b.width;\n      }\n    }\n\n    if (!isNaN_(j)) {\n      if (j < b.top + 0.1 * b.height) {\n        j = j + 0.4 * b.height;\n        b.y = j - 0.5 * b.height;\n      }\n\n      if (j > b.bottom - 0.1 * b.height) {\n        j = j - 0.4 * b.height;\n        b.y = j - 0.5 * b.height;\n      }\n    }\n\n    if (this.bn != null) {\n      this.bn.ap(this.bs, b, true);\n    }\n\n    return h >= 0;\n  };\n\n  HighDensityScatterSeries.prototype.ok = function (a, b, c, d) {\n    var e = this.nq(b);\n    var f = a.c;\n    var g = this.nl;\n\n    if (c) {\n      var h = d.d;\n      var i = d.b;\n      var j = d.e;\n      var k = d.c;\n\n      if (this.mi) {\n        h = this.mq + this.ms * h;\n        i = this.mq + this.ms * i;\n        j = this.mr + this.mp * j;\n        k = this.mr + this.mp * k;\n      }\n\n      var l = truncate(this.m6 + this.m8 * (h - this.na) / this.nc);\n      var m = truncate(this.m6 + this.m8 * (i - this.na) / this.nc);\n      var n = truncate(this.m7 + this.m5 * (j - this.nb) / this.m9);\n      var o = truncate(this.m7 + this.m5 * (k - this.nb) / this.m9);\n      l = truncate(Math.floor(l));\n      m = truncate(Math.floor(m));\n      n = truncate(Math.floor(n));\n      o = truncate(Math.floor(o));\n\n      if (this.mh) {\n        l -= g;\n        m += g;\n        n -= g;\n        o += g;\n      }\n\n      var p = (m - l + 1) * (o - n + 1);\n      var q = b / p;\n      var r = q;\n\n      for (var s = l; s <= m; s++) {\n        for (var t = n; t <= o; t++) {\n          this.oj(f, s, t, q, r);\n        }\n      }\n    } else {\n      var u = a.a;\n      var v = a.b;\n\n      if (this.mi) {\n        u = this.mq + this.ms * u;\n        v = this.mr + this.mp * v;\n      }\n\n      var w = truncate(this.m6 + this.m8 * (u - this.na) / this.nc);\n      var x = truncate(this.m7 + this.m5 * (v - this.nb) / this.m9);\n      w = truncate(Math.floor(w));\n      x = truncate(Math.floor(x));\n\n      if (this.mh) {\n        var y = w - g;\n        var z = w + g;\n        var aa = x + g;\n        var ab = x - g;\n        var ac = (z - y + 1) * (aa - ab + 1);\n        var ad = b / ac;\n        var ae = ad;\n\n        for (var af = y; af <= z; af++) {\n          for (var ag = ab; ag <= aa; ag++) {\n            this.oj(f, af, ag, ad, ae);\n          }\n        }\n      } else {\n        this.oj(f, w, x, b, 1);\n      }\n    }\n  };\n\n  HighDensityScatterSeries.prototype.np = function (a, b) {\n    return truncate(Math.floor(255 * b)) << 24 | truncate(Math.floor(b * (this.m1 + a * this.m4))) << 16 | truncate(Math.floor(b * (this.m0 + a * this.m3))) << 8 | truncate(Math.floor(b * (this.mz + a * this.m2)));\n  };\n\n  HighDensityScatterSeries.prototype.nq = function (a) {\n    return 255 << 24 | truncate(Math.floor(this.m1 + a * this.m4)) << 16 | truncate(Math.floor(this.m0 + a * this.m3)) << 8 | truncate(Math.floor(this.mz + a * this.m2));\n  };\n\n  HighDensityScatterSeries.prototype.nd = function (a) {\n    return (a >> 24 & 255) / 255;\n  };\n\n  HighDensityScatterSeries.prototype.oj = function (a, b, c, d, e) {\n    if (b < 0 || b >= this.nk || c < 0 || c >= this.nj) {\n      return;\n    }\n\n    var f = c * this.nk + b;\n    this.l3[f] = this.l3[f] + d;\n    this.l0[f] = this.l0[f] + e;\n\n    if (this.mj) {\n      this._itemIndexes[f] = a + 1;\n    }\n\n    this.nn += truncate(d);\n  };\n\n  HighDensityScatterSeries.prototype.oh = function () {\n    var a = 0;\n    var b = 0;\n    var c = this.mv;\n    var d = this.mu;\n    var e = this.mt;\n    var f = this.l3.length;\n    var g = this.l3;\n    var h = this.l0;\n    var i = this.l2;\n    var j = NaN;\n    var k = NaN;\n    var l = 0;\n    var m = 0;\n\n    for (var n = 0; n < f; n++) {\n      a = g[n];\n\n      if (a != 0) {\n        b = h[n];\n\n        if (a >= e) {\n          a = 1;\n        } else if (a <= d) {\n          a = 0;\n        } else {\n          a = (a - d) / c;\n        }\n\n        if (b > 1) {\n          b = 1;\n        }\n\n        if (b < 0.2) {\n          b = 0.2;\n        }\n\n        if (j != a || k != b) {\n          l = this.np(a, b);\n          j = a;\n          k = b;\n        }\n\n        i[m] = l >> 16 & 255;\n        i[m + 1] = l >> 8 & 255;\n        i[m + 2] = l & 255;\n        i[m + 3] = l >> 24 & 255;\n      }\n\n      m += 4;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.oa = function (a) {\n    var b = a;\n    b.b3();\n  };\n\n  HighDensityScatterSeries.prototype.bf = function () {\n    return new HighDensityScatterSeriesView(this);\n  };\n\n  HighDensityScatterSeries.prototype.iu = function (a) {\n    _super.prototype.iu.call(this, a);\n\n    this.l4 = a;\n  };\n\n  HighDensityScatterSeries.prototype.an = function (a) {\n    if (a != null && a == this.l7 && this.me != null) {\n      return new AxisRange(this.me.minimum, this.me.maximum);\n    }\n\n    if (a != null && a == this.l9 && this.mg != null) {\n      return new AxisRange(this.mg.minimum, this.mg.maximum);\n    }\n\n    return null;\n  };\n\n  HighDensityScatterSeries.prototype.js = function (a, b) {\n    if (this.bs != null) {\n      var c = this.getEffectiveViewport1(this.bi);\n      this.mi = !c.isEmpty;\n    }\n\n    this.jd(false);\n  };\n\n  HighDensityScatterSeries.prototype.jt = function (a, b) {\n    this.jd(false);\n  };\n\n  HighDensityScatterSeries.prototype.fp = function (a) {\n    if (!this.mj || this._itemIndexes == null || this.bs == null || this.bz == null || this._itemIndexes.length != this.nk * this.nj) {\n      return null;\n    }\n\n    var b = this.bs.mq;\n    var c = (a.x - b.left) / b.width;\n    var d = (a.y - b.top) / b.height;\n    var e = truncate(Math.round(this.ly.left + this.ly.width * c));\n    var f = truncate(Math.round(this.ly.top + this.ly.height * d));\n    var g = this.nt(e, f);\n\n    if (g < 0 || g > this._itemIndexes.length - 1) {\n      return null;\n    }\n\n    var h = this._itemIndexes[g] - 1;\n\n    if (h < 0 || h > this.bz.count) {\n      return null;\n    }\n\n    return this.bz.item(h);\n  };\n\n  HighDensityScatterSeries.prototype.nt = function (a, b) {\n    var c = this.nk * b + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    var d = 1;\n    c = this.nk * (b - d) + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * (b + d) + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * b + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * b + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * (b - d) + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * (b + d) + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * (b - d) + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.nk * (b + d) + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    return 0;\n  };\n\n  HighDensityScatterSeries.prototype.om = function (a, b, c) {\n    this.l2 = a;\n    this.nk = b;\n    this.nj = c;\n  };\n\n  HighDensityScatterSeries.prototype.get_dq = function () {\n    return true;\n  };\n\n  HighDensityScatterSeries.prototype.set_dq = function (a) {\n    _super.prototype.set_dq.call(this, a);\n  };\n\n  HighDensityScatterSeries.prototype.hv = function (a, b) {\n    _super.prototype.hv.call(this, a, b);\n\n    this.l4.b4();\n\n    if (this.bh != null) {\n      this.bh.b4();\n    }\n\n    this.ik();\n  };\n\n  HighDensityScatterSeries.prototype.jf = function (a, b) {\n    _super.prototype.jf.call(this, a, b);\n\n    if (!this.dl) {\n      this.bi.az(b);\n      return;\n    }\n\n    this.bi.az(b);\n\n    if (this.cc(this.bh)) {\n      return;\n    }\n\n    var c = typeCast(HighDensityScatterSeriesView.$, this.bh);\n    var d = new ScatterFrame();\n    this.oe(false, c);\n    this.dl = false;\n  };\n\n  HighDensityScatterSeries.prototype.jc = function (a, b, c, d, e) {\n    _super.prototype.jc.call(this, a, b, c, d, e);\n\n    var f = this.a0.a$h.item(d);\n    var g = f;\n    f.ay(c);\n\n    if (this.cc(g)) {\n      return;\n    }\n\n    if (this.mc == null) {\n      this.mc = new ScatterFrame();\n    }\n\n    this.oe(false, f);\n  };\n\n  HighDensityScatterSeries.prototype.ht = function () {\n    _super.prototype.ht.call(this);\n\n    this.l7 = null;\n    this.l9 = null;\n  };\n\n  HighDensityScatterSeries.$t = markType(HighDensityScatterSeries, 'HighDensityScatterSeries', Series.$);\n  HighDensityScatterSeries.$$p = markDep(DependencyProperty, PropertyMetadata, HighDensityScatterSeries, 'raisePropertyChanged', ['HeatMaximumColor:oz:oo', [Color.$, null], 'HeatMaximum:ne:op', [1, 50], 'HeatMinimumColor:o0:oq', [Color.$, null], 'HeatMinimum:nf:or', [1, 0], 'PointExtent:nr:os', [1, 1], 'ProgressiveLoad:mm:ot', [0, true], 'UseBruteForce:mn:ou', [0, false], 'XAxis:l7:ov', [NumericXAxis.$, null], 'XMemberPath:n3:ow', [2, null], 'YAxis:l9:ox', [NumericYAxis.$, null], 'YMemberPath:n7:oy', [2, null]]);\n  return HighDensityScatterSeries;\n}(Series);\n\nexport { HighDensityScatterSeries };\n/**\n * @hidden\n */\n\nvar HighDensityScatterSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(HighDensityScatterSeriesView, _super);\n\n  function HighDensityScatterSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.bw = null;\n    _this.bu = null;\n    _this.b2 = 0;\n    _this.b1 = 0;\n    _this.bz = null;\n    _this.b0 = null;\n    _this.bx = null;\n    _this.bw = a;\n    return _this;\n  }\n\n  HighDensityScatterSeriesView.prototype.ap = function () {\n    _super.prototype.ap.call(this);\n\n    if (!this.n) {\n      this.e.eu = 4;\n      this.bw.o0 = Color.u(255, 0, 0, 0);\n      this.bw.oz = Color.u(255, 255, 0, 0);\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.b7 = function () {\n    this.bw.om(this.bu, this.b2, this.b1);\n  };\n\n  HighDensityScatterSeriesView.prototype.b3 = function () {\n    if (this.bz == null) {\n      this.bz = this.e.e4.createElement(\"canvas\");\n      var a = this.e.e4.get2DCanvasContext(this.bz);\n      this.bx = new RenderingContext(new CanvasViewRenderer(), a);\n    }\n\n    var b;\n\n    if (this.m) {\n      b = this.br;\n    } else {\n      b = this.e.bs.mv();\n    }\n\n    var c = truncate(Math.round(b.left));\n    var d = truncate(Math.round(b.top));\n    var e = truncate(Math.round(b.width));\n    var f = truncate(Math.round(b.height));\n    var g = this.b2;\n    var h = this.b1;\n    this.b2 = e;\n    this.b1 = f;\n\n    if (g != this.b2 || h != this.b1 || this.bu == null) {\n      this.bz.setAttribute(\"width\", e.toString());\n      this.bz.setAttribute(\"height\", f.toString());\n      this.b0 = this.bx.g().getImageData(0, 0, e, f);\n      var imageDataArray_ = this.b0.data;\n      this.bu = imageDataArray_;\n    }\n\n    this.bw.om(this.bu, this.b2, this.b1);\n  };\n\n  HighDensityScatterSeriesView.prototype.bv = function () {\n    return this.bu;\n  };\n\n  HighDensityScatterSeriesView.prototype.b6 = function () {\n    var a = truncate(Math.round(this.br.left));\n    var b = truncate(Math.round(this.br.left));\n    var c = truncate(Math.round(this.br.width));\n    var d = truncate(Math.round(this.br.height));\n    this.bx.g().putImageData(this.b0, 0, 0);\n    this.an();\n  };\n\n  HighDensityScatterSeriesView.prototype.b5 = function (a) {\n    if (this.e.e4 != null) {\n      this.e.e4.setTimeout(a, 0);\n    } else {\n      window.setTimeout(a, 0);\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.a3 = function (a, b) {\n    _super.prototype.a3.call(this, a, b);\n\n    if (b) {\n      if (!this.bw.c7) {\n        return;\n      }\n\n      var c = new Rectangle();\n      c.n = this.br.left;\n      c.o = this.br.top;\n      c.width = this.br.width;\n      c.height = this.br.height;\n      c._fill = this.bl();\n      a.v(c);\n      return;\n    }\n\n    if (this.bz == null) {\n      return;\n    }\n\n    var d = truncate(Math.round(this.br.left));\n    var e = truncate(Math.round(this.br.top));\n    var f = truncate(Math.round(this.br.width));\n    var g = truncate(Math.round(this.br.height));\n    this.h.n(this.bz.getNativeElement(), this.e._opacity, d, e, f, g, d, e, f, g);\n  };\n\n  HighDensityScatterSeriesView.prototype.by = function (a, b) {\n    return Color.e(toNullable(Color.$, a), toNullable(Color.$, null)) && Color.e(toNullable(Color.$, b), toNullable(Color.$, null));\n  };\n\n  HighDensityScatterSeriesView.prototype.b4 = function () {\n    if (this.bu != null) {\n      for (var a = 0; a < this.bu.length; a++) {\n        this.bu[a] = 0;\n      }\n\n      this.b6();\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.ai = function (a) {\n    _super.prototype.ai.call(this, a);\n\n    if (this.bu == null) {\n      this.e.a2.exportSeriesPixelsData(a, null, this.b2, this.b1);\n      return;\n    }\n\n    var b = new Array(intDivide(this.bu.length, 4));\n    var c;\n\n    for (var d = 0; d < intDivide(this.bu.length, 4); d++) {\n      c = d * 4;\n      b[d] = this.bu[c + 3] << 24 | this.bu[c] << 16 | this.bu[c + 1] << 8 | this.bu[c + 2];\n    }\n\n    this.e.a2.exportSeriesPixelsData(a, b, this.b2, this.b1);\n  };\n\n  HighDensityScatterSeriesView.$t = markType(HighDensityScatterSeriesView, 'HighDensityScatterSeriesView', SeriesView.$);\n  return HighDensityScatterSeriesView;\n}(SeriesView);\n\nexport { HighDensityScatterSeriesView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/HighDensityScatterSeries_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Series } from \"./Series\";\nimport { NumericXAxis } from \"./NumericXAxis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { NumericYAxis } from \"./NumericYAxis\";\nimport { Color } from \"igniteui-react-core\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { KDTree2D } from \"./KDTree2D\";\nimport { typeGetValue, runOn, delegateRemove, typeCast, delegateCombine, markType, markDep, toNullable } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { SeriesView } from \"./SeriesView\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { KDPointData } from \"./KDPointData\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ProgressiveLoadStatusEventArgs } from \"./ProgressiveLoadStatusEventArgs\";\nimport { SearchArgs } from \"./SearchArgs\";\nimport { KDTreeNode2D } from \"./KDTreeNode2D\";\nimport { AxisRange } from \"./AxisRange\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity, logBase, intDivide } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { dateNow } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar HighDensityScatterSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(HighDensityScatterSeries, _super);\n    function HighDensityScatterSeries() {\n        var _this = _super.call(this) || this;\n        _this.md = null;\n        _this.mf = null;\n        _this.nl = 0;\n        _this.mh = false;\n        _this.m1 = 0;\n        _this.m0 = 0;\n        _this.mz = 0;\n        _this.my = 255;\n        _this.mx = 0;\n        _this.mw = 0;\n        _this.m4 = 255;\n        _this.m3 = 0;\n        _this.m2 = 0;\n        _this.l5 = null;\n        _this.ma = null;\n        _this.mb = null;\n        _this.l6 = null;\n        _this.l8 = null;\n        _this.mj = false;\n        _this.nm = 0;\n        _this.no = 0;\n        _this.ni = 0;\n        _this.nh = 0;\n        _this.progressiveLoadStatusChanged = null;\n        _this.mo = null;\n        _this.mu = 0;\n        _this.mt = 0;\n        _this.mv = 0;\n        _this.m7 = 0;\n        _this.m5 = 0;\n        _this.m6 = 0;\n        _this.m8 = 0;\n        _this.na = 0;\n        _this.nc = 0;\n        _this.nb = 0;\n        _this.m9 = 0;\n        _this.mq = 0;\n        _this.mr = 0;\n        _this.ms = 0;\n        _this.mp = 0;\n        _this.nk = 0;\n        _this.nj = 0;\n        _this.l2 = null;\n        _this.nn = 0;\n        _this.mi = false;\n        _this._itemIndexes = null;\n        _this.l3 = null;\n        _this.l0 = null;\n        _this.mc = null;\n        _this.ab = HighDensityScatterSeries.$;\n        _this.c7 = false;\n        return _this;\n    }\n    HighDensityScatterSeries.prototype.get_c4 = function () {\n        return true;\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"me\", {\n        get: function () {\n            return this.md;\n        },\n        set: function (a) {\n            if (this.md != a) {\n                var b = this.me;\n                this.md = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.me);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.fs = function (a, b) {\n        var c = this.gu(b);\n        if (c == HighDensityScatterSeries.$$p[8]) {\n            return this.ft(a, b, this.n3);\n        }\n        if (c == HighDensityScatterSeries.$$p[10]) {\n            return this.ft(a, b, this.n7);\n        }\n        return _super.prototype.fs.call(this, a, b);\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"mg\", {\n        get: function () {\n            return this.mf;\n        },\n        set: function (a) {\n            if (this.mf != a) {\n                var b = this.mg;\n                this.mf = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.mg);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.ol = function () {\n        if (this.l5 == null) {\n            return;\n        }\n        this.l5.s();\n        var a = this.l5;\n        a.progressiveThunkCompleted = delegateRemove(a.progressiveThunkCompleted, runOn(this, this.n9));\n        this.l5 = null;\n    };\n    HighDensityScatterSeries.prototype.iz = function (a, b, c, d) {\n        _super.prototype.iz.call(this, a, b, c, d);\n        switch (b) {\n            case \"SeriesViewer\":\n                if (this.bs != null) {\n                    var e = this.getEffectiveViewport1(this.bi);\n                    this.mi = !e.isEmpty;\n                }\n                break;\n            case \"FastItemsSource\":\n                this.ol();\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.me);\n                    c.deregisterColumn(this.mg);\n                    this.me = null;\n                    this.mg = null;\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.me = this.bw(this.n3);\n                    this.mg = this.bw(this.n7);\n                }\n                if ((this.l9 != null && !this.l9.cl()) || (this.l7 != null && !this.l7.cl())) {\n                    this.jd(false);\n                }\n                this.il();\n                break;\n            case HighDensityScatterSeries.$$p[7]:\n                var f = this.l6;\n                this.l6 = this.l7;\n                this.ol();\n                if (f != null) {\n                    f.rangeChanged = delegateRemove(f.rangeChanged, runOn(this, this.oc));\n                }\n                if (this.l6 != null) {\n                    var g = this.l6;\n                    g.rangeChanged = delegateCombine(g.rangeChanged, runOn(this, this.oc));\n                }\n                if (c != null) {\n                    c.bv(this);\n                }\n                if (d != null) {\n                    d.ci(this);\n                }\n                if ((this.l7 != null && !this.l7.cl()) || (d == null && c != null)) {\n                    this.jd(false);\n                }\n                break;\n            case HighDensityScatterSeries.$$p[9]:\n                var h = this.l8;\n                this.l8 = this.l9;\n                this.ol();\n                if (h != null) {\n                    h.rangeChanged = delegateRemove(h.rangeChanged, runOn(this, this.oc));\n                }\n                if (this.l8 != null) {\n                    var i = this.l8;\n                    i.rangeChanged = delegateCombine(i.rangeChanged, runOn(this, this.oc));\n                }\n                if (c != null) {\n                    c.bv(this);\n                }\n                if (d != null) {\n                    d.ci(this);\n                }\n                if ((this.l9 != null && !this.l9.cl()) || (d == null && c != null)) {\n                    this.jd(false);\n                }\n                break;\n            case \"MouseOverEnabled\":\n                this.mj = this.c7;\n                this.jd(false);\n                break;\n            case HighDensityScatterSeries.$$p[8]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.me);\n                    this.me = this.bw(this.n3);\n                }\n                break;\n            case \"XColumn\":\n                this.ol();\n                if (this.l7 != null && !this.l7.cl()) {\n                    this.jd(false);\n                }\n                this.il();\n                break;\n            case HighDensityScatterSeries.$$p[10]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.mg);\n                    this.mg = this.bw(this.n7);\n                }\n                break;\n            case \"YColumn\":\n                this.ol();\n                if (this.l9 != null && !this.l9.cl()) {\n                    this.jd(false);\n                }\n                this.il();\n                break;\n            case HighDensityScatterSeries.$$p[6]:\n                this.ol();\n                this.jd(false);\n                this.ik();\n                break;\n            case HighDensityScatterSeries.$$p[3]:\n                this.jd(false);\n                this.ik();\n                break;\n            case HighDensityScatterSeries.$$p[1]:\n                this.jd(false);\n                this.ik();\n                break;\n            case HighDensityScatterSeries.$$p[0]:\n            case HighDensityScatterSeries.$$p[2]:\n                if (!this.l4.by(this.o0, this.oz)) {\n                    return;\n                }\n                this.m1 = this.o0.o;\n                this.m0 = this.o0.n;\n                this.mz = this.o0.m;\n                this.my = this.oz.o;\n                this.mx = this.oz.n;\n                this.mw = this.oz.m;\n                this.m4 = this.my - this.m1;\n                this.m3 = this.mx - this.m0;\n                this.m2 = this.mw - this.mz;\n                this.jd(false);\n                this.ik();\n                break;\n            case HighDensityScatterSeries.$$p[4]:\n                this.nl = Math.max(typeGetValue(d) - 1, 0);\n                this.mh = this.nl > 0;\n                this.jd(false);\n                this.ik();\n                break;\n            case HighDensityScatterSeries.$$p[5]:\n                this.jd(false);\n                this.ik();\n                break;\n        }\n    };\n    HighDensityScatterSeries.prototype.ml = function (a) {\n        if (typeCast(NumericYAxis.$, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    HighDensityScatterSeries.prototype.mk = function (a) {\n        if (typeCast(NumericXAxis.$, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    HighDensityScatterSeries.prototype.oc = function (a, b) {\n        this.ol();\n        this.jd(false);\n    };\n    HighDensityScatterSeries.prototype.dw = function (a, b, c) {\n        var d = _super.prototype.dw.call(this, a, b, c);\n        if (this.l9 == null || this.l7 == null || this.l7.bf == null || this.l9.bf == null || this.mg == null || this.me == null || this.mg.count < 1 || this.me.count < 1 || this.mg.count != this.me.count || this.l7.j4 == this.l7.j3 || this.l9.j4 == this.l9.j3 || this.ly.isEmpty) {\n            d = false;\n        }\n        return d;\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"ns\", {\n        get: function () {\n            return this.nm;\n        },\n        set: function (a) {\n            var b = this.nm;\n            this.nm = a;\n            this.raisePropertyChanged(\"ProgressiveStatus\", b, this.nm);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.je = function (a) {\n        _super.prototype.je.call(this, a);\n        this.oe(a, this.bi);\n    };\n    HighDensityScatterSeries.prototype.oe = function (a, b) {\n        if (this.cc(b)) {\n            return;\n        }\n        if (this.l5 == null && !this.mn) {\n            var c = new List$1(KDPointData.$, 2, this.me.count);\n            var d = this.l7;\n            var e = this.l9;\n            var f = new Rect(0, 0, 0, 1, 1);\n            var g = new Rect(0, 0, 0, 1, 1);\n            var h = new ScalerParams(1, f, g, d.b8);\n            var i = new ScalerParams(1, f, g, e.b8);\n            var j_1;\n            var k_1;\n            var _loop_1 = function (l) {\n                j_1 = d.dw(this_1.me.item(l), h);\n                k_1 = e.dw(this_1.mg.item(l), i);\n                if (!isNaN_(j_1) && !isNaN_(k_1) && !isInfinity(j_1) && !isInfinity(k_1)) {\n                    c.add(((function () {\n                        var $ret = new KDPointData();\n                        $ret.a = j_1;\n                        $ret.b = k_1;\n                        $ret.c = l;\n                        return $ret;\n                    })()));\n                }\n            };\n            var this_1 = this;\n            for (var l = 0; l < this.me.count; l++) {\n                _loop_1(l);\n            }\n            if (this.mm) {\n                this.nh = 1;\n                this.ni = truncate(logBase(c.count, 2)) + 3;\n                this.ns = truncate(((this.nh / this.ni) * 100));\n                if (this.progressiveLoadStatusChanged != null) {\n                    this.progressiveLoadStatusChanged(this, new ProgressiveLoadStatusEventArgs(this.ns));\n                }\n                this.l5 = KDTree2D.b(c.toArray(), 1);\n                var m = this.l5;\n                m.progressiveThunkCompleted = delegateCombine(m.progressiveThunkCompleted, runOn(this, this.n9));\n                if (!this.l5.f(this.e4)) {\n                    var n = this.l5;\n                    n.progressiveThunkCompleted = delegateRemove(n.progressiveThunkCompleted, runOn(this, this.n9));\n                }\n                this.ik();\n            }\n            else {\n                var o = dateNow();\n                this.l5 = new KDTree2D(0, c.toArray(), 1);\n                var p = dateNow();\n            }\n        }\n        if (this.mm && !this.mn) {\n            this.of(b);\n        }\n        else {\n            this.og(b);\n        }\n    };\n    HighDensityScatterSeries.prototype.hy = function (a, b, c, d) {\n        _super.prototype.hy.call(this, a, b, c, d);\n        this.ol();\n        var e = false;\n        if (this.l7 != null && !this.l7.cl()) {\n            e = true;\n        }\n        if (this.l9 != null && !this.l9.cl()) {\n            e = true;\n        }\n        if (e) {\n            this.jd(false);\n        }\n        this.il();\n    };\n    HighDensityScatterSeries.prototype.ob = function (a) {\n        var b = a;\n        var c = this.nk * this.nj;\n        if (this.mj) {\n            if (this._itemIndexes == null || this._itemIndexes.length != c) {\n                this._itemIndexes = new Array(c);\n                for (var d = 0; d < c; d++) {\n                    this._itemIndexes[d] = 0;\n                }\n            }\n            else {\n                for (var e = 0; e < c; e++) {\n                    this._itemIndexes[e] = 0;\n                }\n            }\n        }\n    };\n    HighDensityScatterSeries.prototype.og = function (a) {\n        var b;\n        var c;\n        var d = null;\n        if (a.n) {\n            d = this._itemIndexes;\n        }\n        var e = a.getViewInfo(c, b);\n        c = e.p0;\n        b = e.p1;\n        var f = a;\n        var g = this.getEffectiveViewport1(a);\n        this.ma = new ScalerParams(0, b, c, this.l6.b8, g);\n        this.mb = new ScalerParams(0, b, c, this.l8.b8, g);\n        this.oa(a);\n        this.ob(a);\n        var h = this.nk * this.nj;\n        if (this.l3 == null || this.l3.length != h) {\n            this.l3 = new Array(h);\n            this.l0 = new Array(h);\n        }\n        var i = this.l3.length;\n        var j = this.l3;\n        var k = this.l0;\n        for (var l = 0; l < i; l++) {\n            j[l] = 0;\n            k[l] = 0;\n        }\n        this.no = truncate(Math.round(this.eu));\n        this.l2 = f.bv();\n        var m = this.l2.length;\n        var n = this.l2;\n        for (var o = 0; o < m; o++) {\n            n[o] = 0;\n        }\n        var p = this.nf;\n        var q = this.ne;\n        if (isNaN_(p) || isInfinity(p)) {\n            p = 0;\n        }\n        if (isNaN_(q) || isInfinity(q)) {\n            q = 50;\n        }\n        this.mu = Math.min(p, q);\n        this.mt = Math.max(p, q);\n        if (this.mu < 0) {\n            this.mu = 0;\n        }\n        if (this.mt < 0) {\n            this.mt = 0;\n        }\n        this.mv = this.mt - this.mu;\n        if (this.mn) {\n            this.od(a);\n        }\n        else {\n            this.on(a);\n        }\n        f.b6();\n        if (a.n) {\n            this._itemIndexes = d;\n            this.l4.b7();\n        }\n    };\n    HighDensityScatterSeries.prototype.of = function (a) {\n        if (this.l5 == null) {\n            return;\n        }\n        this.og(a);\n    };\n    HighDensityScatterSeries.prototype.n9 = function (a, b) {\n        var _this = this;\n        this.l4.b5(function () {\n            if (_this.nh < _this.ni - 1) {\n                _this.nh++;\n            }\n            _this.ns = truncate(((_this.nh / _this.ni) * 100));\n            if (_this.progressiveLoadStatusChanged != null) {\n                _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ns));\n            }\n            _this.of(_this.bi);\n            _this.ik();\n            if (_this.l5 != null) {\n                if (!_this.l5.f(_this.e4)) {\n                    var c = _this.l5;\n                    c.progressiveThunkCompleted = delegateRemove(c.progressiveThunkCompleted, runOn(_this, _this.n9));\n                    _this.ns = 100;\n                    if (_this.progressiveLoadStatusChanged != null) {\n                        _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ns));\n                    }\n                }\n            }\n        });\n    };\n    HighDensityScatterSeries.prototype.od = function (a) {\n        var b = arrayShallowClone(this.me.asArray());\n        this.l7.gn(boxArray$1(b), 0, b.length, this.ma);\n        var c = arrayShallowClone(this.mg.asArray());\n        this.nn = 0;\n        var d = this.nl;\n        var e = this.mh;\n        var f = this.l3.length;\n        this.l9.gn(boxArray$1(c), 0, c.length, this.mb);\n        var g = 255 << 24 | truncate(this.m1) << 16 | truncate(this.m0) << 8 | truncate(this.mz);\n        for (var h = 0; h < b.length; h++) {\n            var i = truncate(b[h]);\n            var j = truncate(c[h]);\n            i = truncate(Math.floor(i));\n            j = truncate(Math.floor(j));\n            if (i < 0 || i >= this.nk || j < 0 || j >= this.nj) {\n                continue;\n            }\n            if (e) {\n                var k = i - d;\n                var l = i + d;\n                l = l > (this.nk - 1) ? (this.nk - 1) : l;\n                k = k < 0 ? 0 : k;\n                var m = j + d;\n                var n = j - d;\n                for (var o = k; o <= l; o++) {\n                    for (var p = n; p <= m; p++) {\n                        var q = (p * this.nk) + o;\n                        if (q < 0 || q > f - 1) {\n                            continue;\n                        }\n                        this.l3[q] = this.l3[q] + 1;\n                        this.l0[q] = 1;\n                        this.nn++;\n                        if (this.mj) {\n                            this._itemIndexes[q] = h + 1;\n                        }\n                    }\n                }\n            }\n            else {\n                var r = (j * this.nk) + i;\n                this.l3[r] = this.l3[r] + 1;\n                this.l0[r] = 1;\n                this.nn++;\n                if (this.mj) {\n                    this._itemIndexes[r] = h + 1;\n                }\n            }\n        }\n        this.oh();\n    };\n    HighDensityScatterSeries.prototype.on = function (a) {\n        var b;\n        var c;\n        var d = a.getViewInfo(b, c);\n        b = d.p0;\n        c = d.p1;\n        if (this.l5 == null) {\n            return;\n        }\n        if (this.mo == null) {\n            this.mo = new List$1(KDTreeNode2D.$, 2, truncate(Math.round(b.width * b.height)));\n        }\n        else {\n            this.mo.clear();\n        }\n        var e = c.left;\n        var f = c.right;\n        var g = c.top;\n        var h = c.bottom;\n        this.nb = c.top;\n        this.m9 = c.height;\n        this.na = c.left;\n        this.nc = c.width;\n        this.m7 = b.top;\n        this.m5 = b.height;\n        this.m6 = b.left;\n        this.m8 = b.width;\n        var i = this.getEffectiveViewport1(a);\n        this.mq = (i.left - this.m6) / this.m8;\n        this.mr = (i.top - this.m7) / this.m5;\n        var j = (i.right - this.m6) / this.m8;\n        this.ms = j - this.mq;\n        var k = (i.bottom - this.m7) / this.m5;\n        this.mp = k - this.mr;\n        if (this.mi) {\n            e = (e - this.mq) / this.ms;\n            f = (f - this.mq) / this.ms;\n            g = (g - this.mr) / this.mp;\n            h = (h - this.mr) / this.mp;\n        }\n        var l = this.eu / b.width * c.width;\n        var m = this.eu / b.height * c.height;\n        var n = Math.min(l, m);\n        var o = ((function () {\n            var $ret = new SearchArgs();\n            $ret.c = e;\n            $ret.a = f;\n            $ret.d = g;\n            $ret.b = h;\n            $ret.e = l;\n            $ret.f = m;\n            $ret.g = 0x7FFFFFFF;\n            return $ret;\n        })());\n        this.l5.t(this.mo, o, 0, 1, 0, 1);\n        var p;\n        this.nn = 0;\n        for (var q = 0; q < this.mo.count; q++) {\n            p = this.mo._inner[q];\n            this.oi(p);\n        }\n        this.oh();\n    };\n    HighDensityScatterSeries.prototype.oi = function (a) {\n        if (a.g) {\n            return;\n        }\n        var b = a.e != null && a.e.a;\n        var c = a.a == null ? 0 : a.a.length;\n        var d = (a.h - c) + 1;\n        if (b && d > 0) {\n        }\n        else {\n            d = 1;\n        }\n        this.ok(a.b, d, b, a.e);\n        if (c > 0 && !b) {\n            var e = void 0;\n            for (var f = 0; f < c; f++) {\n                e = a.a[f];\n                this.ok(e, d, false, a.e);\n            }\n        }\n        if (a.e != null) {\n            a.e.a = false;\n        }\n    };\n    HighDensityScatterSeries.prototype.c9 = function (a) {\n        var b = this.bs != null ? this.bs.mq : Rect.empty;\n        var c = this.bs != null ? this.bs.m3 : Rect.empty;\n        var d = new Rect(0, 0, 0, 1, 1);\n        var e = this.ls(this.bi);\n        var f = new ScalerParams(0, d, d, this.l7.b8, e);\n        var g = new ScalerParams(0, d, d, this.l9.b8, e);\n        var h = !b.isEmpty && !c.isEmpty && this.bz != null ? this.bz.indexOf(a) : -1;\n        var i = this.l7 != null && this.me != null && h < this.me.count ? this.l7.dw(this.me.item(h), f) : NaN;\n        var j = this.l9 != null && this.mg != null && h < this.mg.count ? this.l9.dw(this.mg.item(h), g) : NaN;\n        if (!isNaN_(i)) {\n            if (i < b.left + 0.1 * b.width) {\n                i = i + 0.4 * b.width;\n                b.x = i - 0.5 * b.width;\n            }\n            if (i > b.right - 0.1 * b.width) {\n                i = i - 0.4 * b.width;\n                b.x = i - 0.5 * b.width;\n            }\n        }\n        if (!isNaN_(j)) {\n            if (j < b.top + 0.1 * b.height) {\n                j = j + 0.4 * b.height;\n                b.y = j - 0.5 * b.height;\n            }\n            if (j > b.bottom - 0.1 * b.height) {\n                j = j - 0.4 * b.height;\n                b.y = j - 0.5 * b.height;\n            }\n        }\n        if (this.bn != null) {\n            this.bn.ap(this.bs, b, true);\n        }\n        return h >= 0;\n    };\n    HighDensityScatterSeries.prototype.ok = function (a, b, c, d) {\n        var e = this.nq(b);\n        var f = a.c;\n        var g = this.nl;\n        if (c) {\n            var h = d.d;\n            var i = d.b;\n            var j = d.e;\n            var k = d.c;\n            if (this.mi) {\n                h = this.mq + this.ms * h;\n                i = this.mq + this.ms * i;\n                j = this.mr + this.mp * j;\n                k = this.mr + this.mp * k;\n            }\n            var l = truncate((this.m6 + this.m8 * (h - this.na) / this.nc));\n            var m = truncate((this.m6 + this.m8 * (i - this.na) / this.nc));\n            var n = truncate((this.m7 + this.m5 * (j - this.nb) / this.m9));\n            var o = truncate((this.m7 + this.m5 * (k - this.nb) / this.m9));\n            l = truncate(Math.floor(l));\n            m = truncate(Math.floor(m));\n            n = truncate(Math.floor(n));\n            o = truncate(Math.floor(o));\n            if (this.mh) {\n                l -= g;\n                m += g;\n                n -= g;\n                o += g;\n            }\n            var p = ((m - l) + 1) * ((o - n) + 1);\n            var q = b / p;\n            var r = q;\n            for (var s = l; s <= m; s++) {\n                for (var t = n; t <= o; t++) {\n                    this.oj(f, s, t, q, r);\n                }\n            }\n        }\n        else {\n            var u = a.a;\n            var v = a.b;\n            if (this.mi) {\n                u = this.mq + this.ms * u;\n                v = this.mr + this.mp * v;\n            }\n            var w = truncate((this.m6 + this.m8 * (u - this.na) / this.nc));\n            var x = truncate((this.m7 + this.m5 * (v - this.nb) / this.m9));\n            w = truncate(Math.floor(w));\n            x = truncate(Math.floor(x));\n            if (this.mh) {\n                var y = w - g;\n                var z = w + g;\n                var aa = x + g;\n                var ab = x - g;\n                var ac = ((z - y) + 1) * ((aa - ab) + 1);\n                var ad = b / ac;\n                var ae = ad;\n                for (var af = y; af <= z; af++) {\n                    for (var ag = ab; ag <= aa; ag++) {\n                        this.oj(f, af, ag, ad, ae);\n                    }\n                }\n            }\n            else {\n                this.oj(f, w, x, b, 1);\n            }\n        }\n    };\n    HighDensityScatterSeries.prototype.np = function (a, b) {\n        return truncate((Math.floor(255 * b))) << 24 | truncate(Math.floor(b * (this.m1 + a * this.m4))) << 16 | truncate(Math.floor(b * (this.m0 + a * this.m3))) << 8 | truncate(Math.floor(b * (this.mz + a * this.m2)));\n    };\n    HighDensityScatterSeries.prototype.nq = function (a) {\n        return 255 << 24 | truncate(Math.floor((this.m1 + a * this.m4))) << 16 | truncate(Math.floor((this.m0 + a * this.m3))) << 8 | truncate(Math.floor((this.mz + a * this.m2)));\n    };\n    HighDensityScatterSeries.prototype.nd = function (a) {\n        return (a >> 24 & 255) / 255;\n    };\n    HighDensityScatterSeries.prototype.oj = function (a, b, c, d, e) {\n        if (b < 0 || b >= this.nk || c < 0 || c >= this.nj) {\n            return;\n        }\n        var f = (c * this.nk) + b;\n        this.l3[f] = this.l3[f] + d;\n        this.l0[f] = this.l0[f] + e;\n        if (this.mj) {\n            this._itemIndexes[f] = a + 1;\n        }\n        this.nn += truncate(d);\n    };\n    HighDensityScatterSeries.prototype.oh = function () {\n        var a = 0;\n        var b = 0;\n        var c = this.mv;\n        var d = this.mu;\n        var e = this.mt;\n        var f = this.l3.length;\n        var g = this.l3;\n        var h = this.l0;\n        var i = this.l2;\n        var j = NaN;\n        var k = NaN;\n        var l = 0;\n        var m = 0;\n        for (var n = 0; n < f; n++) {\n            a = g[n];\n            if (a != 0) {\n                b = h[n];\n                if (a >= e) {\n                    a = 1;\n                }\n                else if (a <= d) {\n                    a = 0;\n                }\n                else {\n                    a = (a - d) / (c);\n                }\n                if (b > 1) {\n                    b = 1;\n                }\n                if (b < 0.2) {\n                    b = 0.2;\n                }\n                if (j != a || k != b) {\n                    l = this.np(a, b);\n                    j = a;\n                    k = b;\n                }\n                i[m] = l >> 16 & 255;\n                i[m + 1] = l >> 8 & 255;\n                i[m + 2] = l & 255;\n                i[m + 3] = l >> 24 & 255;\n            }\n            m += 4;\n        }\n    };\n    HighDensityScatterSeries.prototype.oa = function (a) {\n        var b = a;\n        b.b3();\n    };\n    HighDensityScatterSeries.prototype.bf = function () {\n        return new HighDensityScatterSeriesView(this);\n    };\n    HighDensityScatterSeries.prototype.iu = function (a) {\n        _super.prototype.iu.call(this, a);\n        this.l4 = a;\n    };\n    HighDensityScatterSeries.prototype.an = function (a) {\n        if (a != null && a == this.l7 && this.me != null) {\n            return new AxisRange(this.me.minimum, this.me.maximum);\n        }\n        if (a != null && a == this.l9 && this.mg != null) {\n            return new AxisRange(this.mg.minimum, this.mg.maximum);\n        }\n        return null;\n    };\n    HighDensityScatterSeries.prototype.js = function (a, b) {\n        if (this.bs != null) {\n            var c = this.getEffectiveViewport1(this.bi);\n            this.mi = !c.isEmpty;\n        }\n        this.jd(false);\n    };\n    HighDensityScatterSeries.prototype.jt = function (a, b) {\n        this.jd(false);\n    };\n    HighDensityScatterSeries.prototype.fp = function (a) {\n        if (!this.mj || this._itemIndexes == null || this.bs == null || this.bz == null || this._itemIndexes.length != (this.nk * this.nj)) {\n            return null;\n        }\n        var b = this.bs.mq;\n        var c = (a.x - b.left) / b.width;\n        var d = (a.y - b.top) / b.height;\n        var e = truncate(Math.round(this.ly.left + (this.ly.width * c)));\n        var f = truncate(Math.round(this.ly.top + (this.ly.height * d)));\n        var g = this.nt(e, f);\n        if (g < 0 || g > this._itemIndexes.length - 1) {\n            return null;\n        }\n        var h = this._itemIndexes[g] - 1;\n        if (h < 0 || h > this.bz.count) {\n            return null;\n        }\n        return this.bz.item(h);\n    };\n    HighDensityScatterSeries.prototype.nt = function (a, b) {\n        var c = (this.nk * b) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        var d = 1;\n        c = (this.nk * (b - d)) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b + d)) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b - d)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b + d)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b - d)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.nk * (b + d)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        return 0;\n    };\n    HighDensityScatterSeries.prototype.om = function (a, b, c) {\n        this.l2 = a;\n        this.nk = b;\n        this.nj = c;\n    };\n    HighDensityScatterSeries.prototype.get_dq = function () {\n        return true;\n    };\n    HighDensityScatterSeries.prototype.set_dq = function (a) {\n        _super.prototype.set_dq.call(this, a);\n    };\n    HighDensityScatterSeries.prototype.hv = function (a, b) {\n        _super.prototype.hv.call(this, a, b);\n        this.l4.b4();\n        if (this.bh != null) {\n            this.bh.b4();\n        }\n        this.ik();\n    };\n    HighDensityScatterSeries.prototype.jf = function (a, b) {\n        _super.prototype.jf.call(this, a, b);\n        if (!this.dl) {\n            this.bi.az(b);\n            return;\n        }\n        this.bi.az(b);\n        if (this.cc(this.bh)) {\n            return;\n        }\n        var c = typeCast(HighDensityScatterSeriesView.$, this.bh);\n        var d = new ScatterFrame();\n        this.oe(false, c);\n        this.dl = false;\n    };\n    HighDensityScatterSeries.prototype.jc = function (a, b, c, d, e) {\n        _super.prototype.jc.call(this, a, b, c, d, e);\n        var f = this.a0.a$h.item(d);\n        var g = f;\n        f.ay(c);\n        if (this.cc(g)) {\n            return;\n        }\n        if (this.mc == null) {\n            this.mc = new ScatterFrame();\n        }\n        this.oe(false, f);\n    };\n    HighDensityScatterSeries.prototype.ht = function () {\n        _super.prototype.ht.call(this);\n        this.l7 = null;\n        this.l9 = null;\n    };\n    HighDensityScatterSeries.$t = markType(HighDensityScatterSeries, 'HighDensityScatterSeries', Series.$);\n    HighDensityScatterSeries.$$p = markDep(DependencyProperty, PropertyMetadata, HighDensityScatterSeries, 'raisePropertyChanged', ['HeatMaximumColor:oz:oo', [Color.$, null], 'HeatMaximum:ne:op', [1, 50], 'HeatMinimumColor:o0:oq', [Color.$, null], 'HeatMinimum:nf:or', [1, 0], 'PointExtent:nr:os', [1, 1], 'ProgressiveLoad:mm:ot', [0, true], 'UseBruteForce:mn:ou', [0, false], 'XAxis:l7:ov', [NumericXAxis.$, null], 'XMemberPath:n3:ow', [2, null], 'YAxis:l9:ox', [NumericYAxis.$, null], 'YMemberPath:n7:oy', [2, null]]);\n    return HighDensityScatterSeries;\n}(Series));\nexport { HighDensityScatterSeries };\n/**\n * @hidden\n */\nvar HighDensityScatterSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(HighDensityScatterSeriesView, _super);\n    function HighDensityScatterSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.bw = null;\n        _this.bu = null;\n        _this.b2 = 0;\n        _this.b1 = 0;\n        _this.bz = null;\n        _this.b0 = null;\n        _this.bx = null;\n        _this.bw = a;\n        return _this;\n    }\n    HighDensityScatterSeriesView.prototype.ap = function () {\n        _super.prototype.ap.call(this);\n        if (!this.n) {\n            this.e.eu = 4;\n            this.bw.o0 = Color.u(255, 0, 0, 0);\n            this.bw.oz = Color.u(255, 255, 0, 0);\n        }\n    };\n    HighDensityScatterSeriesView.prototype.b7 = function () {\n        this.bw.om(this.bu, this.b2, this.b1);\n    };\n    HighDensityScatterSeriesView.prototype.b3 = function () {\n        if (this.bz == null) {\n            this.bz = this.e.e4.createElement(\"canvas\");\n            var a = this.e.e4.get2DCanvasContext(this.bz);\n            this.bx = new RenderingContext(new CanvasViewRenderer(), a);\n        }\n        var b;\n        if (this.m) {\n            b = this.br;\n        }\n        else {\n            b = this.e.bs.mv();\n        }\n        var c = truncate(Math.round(b.left));\n        var d = truncate(Math.round(b.top));\n        var e = truncate(Math.round(b.width));\n        var f = truncate(Math.round(b.height));\n        var g = this.b2;\n        var h = this.b1;\n        this.b2 = e;\n        this.b1 = f;\n        if (g != this.b2 || h != this.b1 || this.bu == null) {\n            this.bz.setAttribute(\"width\", e.toString());\n            this.bz.setAttribute(\"height\", f.toString());\n            this.b0 = this.bx.g().getImageData(0, 0, e, f);\n            var imageDataArray_ = this.b0.data;\n            this.bu = imageDataArray_;\n        }\n        this.bw.om(this.bu, this.b2, this.b1);\n    };\n    HighDensityScatterSeriesView.prototype.bv = function () {\n        return this.bu;\n    };\n    HighDensityScatterSeriesView.prototype.b6 = function () {\n        var a = truncate(Math.round(this.br.left));\n        var b = truncate(Math.round(this.br.left));\n        var c = truncate(Math.round(this.br.width));\n        var d = truncate(Math.round(this.br.height));\n        this.bx.g().putImageData(this.b0, 0, 0);\n        this.an();\n    };\n    HighDensityScatterSeriesView.prototype.b5 = function (a) {\n        if (this.e.e4 != null) {\n            this.e.e4.setTimeout(a, 0);\n        }\n        else {\n            window.setTimeout(a, 0);\n        }\n    };\n    HighDensityScatterSeriesView.prototype.a3 = function (a, b) {\n        _super.prototype.a3.call(this, a, b);\n        if (b) {\n            if (!this.bw.c7) {\n                return;\n            }\n            var c = new Rectangle();\n            c.n = this.br.left;\n            c.o = this.br.top;\n            c.width = this.br.width;\n            c.height = this.br.height;\n            c._fill = this.bl();\n            a.v(c);\n            return;\n        }\n        if (this.bz == null) {\n            return;\n        }\n        var d = truncate(Math.round(this.br.left));\n        var e = truncate(Math.round(this.br.top));\n        var f = truncate(Math.round(this.br.width));\n        var g = truncate(Math.round(this.br.height));\n        this.h.n(this.bz.getNativeElement(), this.e._opacity, d, e, f, g, d, e, f, g);\n    };\n    HighDensityScatterSeriesView.prototype.by = function (a, b) {\n        return Color.e(toNullable(Color.$, a), toNullable(Color.$, null)) && Color.e(toNullable(Color.$, b), toNullable(Color.$, null));\n    };\n    HighDensityScatterSeriesView.prototype.b4 = function () {\n        if (this.bu != null) {\n            for (var a = 0; a < this.bu.length; a++) {\n                this.bu[a] = 0;\n            }\n            this.b6();\n        }\n    };\n    HighDensityScatterSeriesView.prototype.ai = function (a) {\n        _super.prototype.ai.call(this, a);\n        if (this.bu == null) {\n            this.e.a2.exportSeriesPixelsData(a, null, this.b2, this.b1);\n            return;\n        }\n        var b = new Array(intDivide(this.bu.length, 4));\n        var c;\n        for (var d = 0; d < intDivide(this.bu.length, 4); d++) {\n            c = d * 4;\n            b[d] = this.bu[c + 3] << 24 | this.bu[c] << 16 | this.bu[c + 1] << 8 | this.bu[c + 2];\n        }\n        this.e.a2.exportSeriesPixelsData(a, b, this.b2, this.b1);\n    };\n    HighDensityScatterSeriesView.$t = markType(HighDensityScatterSeriesView, 'HighDensityScatterSeriesView', SeriesView.$);\n    return HighDensityScatterSeriesView;\n}(SeriesView));\nexport { HighDensityScatterSeriesView };\n//# sourceMappingURL=HighDensityScatterSeries_combined.js.map\n"]},"metadata":{},"sourceType":"module"}