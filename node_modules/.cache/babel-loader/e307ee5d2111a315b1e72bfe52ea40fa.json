{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _d = require('d3');\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _Chart = require('./Chart');\n\nvar _Chart2 = _interopRequireDefault(_Chart);\n\nvar _Axis = require('./Axis');\n\nvar _Axis2 = _interopRequireDefault(_Axis);\n\nvar _Path = require('./Path');\n\nvar _Path2 = _interopRequireDefault(_Path);\n\nvar _Tooltip = require('./Tooltip');\n\nvar _Tooltip2 = _interopRequireDefault(_Tooltip);\n\nvar _DefaultPropsMixin = require('./DefaultPropsMixin');\n\nvar _DefaultPropsMixin2 = _interopRequireDefault(_DefaultPropsMixin);\n\nvar _HeightWidthMixin = require('./HeightWidthMixin');\n\nvar _HeightWidthMixin2 = _interopRequireDefault(_HeightWidthMixin);\n\nvar _ArrayifyMixin = require('./ArrayifyMixin');\n\nvar _ArrayifyMixin2 = _interopRequireDefault(_ArrayifyMixin);\n\nvar _StackAccessorMixin = require('./StackAccessorMixin');\n\nvar _StackAccessorMixin2 = _interopRequireDefault(_StackAccessorMixin);\n\nvar _StackDataMixin = require('./StackDataMixin');\n\nvar _StackDataMixin2 = _interopRequireDefault(_StackDataMixin);\n\nvar _DefaultScalesMixin = require('./DefaultScalesMixin');\n\nvar _DefaultScalesMixin2 = _interopRequireDefault(_DefaultScalesMixin);\n\nvar _TooltipMixin = require('./TooltipMixin');\n\nvar _TooltipMixin2 = _interopRequireDefault(_TooltipMixin);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar array = _propTypes2.default.array,\n    func = _propTypes2.default.func,\n    string = _propTypes2.default.string;\nvar DataSet = (0, _createReactClass2.default)({\n  displayName: 'DataSet',\n  propTypes: {\n    data: array.isRequired,\n    area: func.isRequired,\n    line: func.isRequired,\n    colorScale: func.isRequired,\n    stroke: func.isRequired\n  },\n  render: function render() {\n    var _props = this.props,\n        data = _props.data,\n        area = _props.area,\n        colorScale = _props.colorScale,\n        values = _props.values,\n        label = _props.label,\n        onMouseEnter = _props.onMouseEnter,\n        onMouseLeave = _props.onMouseLeave;\n    var areas = data.map(function (stack, index) {\n      return _react2.default.createElement(_Path2.default, {\n        key: label(stack) + '.' + index,\n        className: 'area',\n        stroke: 'none',\n        fill: colorScale(label(stack)),\n        d: area(values(stack)),\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        data: data\n      });\n    });\n    return _react2.default.createElement('g', null, areas);\n  }\n});\nvar AreaChart = (0, _createReactClass2.default)({\n  displayName: 'AreaChart',\n  mixins: [_DefaultPropsMixin2.default, _HeightWidthMixin2.default, _ArrayifyMixin2.default, _StackAccessorMixin2.default, _StackDataMixin2.default, _DefaultScalesMixin2.default, _TooltipMixin2.default],\n  propTypes: {\n    interpolate: string,\n    stroke: func\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      interpolate: 'linear',\n      stroke: _d2.default.scale.category20()\n    };\n  },\n  _tooltipHtml: function _tooltipHtml(d, position) {\n    var _props2 = this.props,\n        x = _props2.x,\n        y0 = _props2.y0,\n        y = _props2.y,\n        values = _props2.values,\n        label = _props2.label;\n    var xScale = this._xScale;\n    var yScale = this._yScale;\n    var xValueCursor = xScale.invert(position[0]);\n\n    var xBisector = _d2.default.bisector(function (e) {\n      return x(e);\n    }).right;\n\n    var xIndex = xBisector(values(d[0]), xScale.invert(position[0]));\n    xIndex = xIndex == values(d[0]).length ? xIndex - 1 : xIndex;\n    var xIndexRight = xIndex == values(d[0]).length ? xIndex - 1 : xIndex;\n    var xValueRight = x(values(d[0])[xIndexRight]);\n    var xIndexLeft = xIndex == 0 ? xIndex : xIndex - 1;\n    var xValueLeft = x(values(d[0])[xIndexLeft]);\n\n    if (Math.abs(xValueCursor - xValueRight) < Math.abs(xValueCursor - xValueLeft)) {\n      xIndex = xIndexRight;\n    } else {\n      xIndex = xIndexLeft;\n    }\n\n    var yValueCursor = yScale.invert(position[1]);\n\n    var yBisector = _d2.default.bisector(function (e) {\n      return y0(values(e)[xIndex]) + y(values(e)[xIndex]);\n    }).left;\n\n    var yIndex = yBisector(d, yValueCursor);\n    yIndex = yIndex == d.length ? yIndex - 1 : yIndex;\n    var yValue = y(values(d[yIndex])[xIndex]);\n    var yValueCumulative = y0(values(d[d.length - 1])[xIndex]) + y(values(d[d.length - 1])[xIndex]);\n    var xValue = x(values(d[yIndex])[xIndex]);\n    var xPos = xScale(xValue);\n    var yPos = yScale(y0(values(d[yIndex])[xIndex]) + yValue);\n    return [this.props.tooltipHtml(yValue, yValueCumulative, xValue, label(d[yIndex])), xPos, yPos];\n  },\n  render: function render() {\n    var _props3 = this.props,\n        height = _props3.height,\n        width = _props3.width,\n        margin = _props3.margin,\n        viewBox = _props3.viewBox,\n        preserveAspectRatio = _props3.preserveAspectRatio,\n        colorScale = _props3.colorScale,\n        interpolate = _props3.interpolate,\n        stroke = _props3.stroke,\n        values = _props3.values,\n        label = _props3.label,\n        x = _props3.x,\n        y = _props3.y,\n        y0 = _props3.y0,\n        xAxis = _props3.xAxis,\n        yAxis = _props3.yAxis,\n        yOrientation = _props3.yOrientation;\n    var data = this._data;\n    var innerWidth = this._innerWidth;\n    var innerHeight = this._innerHeight;\n    var xScale = this._xScale;\n    var yScale = this._yScale;\n\n    var line = _d2.default.svg.line().x(function (e) {\n      return xScale(x(e));\n    }).y(function (e) {\n      return yScale(y0(e) + y(e));\n    }).interpolate(interpolate);\n\n    var area = _d2.default.svg.area().x(function (e) {\n      return xScale(x(e));\n    }).y0(function (e) {\n      return yScale(yScale.domain()[0] + y0(e));\n    }).y1(function (e) {\n      return yScale(y0(e) + y(e));\n    }).interpolate(interpolate);\n\n    return _react2.default.createElement('div', null, _react2.default.createElement(_Chart2.default, {\n      height: height,\n      width: width,\n      margin: margin,\n      viewBox: viewBox,\n      preserveAspectRatio: preserveAspectRatio\n    }, _react2.default.createElement(DataSet, {\n      data: data,\n      line: line,\n      area: area,\n      colorScale: colorScale,\n      stroke: stroke,\n      label: label,\n      values: values,\n      onMouseEnter: this.onMouseEnter,\n      onMouseLeave: this.onMouseLeave\n    }), _react2.default.createElement(_Axis2.default, _extends({\n      className: 'x axis',\n      orientation: 'bottom',\n      scale: xScale,\n      height: innerHeight,\n      width: innerWidth\n    }, xAxis)), _react2.default.createElement(_Axis2.default, _extends({\n      className: 'y axis',\n      orientation: yOrientation ? yOrientation : 'left',\n      scale: yScale,\n      height: innerHeight,\n      width: innerWidth\n    }, yAxis)), this.props.children), _react2.default.createElement(_Tooltip2.default, this.state.tooltip));\n  }\n});\nexports.default = AreaChart;","map":{"version":3,"sources":["/Users/Parth/web-project/node_modules/react-d3-components/lib/AreaChart.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_createReactClass","_createReactClass2","_d","_d2","_Chart","_Chart2","_Axis","_Axis2","_Path","_Path2","_Tooltip","_Tooltip2","_DefaultPropsMixin","_DefaultPropsMixin2","_HeightWidthMixin","_HeightWidthMixin2","_ArrayifyMixin","_ArrayifyMixin2","_StackAccessorMixin","_StackAccessorMixin2","_StackDataMixin","_StackDataMixin2","_DefaultScalesMixin","_DefaultScalesMixin2","_TooltipMixin","_TooltipMixin2","obj","__esModule","default","array","func","string","DataSet","displayName","propTypes","data","isRequired","area","line","colorScale","stroke","render","_props","props","values","label","onMouseEnter","onMouseLeave","areas","map","stack","index","createElement","className","fill","d","AreaChart","mixins","interpolate","getDefaultProps","scale","category20","_tooltipHtml","position","_props2","x","y0","y","xScale","_xScale","yScale","_yScale","xValueCursor","invert","xBisector","bisector","e","right","xIndex","xIndexRight","xValueRight","xIndexLeft","xValueLeft","Math","abs","yValueCursor","yBisector","left","yIndex","yValue","yValueCumulative","xValue","xPos","yPos","tooltipHtml","_props3","height","width","margin","viewBox","preserveAspectRatio","xAxis","yAxis","yOrientation","_data","innerWidth","_innerWidth","innerHeight","_innerHeight","svg","domain","y1","orientation","children","state","tooltip"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _d = require('d3');\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _Chart = require('./Chart');\n\nvar _Chart2 = _interopRequireDefault(_Chart);\n\nvar _Axis = require('./Axis');\n\nvar _Axis2 = _interopRequireDefault(_Axis);\n\nvar _Path = require('./Path');\n\nvar _Path2 = _interopRequireDefault(_Path);\n\nvar _Tooltip = require('./Tooltip');\n\nvar _Tooltip2 = _interopRequireDefault(_Tooltip);\n\nvar _DefaultPropsMixin = require('./DefaultPropsMixin');\n\nvar _DefaultPropsMixin2 = _interopRequireDefault(_DefaultPropsMixin);\n\nvar _HeightWidthMixin = require('./HeightWidthMixin');\n\nvar _HeightWidthMixin2 = _interopRequireDefault(_HeightWidthMixin);\n\nvar _ArrayifyMixin = require('./ArrayifyMixin');\n\nvar _ArrayifyMixin2 = _interopRequireDefault(_ArrayifyMixin);\n\nvar _StackAccessorMixin = require('./StackAccessorMixin');\n\nvar _StackAccessorMixin2 = _interopRequireDefault(_StackAccessorMixin);\n\nvar _StackDataMixin = require('./StackDataMixin');\n\nvar _StackDataMixin2 = _interopRequireDefault(_StackDataMixin);\n\nvar _DefaultScalesMixin = require('./DefaultScalesMixin');\n\nvar _DefaultScalesMixin2 = _interopRequireDefault(_DefaultScalesMixin);\n\nvar _TooltipMixin = require('./TooltipMixin');\n\nvar _TooltipMixin2 = _interopRequireDefault(_TooltipMixin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar array = _propTypes2.default.array,\n    func = _propTypes2.default.func,\n    string = _propTypes2.default.string;\n\n\nvar DataSet = (0, _createReactClass2.default)({\n    displayName: 'DataSet',\n\n    propTypes: {\n        data: array.isRequired,\n        area: func.isRequired,\n        line: func.isRequired,\n        colorScale: func.isRequired,\n        stroke: func.isRequired\n    },\n\n    render: function render() {\n        var _props = this.props,\n            data = _props.data,\n            area = _props.area,\n            colorScale = _props.colorScale,\n            values = _props.values,\n            label = _props.label,\n            onMouseEnter = _props.onMouseEnter,\n            onMouseLeave = _props.onMouseLeave;\n\n\n        var areas = data.map(function (stack, index) {\n            return _react2.default.createElement(_Path2.default, {\n                key: label(stack) + '.' + index,\n                className: 'area',\n                stroke: 'none',\n                fill: colorScale(label(stack)),\n                d: area(values(stack)),\n                onMouseEnter: onMouseEnter,\n                onMouseLeave: onMouseLeave,\n                data: data\n            });\n        });\n\n        return _react2.default.createElement(\n            'g',\n            null,\n            areas\n        );\n    }\n});\n\nvar AreaChart = (0, _createReactClass2.default)({\n    displayName: 'AreaChart',\n\n    mixins: [_DefaultPropsMixin2.default, _HeightWidthMixin2.default, _ArrayifyMixin2.default, _StackAccessorMixin2.default, _StackDataMixin2.default, _DefaultScalesMixin2.default, _TooltipMixin2.default],\n\n    propTypes: {\n        interpolate: string,\n        stroke: func\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            interpolate: 'linear',\n            stroke: _d2.default.scale.category20()\n        };\n    },\n    _tooltipHtml: function _tooltipHtml(d, position) {\n        var _props2 = this.props,\n            x = _props2.x,\n            y0 = _props2.y0,\n            y = _props2.y,\n            values = _props2.values,\n            label = _props2.label;\n\n        var xScale = this._xScale;\n        var yScale = this._yScale;\n\n        var xValueCursor = xScale.invert(position[0]);\n\n        var xBisector = _d2.default.bisector(function (e) {\n            return x(e);\n        }).right;\n        var xIndex = xBisector(values(d[0]), xScale.invert(position[0]));\n        xIndex = xIndex == values(d[0]).length ? xIndex - 1 : xIndex;\n\n        var xIndexRight = xIndex == values(d[0]).length ? xIndex - 1 : xIndex;\n        var xValueRight = x(values(d[0])[xIndexRight]);\n\n        var xIndexLeft = xIndex == 0 ? xIndex : xIndex - 1;\n        var xValueLeft = x(values(d[0])[xIndexLeft]);\n\n        if (Math.abs(xValueCursor - xValueRight) < Math.abs(xValueCursor - xValueLeft)) {\n            xIndex = xIndexRight;\n        } else {\n            xIndex = xIndexLeft;\n        }\n\n        var yValueCursor = yScale.invert(position[1]);\n\n        var yBisector = _d2.default.bisector(function (e) {\n            return y0(values(e)[xIndex]) + y(values(e)[xIndex]);\n        }).left;\n        var yIndex = yBisector(d, yValueCursor);\n        yIndex = yIndex == d.length ? yIndex - 1 : yIndex;\n\n        var yValue = y(values(d[yIndex])[xIndex]);\n        var yValueCumulative = y0(values(d[d.length - 1])[xIndex]) + y(values(d[d.length - 1])[xIndex]);\n\n        var xValue = x(values(d[yIndex])[xIndex]);\n\n        var xPos = xScale(xValue);\n        var yPos = yScale(y0(values(d[yIndex])[xIndex]) + yValue);\n\n        return [this.props.tooltipHtml(yValue, yValueCumulative, xValue, label(d[yIndex])), xPos, yPos];\n    },\n    render: function render() {\n        var _props3 = this.props,\n            height = _props3.height,\n            width = _props3.width,\n            margin = _props3.margin,\n            viewBox = _props3.viewBox,\n            preserveAspectRatio = _props3.preserveAspectRatio,\n            colorScale = _props3.colorScale,\n            interpolate = _props3.interpolate,\n            stroke = _props3.stroke,\n            values = _props3.values,\n            label = _props3.label,\n            x = _props3.x,\n            y = _props3.y,\n            y0 = _props3.y0,\n            xAxis = _props3.xAxis,\n            yAxis = _props3.yAxis,\n            yOrientation = _props3.yOrientation;\n\n\n        var data = this._data;\n        var innerWidth = this._innerWidth;\n        var innerHeight = this._innerHeight;\n        var xScale = this._xScale;\n        var yScale = this._yScale;\n\n        var line = _d2.default.svg.line().x(function (e) {\n            return xScale(x(e));\n        }).y(function (e) {\n            return yScale(y0(e) + y(e));\n        }).interpolate(interpolate);\n\n        var area = _d2.default.svg.area().x(function (e) {\n            return xScale(x(e));\n        }).y0(function (e) {\n            return yScale(yScale.domain()[0] + y0(e));\n        }).y1(function (e) {\n            return yScale(y0(e) + y(e));\n        }).interpolate(interpolate);\n\n        return _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(\n                _Chart2.default,\n                { height: height, width: width, margin: margin, viewBox: viewBox, preserveAspectRatio: preserveAspectRatio },\n                _react2.default.createElement(DataSet, {\n                    data: data,\n                    line: line,\n                    area: area,\n                    colorScale: colorScale,\n                    stroke: stroke,\n                    label: label,\n                    values: values,\n                    onMouseEnter: this.onMouseEnter,\n                    onMouseLeave: this.onMouseLeave\n                }),\n                _react2.default.createElement(_Axis2.default, _extends({\n                    className: 'x axis',\n                    orientation: 'bottom',\n                    scale: xScale,\n                    height: innerHeight,\n                    width: innerWidth\n                }, xAxis)),\n                _react2.default.createElement(_Axis2.default, _extends({\n                    className: 'y axis',\n                    orientation: yOrientation ? yOrientation : 'left',\n                    scale: yScale,\n                    height: innerHeight,\n                    width: innerWidth\n                }, yAxis)),\n                this.props.children\n            ),\n            _react2.default.createElement(_Tooltip2.default, this.state.tooltip)\n        );\n    }\n});\n\nexports.default = AreaChart;"]},"metadata":{},"sourceType":"script"}