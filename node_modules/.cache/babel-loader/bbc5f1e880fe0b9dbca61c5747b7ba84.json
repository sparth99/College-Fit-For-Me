{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { FastItemDateTimeColumn } from \"igniteui-react-core\";\nimport { CategoryXAxis } from \"./CategoryXAxis\";\nimport { ITimeRangeSelectorAxis_$type } from \"./ITimeRangeSelectorAxis\";\nimport { TimeAxisLabelFormatCollection } from \"./TimeAxisLabelFormatCollection\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { EventArgs, runOn, delegateCombine, typeCast, Date_$type, markType } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { TimeAxisBase } from \"./TimeAxisBase\";\nimport { TimeXAxis } from \"./TimeXAxis\";\nimport { AxisRangeChangedEventArgs } from \"./AxisRangeChangedEventArgs\";\nimport { truncate } from \"igniteui-react-core\";\nimport { dateMaxValue, dateMinValue } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar OrdinalTimeXAxis =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(OrdinalTimeXAxis, _super);\n\n  function OrdinalTimeXAxis() {\n    var _this = _super.call(this) || this;\n\n    _this.lp = dateMaxValue();\n    _this.lo = dateMinValue();\n    _this.lt = dateMaxValue();\n    _this.ls = dateMinValue();\n    _this.ly = null;\n    _this.lm = null;\n    _this.lk = null;\n    _this.l5 = 0;\n    _this.lr = dateMinValue();\n    _this.lq = dateMaxValue();\n    _this.visibleRangeChanged = null;\n    FastItemDateTimeColumn.o();\n    _this.lk = new TimeAxisLabelFormatCollection();\n    var a = _this.ll;\n    a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.l7));\n    _this.lb = 0;\n    return _this;\n  }\n\n  OrdinalTimeXAxis.prototype.dy = function (a, b, c) {\n    return this.dw(a, new ScalerParams(0, b, c, this.b8, this.iw()));\n  };\n\n  OrdinalTimeXAxis.prototype.dx = function (a, b, c) {\n    return this.dw(a, b);\n  };\n\n  OrdinalTimeXAxis.prototype.dw = function (a, b) {\n    var c = this.la;\n    var d = this.lb;\n    var e = this.la - this.lb;\n    var f = e >= 1 ? (a - d) / (c - d) : e == 0 ? 0.5 : NaN;\n\n    if (this.b9) {\n      f = 1 - f;\n    }\n\n    var g = b.d;\n    var h = b.e;\n    return g.left + g.width * (f - h.left) / h.width;\n  };\n\n  OrdinalTimeXAxis.prototype.gm = function (a, b, c, d, e) {\n    var f = this.kw(a);\n    var g = f != null;\n\n    for (var h = 0; h < b.count; h++) {\n      for (var i = c; i < d; i++) {\n        var j = g ? f[i] : a.item(i);\n        j[h] = this.dw(j[h], e);\n      }\n    }\n  };\n\n  OrdinalTimeXAxis.prototype.gn = function (a, b, c, d) {\n    for (var e = b; e < c; e++) {\n      a.item(e, this.dw(a.item(e), d));\n    }\n  };\n\n  OrdinalTimeXAxis.prototype.d1 = function (a, b, c) {\n    return this.dz(a, new ScalerParams(0, b, this.i1, this.b8, this.iw()));\n  };\n\n  OrdinalTimeXAxis.prototype.getUnscaledValue3 = function (a, b, c, d) {\n    return this.dz(a, new ScalerParams(0, b, this.i1, this.b8, this.iw()));\n  };\n\n  OrdinalTimeXAxis.prototype.dz = function (a, b) {\n    var c = b.e;\n    var d = b.d;\n    var e = c.left + (a - d.left) * c.width / d.width;\n\n    if (this.b9) {\n      e = 1 - e;\n    }\n\n    return this.lb + e * (this.la - this.lb);\n  };\n\n  OrdinalTimeXAxis.prototype.d0 = function (a, b, c) {\n    return this.dz(a, b);\n  };\n\n  OrdinalTimeXAxis.prototype.go = function (a, b, c, d) {\n    for (var e = b; e < c; e++) {\n      a.item(e, this.dz(a.item(e), d));\n    }\n  };\n\n  OrdinalTimeXAxis.prototype.gu = function (a, b, c, d) {\n    _super.prototype.gu.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"FastItemsSource\":\n        var e = typeCast(IFastItemsSource_$type, c);\n\n        if (e != null) {\n          e.deregisterColumn(this.ln);\n          this.ln = null;\n        }\n\n        if (this.jf != null) {\n          this.ln = TimeAxisBase.kz(this.dateTimeMemberPath, this);\n        }\n\n        break;\n\n      case \"DateTimeMemberPath\":\n        if (this.jf != null) {\n          this.jf.deregisterColumn(this.ln);\n          this.ln = TimeAxisBase.kz(this.dateTimeMemberPath, this);\n        }\n\n        break;\n\n      case \"DateTimeColumn\":\n        this.cl();\n        this.l5 = this.l4();\n        break;\n\n      case \"MinimumValue\":\n      case \"MaximumValue\":\n        this.cl();\n        this.g5();\n        break;\n    }\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"actualMinimumValue\", {\n    get: function () {\n      return this.lp;\n    },\n    set: function (a) {\n      this.lp = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"actualMaximumValue\", {\n    get: function () {\n      return this.lo;\n    },\n    set: function (a) {\n      this.lo = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"visibleMinimum\", {\n    get: function () {\n      return this.lt;\n    },\n    set: function (a) {\n      this.lt = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"visibleMaximum\", {\n    get: function () {\n      return this.ls;\n    },\n    set: function (a) {\n      this.ls = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OrdinalTimeXAxis.prototype.l8 = function () {\n    if (this.ln == null || this.ln.count == 0 || this.ln.count < this.lb - 1) {\n      this.actualMinimumValue = dateMinValue();\n      this.actualMaximumValue = dateMaxValue();\n      return;\n    }\n\n    var a = Math.max(0, Math.min(this.lb, this.ln.count - 1));\n    var b = Math.max(0, Math.min(this.la, this.ln.count - 1));\n    var c = +this.actualMinimumValue != +this.ln.item(a) || +this.actualMaximumValue != +this.ln.item(b);\n\n    if (c) {\n      var d = this.actualMinimumValue;\n      var e = this.actualMaximumValue;\n      this.actualMinimumValue = this.ln.item(a);\n      this.actualMaximumValue = this.ln.item(b);\n      this.l9();\n    }\n  };\n\n  OrdinalTimeXAxis.prototype.l9 = function () {\n    if (this.ln == null || this.ln.count == 0 || this.bf == null) {\n      var a = +this.visibleMinimum != +this.actualMinimumValue || +this.visibleMaximum != +this.actualMaximumValue;\n      this.visibleMinimum = this.actualMinimumValue;\n      this.visibleMaximum = this.actualMaximumValue;\n\n      if (a && this.visibleRangeChanged != null) {\n        this.visibleRangeChanged(this, EventArgs.empty);\n      }\n\n      return;\n    }\n\n    var b = new ScalerParams(1, this.bf.m4, this.bf.m3, this.b8);\n    var c = truncate(Math.ceil(this.dz(this.bf.m3.left, b)));\n    var d = truncate(Math.ceil(this.dz(this.bf.m3.right, b)));\n    var e = c >= 0 && c < this.ln.count ? this.ln.item(c) : this.actualMinimumValue;\n    var f = d >= 0 && d < this.ln.count ? this.ln.item(d) : this.actualMaximumValue;\n    var g = +this.visibleMinimum != +e || +this.visibleMaximum != +f;\n    this.visibleMinimum = e;\n    this.visibleMaximum = f;\n\n    if (g && this.visibleRangeChanged != null) {\n      this.visibleRangeChanged(this, EventArgs.empty);\n    }\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"dateTimeMemberPath\", {\n    get: function () {\n      return this.ly;\n    },\n    set: function (a) {\n      var b = this.dateTimeMemberPath;\n\n      if (a != b) {\n        this.ly = a;\n        this.g0(\"DateTimeMemberPath\", b, this.dateTimeMemberPath);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"ln\", {\n    get: function () {\n      return this.lm;\n    },\n    set: function (a) {\n      if (this.lm != a) {\n        var b = this.lm;\n        this.lm = a;\n        this.g0(\"DateTimeColumn\", b, this.lm);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OrdinalTimeXAxis.prototype.hi = function (a, b) {\n    _super.prototype.hi.call(this, a, b);\n\n    this.l9();\n  };\n\n  OrdinalTimeXAxis.prototype.getWindowRectForSelection = function (a, b) {\n    if (this.ln == null) {\n      return Rect.empty;\n    }\n\n    var c = a > b;\n    var d = c ? b : a;\n    var e = c ? a : b;\n    var f = -1;\n\n    while (++f < this.ln.count && this.ln.item(f) < d) {\n      ;\n    }\n\n    var g = this.ln.count;\n\n    while (--g >= 0 && this.ln.item(g) > e) {\n      ;\n    }\n\n    var h = new ScalerParams(0, new Rect(0, 0, 0, 1, 1), new Rect(0, 0, 0, 1, 1), this.b8, this.bf.mu);\n    var i = this.dw(f, h);\n    var j = this.dw(g + 1, h);\n    return new Rect(0, i, NaN, Math.max(0, j - i), NaN);\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"ll\", {\n    get: function () {\n      return this.lk;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OrdinalTimeXAxis.prototype.l7 = function (a, b) {\n    this.g6(false);\n  };\n\n  OrdinalTimeXAxis.prototype.gw = function (a) {\n    _super.prototype.gw.call(this, a);\n\n    this.dateTimeMemberPath = a;\n  };\n\n  OrdinalTimeXAxis.prototype.e6 = function (a) {\n    if (this.ar != null) {\n      return this.ar(a);\n    }\n\n    if (!(typeCast(Date_$type, a) !== null)) {\n      return _super.prototype.e6.call(this, a);\n    }\n\n    var b = TimeXAxis.mn(a, this.l6, this.ll, this.er);\n    return b == null ? _super.prototype.e6.call(this, a) : b;\n  };\n\n  OrdinalTimeXAxis.prototype.fj = function (a) {\n    var b = 0;\n\n    if (this.categoryMode == 0) {\n      b = truncate(Math.round(a));\n    } else {\n      b = truncate(Math.floor(a));\n    }\n\n    if (b < 0 || b > this.jz - 1) {\n      return _super.prototype.fj.call(this, a);\n    }\n\n    var c = this.ln.item(b);\n    var d = this.e6(c);\n\n    if (d == null) {\n      return null;\n    }\n\n    return d.toString();\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"l6\", {\n    get: function () {\n      return +this.visibleMaximum - +this.visibleMinimum;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OrdinalTimeXAxis.prototype.ky = function () {\n    return this.ln;\n  };\n\n  OrdinalTimeXAxis.prototype.hh = function (a, b) {\n    _super.prototype.hh.call(this, a, b);\n\n    this.l9();\n  };\n\n  OrdinalTimeXAxis.prototype.k4 = function (a, b) {\n    var c = this.categoryMode == 0 ? 0 : 0.5;\n    return _super.prototype.k4.call(this, a + c, b);\n  };\n\n  OrdinalTimeXAxis.prototype.k3 = function (a, b, c, d) {\n    return b;\n  };\n\n  OrdinalTimeXAxis.prototype.l4 = function () {\n    var _this = this;\n\n    if (this.ln == null || this.ln.count < 2) {\n      return 0;\n    }\n\n    return TimeXAxis.mv(function (a) {\n      return _this.ln.item(a);\n    }, this.ln.count);\n  };\n\n  OrdinalTimeXAxis.prototype.itemLabelFormat = function () {\n    return TimeXAxis.ms(this.l5);\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"minimumValue\", {\n    get: function () {\n      return this.lr;\n    },\n    set: function (a) {\n      var b = this.minimumValue;\n\n      if (+a != +b) {\n        this.lr = a;\n        this.gu(this, \"MinimumValue\", b, this.minimumValue);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"maximumValue\", {\n    get: function () {\n      return this.lq;\n    },\n    set: function (a) {\n      var b = this.maximumValue;\n\n      if (+a != +b) {\n        this.lq = a;\n        this.gu(this, \"MaximumValue\", b, this.maximumValue);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OrdinalTimeXAxis.prototype.cn = function () {\n    if (+this.minimumValue == +dateMaxValue() || +this.maximumValue == +dateMinValue()) {\n      return _super.prototype.cn.call(this);\n    }\n\n    if (this.cg && this.co) {\n      this.a9 = this.a8();\n    }\n\n    if (this.jf == null || this.ln == null) {\n      return false;\n    }\n\n    var a = this.lb;\n\n    if (+this.minimumValue != +dateMinValue()) {\n      var b = -1;\n\n      while (b++ <= this.ln.count) {\n        if (this.ln.item(b) >= this.minimumValue) {\n          break;\n        }\n      }\n\n      a = b;\n    }\n\n    var c = this.categoryMode == 0 ? this.jf.count - 1 : this.jf.count;\n\n    if (+this.maximumValue != +dateMaxValue()) {\n      var d = this.jf.count;\n\n      while (d-- > 0) {\n        if (this.ln.item(d) <= this.maximumValue) {\n          break;\n        }\n      }\n\n      c = d;\n    }\n\n    if (a != this.lb || c != this.la) {\n      var e = new AxisRangeChangedEventArgs(0, this.lb, a, this.la, c);\n      this.lb = a;\n      this.la = c;\n      this.g1(e);\n      this.l8();\n      this.kb();\n      return true;\n    }\n\n    return false;\n  };\n\n  OrdinalTimeXAxis.prototype.kk = function (a) {\n    _super.prototype.kk.call(this, a);\n\n    this.cm(true);\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"isVertical\", {\n    get: function () {\n      return this.cf;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OrdinalTimeXAxis.prototype.j$c = function (a, b) {\n    return this.dz.apply(this, arguments);\n  };\n\n  OrdinalTimeXAxis.prototype.j$b = function (a, b) {\n    return this.dw.apply(this, arguments);\n  };\n\n  OrdinalTimeXAxis.prototype.j$d = function (a, b, c, d, e) {\n    this.gm.apply(this, arguments);\n  };\n\n  OrdinalTimeXAxis.prototype.j$e = function (a, b, c, d) {\n    this.gn.apply(this, arguments);\n  };\n\n  OrdinalTimeXAxis.prototype.j$f = function (a, b, c, d) {\n    this.go.apply(this, arguments);\n  };\n\n  Object.defineProperty(OrdinalTimeXAxis.prototype, \"j$a\", {\n    get: function () {\n      return this.b8;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  OrdinalTimeXAxis.$t = markType(OrdinalTimeXAxis, 'OrdinalTimeXAxis', CategoryXAxis.$, [ITimeRangeSelectorAxis_$type]);\n  return OrdinalTimeXAxis;\n}(CategoryXAxis);\n\nexport { OrdinalTimeXAxis };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/OrdinalTimeXAxis.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { FastItemDateTimeColumn } from \"igniteui-react-core\";\nimport { CategoryXAxis } from \"./CategoryXAxis\";\nimport { ITimeRangeSelectorAxis_$type } from \"./ITimeRangeSelectorAxis\";\nimport { TimeAxisLabelFormatCollection } from \"./TimeAxisLabelFormatCollection\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { EventArgs, runOn, delegateCombine, typeCast, Date_$type, markType } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { TimeAxisBase } from \"./TimeAxisBase\";\nimport { TimeXAxis } from \"./TimeXAxis\";\nimport { AxisRangeChangedEventArgs } from \"./AxisRangeChangedEventArgs\";\nimport { truncate } from \"igniteui-react-core\";\nimport { dateMaxValue, dateMinValue } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar OrdinalTimeXAxis = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(OrdinalTimeXAxis, _super);\n    function OrdinalTimeXAxis() {\n        var _this = _super.call(this) || this;\n        _this.lp = dateMaxValue();\n        _this.lo = dateMinValue();\n        _this.lt = dateMaxValue();\n        _this.ls = dateMinValue();\n        _this.ly = null;\n        _this.lm = null;\n        _this.lk = null;\n        _this.l5 = 0;\n        _this.lr = dateMinValue();\n        _this.lq = dateMaxValue();\n        _this.visibleRangeChanged = null;\n        FastItemDateTimeColumn.o();\n        _this.lk = new TimeAxisLabelFormatCollection();\n        var a = _this.ll;\n        a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.l7));\n        _this.lb = 0;\n        return _this;\n    }\n    OrdinalTimeXAxis.prototype.dy = function (a, b, c) {\n        return this.dw(a, new ScalerParams(0, b, c, this.b8, this.iw()));\n    };\n    OrdinalTimeXAxis.prototype.dx = function (a, b, c) {\n        return this.dw(a, b);\n    };\n    OrdinalTimeXAxis.prototype.dw = function (a, b) {\n        var c = this.la;\n        var d = this.lb;\n        var e = this.la - this.lb;\n        var f = e >= 1 ? (a - d) / (c - d) : e == 0 ? 0.5 : NaN;\n        if (this.b9) {\n            f = 1 - f;\n        }\n        var g = b.d;\n        var h = b.e;\n        return g.left + g.width * (f - h.left) / h.width;\n    };\n    OrdinalTimeXAxis.prototype.gm = function (a, b, c, d, e) {\n        var f = this.kw(a);\n        var g = f != null;\n        for (var h = 0; h < b.count; h++) {\n            for (var i = c; i < d; i++) {\n                var j = g ? f[i] : a.item(i);\n                j[h] = this.dw(j[h], e);\n            }\n        }\n    };\n    OrdinalTimeXAxis.prototype.gn = function (a, b, c, d) {\n        for (var e = b; e < c; e++) {\n            a.item(e, this.dw(a.item(e), d));\n        }\n    };\n    OrdinalTimeXAxis.prototype.d1 = function (a, b, c) {\n        return this.dz(a, new ScalerParams(0, b, this.i1, this.b8, this.iw()));\n    };\n    OrdinalTimeXAxis.prototype.getUnscaledValue3 = function (a, b, c, d) {\n        return this.dz(a, new ScalerParams(0, b, this.i1, this.b8, this.iw()));\n    };\n    OrdinalTimeXAxis.prototype.dz = function (a, b) {\n        var c = b.e;\n        var d = b.d;\n        var e = c.left + (a - d.left) * c.width / d.width;\n        if (this.b9) {\n            e = 1 - e;\n        }\n        return this.lb + e * (this.la - this.lb);\n    };\n    OrdinalTimeXAxis.prototype.d0 = function (a, b, c) {\n        return this.dz(a, b);\n    };\n    OrdinalTimeXAxis.prototype.go = function (a, b, c, d) {\n        for (var e = b; e < c; e++) {\n            a.item(e, this.dz(a.item(e), d));\n        }\n    };\n    OrdinalTimeXAxis.prototype.gu = function (a, b, c, d) {\n        _super.prototype.gu.call(this, a, b, c, d);\n        switch (b) {\n            case \"FastItemsSource\":\n                var e = typeCast(IFastItemsSource_$type, c);\n                if (e != null) {\n                    e.deregisterColumn(this.ln);\n                    this.ln = null;\n                }\n                if (this.jf != null) {\n                    this.ln = TimeAxisBase.kz(this.dateTimeMemberPath, this);\n                }\n                break;\n            case \"DateTimeMemberPath\":\n                if (this.jf != null) {\n                    this.jf.deregisterColumn(this.ln);\n                    this.ln = TimeAxisBase.kz(this.dateTimeMemberPath, this);\n                }\n                break;\n            case \"DateTimeColumn\":\n                this.cl();\n                this.l5 = this.l4();\n                break;\n            case \"MinimumValue\":\n            case \"MaximumValue\":\n                this.cl();\n                this.g5();\n                break;\n        }\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"actualMinimumValue\", {\n        get: function () {\n            return this.lp;\n        },\n        set: function (a) {\n            this.lp = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"actualMaximumValue\", {\n        get: function () {\n            return this.lo;\n        },\n        set: function (a) {\n            this.lo = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"visibleMinimum\", {\n        get: function () {\n            return this.lt;\n        },\n        set: function (a) {\n            this.lt = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"visibleMaximum\", {\n        get: function () {\n            return this.ls;\n        },\n        set: function (a) {\n            this.ls = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.prototype.l8 = function () {\n        if (this.ln == null || this.ln.count == 0 || this.ln.count < this.lb - 1) {\n            this.actualMinimumValue = dateMinValue();\n            this.actualMaximumValue = dateMaxValue();\n            return;\n        }\n        var a = Math.max(0, Math.min(this.lb, this.ln.count - 1));\n        var b = Math.max(0, Math.min(this.la, this.ln.count - 1));\n        var c = +(this.actualMinimumValue) != +(this.ln.item(a)) || +(this.actualMaximumValue) != +(this.ln.item(b));\n        if (c) {\n            var d = this.actualMinimumValue;\n            var e = this.actualMaximumValue;\n            this.actualMinimumValue = this.ln.item(a);\n            this.actualMaximumValue = this.ln.item(b);\n            this.l9();\n        }\n    };\n    OrdinalTimeXAxis.prototype.l9 = function () {\n        if (this.ln == null || this.ln.count == 0 || this.bf == null) {\n            var a = +(this.visibleMinimum) != +(this.actualMinimumValue) || +(this.visibleMaximum) != +(this.actualMaximumValue);\n            this.visibleMinimum = this.actualMinimumValue;\n            this.visibleMaximum = this.actualMaximumValue;\n            if (a && this.visibleRangeChanged != null) {\n                this.visibleRangeChanged(this, EventArgs.empty);\n            }\n            return;\n        }\n        var b = new ScalerParams(1, this.bf.m4, this.bf.m3, this.b8);\n        var c = truncate(Math.ceil(this.dz(this.bf.m3.left, b)));\n        var d = truncate(Math.ceil(this.dz(this.bf.m3.right, b)));\n        var e = c >= 0 && c < this.ln.count ? this.ln.item(c) : this.actualMinimumValue;\n        var f = d >= 0 && d < this.ln.count ? this.ln.item(d) : this.actualMaximumValue;\n        var g = +(this.visibleMinimum) != +e || +(this.visibleMaximum) != +f;\n        this.visibleMinimum = e;\n        this.visibleMaximum = f;\n        if (g && this.visibleRangeChanged != null) {\n            this.visibleRangeChanged(this, EventArgs.empty);\n        }\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"dateTimeMemberPath\", {\n        get: function () {\n            return this.ly;\n        },\n        set: function (a) {\n            var b = this.dateTimeMemberPath;\n            if (a != b) {\n                this.ly = a;\n                this.g0(\"DateTimeMemberPath\", b, this.dateTimeMemberPath);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"ln\", {\n        get: function () {\n            return this.lm;\n        },\n        set: function (a) {\n            if (this.lm != a) {\n                var b = this.lm;\n                this.lm = a;\n                this.g0(\"DateTimeColumn\", b, this.lm);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.prototype.hi = function (a, b) {\n        _super.prototype.hi.call(this, a, b);\n        this.l9();\n    };\n    OrdinalTimeXAxis.prototype.getWindowRectForSelection = function (a, b) {\n        if (this.ln == null) {\n            return Rect.empty;\n        }\n        var c = a > b;\n        var d = c ? b : a;\n        var e = c ? a : b;\n        var f = -1;\n        while (++f < this.ln.count && this.ln.item(f) < d) {\n            ;\n        }\n        var g = this.ln.count;\n        while (--g >= 0 && this.ln.item(g) > e) {\n            ;\n        }\n        var h = new ScalerParams(0, new Rect(0, 0, 0, 1, 1), new Rect(0, 0, 0, 1, 1), this.b8, this.bf.mu);\n        var i = this.dw(f, h);\n        var j = this.dw(g + 1, h);\n        return new Rect(0, i, NaN, Math.max(0, j - i), NaN);\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"ll\", {\n        get: function () {\n            return this.lk;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.prototype.l7 = function (a, b) {\n        this.g6(false);\n    };\n    OrdinalTimeXAxis.prototype.gw = function (a) {\n        _super.prototype.gw.call(this, a);\n        this.dateTimeMemberPath = a;\n    };\n    OrdinalTimeXAxis.prototype.e6 = function (a) {\n        if (this.ar != null) {\n            return this.ar(a);\n        }\n        if (!(typeCast(Date_$type, a) !== null)) {\n            return _super.prototype.e6.call(this, a);\n        }\n        var b = TimeXAxis.mn(a, this.l6, this.ll, this.er);\n        return b == null ? _super.prototype.e6.call(this, a) : b;\n    };\n    OrdinalTimeXAxis.prototype.fj = function (a) {\n        var b = 0;\n        if (this.categoryMode == 0) {\n            b = truncate(Math.round(a));\n        }\n        else {\n            b = truncate(Math.floor(a));\n        }\n        if (b < 0 || b > this.jz - 1) {\n            return _super.prototype.fj.call(this, a);\n        }\n        var c = this.ln.item(b);\n        var d = this.e6(c);\n        if (d == null) {\n            return null;\n        }\n        return d.toString();\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"l6\", {\n        get: function () {\n            return +(this.visibleMaximum) - +(this.visibleMinimum);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.prototype.ky = function () {\n        return this.ln;\n    };\n    OrdinalTimeXAxis.prototype.hh = function (a, b) {\n        _super.prototype.hh.call(this, a, b);\n        this.l9();\n    };\n    OrdinalTimeXAxis.prototype.k4 = function (a, b) {\n        var c = this.categoryMode == 0 ? 0 : 0.5;\n        return _super.prototype.k4.call(this, a + c, b);\n    };\n    OrdinalTimeXAxis.prototype.k3 = function (a, b, c, d) {\n        return b;\n    };\n    OrdinalTimeXAxis.prototype.l4 = function () {\n        var _this = this;\n        if (this.ln == null || this.ln.count < 2) {\n            return (0);\n        }\n        return TimeXAxis.mv(function (a) { return _this.ln.item(a); }, this.ln.count);\n    };\n    OrdinalTimeXAxis.prototype.itemLabelFormat = function () {\n        return TimeXAxis.ms(this.l5);\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"minimumValue\", {\n        get: function () {\n            return this.lr;\n        },\n        set: function (a) {\n            var b = this.minimumValue;\n            if (+a != +b) {\n                this.lr = a;\n                this.gu(this, \"MinimumValue\", b, this.minimumValue);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"maximumValue\", {\n        get: function () {\n            return this.lq;\n        },\n        set: function (a) {\n            var b = this.maximumValue;\n            if (+a != +b) {\n                this.lq = a;\n                this.gu(this, \"MaximumValue\", b, this.maximumValue);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.prototype.cn = function () {\n        if (+(this.minimumValue) == +(dateMaxValue()) || +(this.maximumValue) == +(dateMinValue())) {\n            return _super.prototype.cn.call(this);\n        }\n        if (this.cg && this.co) {\n            this.a9 = this.a8();\n        }\n        if (this.jf == null || this.ln == null) {\n            return false;\n        }\n        var a = this.lb;\n        if (+(this.minimumValue) != +(dateMinValue())) {\n            var b = -1;\n            while (b++ <= this.ln.count) {\n                if (this.ln.item(b) >= this.minimumValue) {\n                    break;\n                }\n            }\n            a = b;\n        }\n        var c = this.categoryMode == 0 ? this.jf.count - 1 : this.jf.count;\n        if (+(this.maximumValue) != +(dateMaxValue())) {\n            var d = this.jf.count;\n            while (d-- > 0) {\n                if (this.ln.item(d) <= this.maximumValue) {\n                    break;\n                }\n            }\n            c = d;\n        }\n        if (a != this.lb || c != this.la) {\n            var e = new AxisRangeChangedEventArgs(0, this.lb, a, this.la, c);\n            this.lb = a;\n            this.la = c;\n            this.g1(e);\n            this.l8();\n            this.kb();\n            return true;\n        }\n        return false;\n    };\n    OrdinalTimeXAxis.prototype.kk = function (a) {\n        _super.prototype.kk.call(this, a);\n        this.cm(true);\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"isVertical\", {\n        get: function () {\n            return this.cf;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.prototype.j$c = function (a, b) {\n        return this.dz.apply(this, arguments);\n    };\n    OrdinalTimeXAxis.prototype.j$b = function (a, b) {\n        return this.dw.apply(this, arguments);\n    };\n    OrdinalTimeXAxis.prototype.j$d = function (a, b, c, d, e) {\n        this.gm.apply(this, arguments);\n    };\n    OrdinalTimeXAxis.prototype.j$e = function (a, b, c, d) {\n        this.gn.apply(this, arguments);\n    };\n    OrdinalTimeXAxis.prototype.j$f = function (a, b, c, d) {\n        this.go.apply(this, arguments);\n    };\n    Object.defineProperty(OrdinalTimeXAxis.prototype, \"j$a\", {\n        get: function () {\n            return this.b8;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OrdinalTimeXAxis.$t = markType(OrdinalTimeXAxis, 'OrdinalTimeXAxis', CategoryXAxis.$, [ITimeRangeSelectorAxis_$type]);\n    return OrdinalTimeXAxis;\n}(CategoryXAxis));\nexport { OrdinalTimeXAxis };\n//# sourceMappingURL=OrdinalTimeXAxis.js.map\n"]},"metadata":{},"sourceType":"module"}