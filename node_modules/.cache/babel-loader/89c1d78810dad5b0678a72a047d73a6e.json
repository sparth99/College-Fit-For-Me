{"ast":null,"code":"var _jsxFileName = \"/Users/Parth/web-project/src/Pages/Universities.js\";\nimport React, { Component } from 'react';\nimport { Nav, CardDeck, Spinner } from 'react-bootstrap';\nimport '../Styles/Universities.css';\nimport Navigation from '../Components/Navigation';\nimport Footer from '../Components/Footer';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport UniversityFilters from '../Components/UniversityFilters';\nimport { api } from '../instance';\nexport default class Universities extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      universities: null,\n      page: 1,\n      state: \"Select State\",\n      apiLink: \"https://api.collegefitfor.me/universities\",\n      prev_page: 1,\n      loading: true\n    };\n\n    this.setter = apiLink => {\n      this.setState({\n        apiLink\n      });\n      axios.get(this.state.apiLink).then(res => {\n        const universities = res.data;\n        this.setState({\n          universities\n        });\n      });\n    };\n\n    this.fetchUniversities = () => {\n      api.get('/universities', {\n        params: {\n          page: this.state.page\n        }\n      }).then(res => res.data).then(universities => {\n        this.setState({\n          universities,\n          loading: false\n        });\n      });\n    };\n\n    this.formatPercent = value => {\n      return value === 0 ? 'N/A' : value.toFixed(2).toString() + '%';\n    };\n\n    this.displayUniversities = () => {\n      const {\n        universities\n      } = this.state;\n      let rows = [];\n\n      for (let r = 0; r < 5; r++) {\n        let children = [];\n\n        for (let c = 0; c < 4; c++) {\n          if (universities.length <= c + 4 * r) {\n            break;\n          }\n\n          var university = universities[c + 4 * r];\n          children.push(\n          /*#__PURE__*/\n          React.createElement(Card, {\n            className: \"universities-card\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 11\n            }\n          },\n          /*#__PURE__*/\n          React.createElement(Nav.Link, {\n            className: \"university-instance\",\n            href: '/universities/' + university.name.replace(/ /g, \"_\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 13\n            }\n          },\n          /*#__PURE__*/\n          React.createElement(Card.Img, {\n            src: university.image_url,\n            variant: \"top\",\n            height: \"200\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }\n          }),\n          /*#__PURE__*/\n          React.createElement(Card.Body, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }\n          },\n          /*#__PURE__*/\n          React.createElement(Card.Title, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }\n          }, university.name),\n          /*#__PURE__*/\n          React.createElement(Card.Text, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }\n          }, \"City: \", university.city_name, \", \", university.state_name),\n          /*#__PURE__*/\n          React.createElement(Card.Text, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }\n          }, \"Acceptance Rate: \", this.formatPercent(university.admission_rate))))));\n        }\n\n        rows.push(\n        /*#__PURE__*/\n        React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }\n        }));\n        rows.push(\n        /*#__PURE__*/\n        React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }\n        }, children));\n        if (universities.length < 4 * r) break;\n      }\n\n      return rows;\n    };\n\n    this.changePage = (event, page, prev_page) => {\n      event.preventDefault();\n      this.setState({\n        page: page,\n        prev_page: prev_page,\n        loading: true\n      }, () => this.fetchUniversities());\n    };\n\n    this.displayButtons = () => {\n      let buttons = [];\n\n      if (this.state.prev_page > 7) {\n        buttons.push(\n        /*#__PURE__*/\n        React.createElement(Button, {\n          variant: \"outline-primary mr-1\",\n          onClick: e => {\n            this.changePage(e, this.state.prev_page - 7, this.state.prev_page - 7);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }\n        }, \"<<\"));\n      }\n\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 7\n        }\n      }, this.state.prev_page));\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 1, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      }, this.state.prev_page + 1));\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 2, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 7\n        }\n      }, this.state.prev_page + 2));\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 3, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 7\n        }\n      }, this.state.prev_page + 3));\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 4, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }\n      }, this.state.prev_page + 4));\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 5, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }, this.state.prev_page + 5));\n      buttons.push(\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary mr-1\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 6, this.state.prev_page);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 7\n        }\n      }, this.state.prev_page + 6));\n\n      if (this.state.prev_page < 29) {\n        buttons.push(\n        /*#__PURE__*/\n        React.createElement(Button, {\n          variant: \"outline-primary mr-1\",\n          onClick: e => {\n            this.changePage(e, this.state.prev_page + 7, this.state.prev_page + 7);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 9\n          }\n        }, \">>\"));\n      }\n\n      return buttons;\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUniversities();\n  }\n  /* works but is gacky. Use cleaner approach to access API like fetchUniversities method */\n\n\n  render() {\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Navigation, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Jumbotron, {\n        className: \"universities-jumbotron\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }, \"Universities\"),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        className: \"universities-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }\n      }, \"Find the University that's the best fit for you.\"),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }, \"Explore information on over 5,000 Universities across the country.\"), this.state.loading ?\n      /*#__PURE__*/\n      React.createElement(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        className: \"Spinner-custom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }\n      }) :\n      /*#__PURE__*/\n      React.createElement(React.Fragment, null,\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"row d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(UniversityFilters, {\n        setter: this.setter,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(CardDeck, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }\n      }, this.displayUniversities(this.state.universities)),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }\n      }), this.displayButtons()),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }\n      }))\n    );\n  }\n\n}","map":{"version":3,"sources":["/Users/Parth/web-project/src/Pages/Universities.js"],"names":["React","Component","Nav","CardDeck","Spinner","Navigation","Footer","Jumbotron","Card","Button","axios","UniversityFilters","api","Universities","state","universities","page","apiLink","prev_page","loading","setter","setState","get","then","res","data","fetchUniversities","params","formatPercent","value","toFixed","toString","displayUniversities","rows","r","children","c","length","university","push","name","replace","image_url","city_name","state_name","admission_rate","changePage","event","preventDefault","displayButtons","buttons","e","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Nav, CardDeck, Spinner } from 'react-bootstrap';\nimport '../Styles/Universities.css';\nimport Navigation from '../Components/Navigation';\nimport Footer from '../Components/Footer';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport UniversityFilters from '../Components/UniversityFilters';\nimport { api } from '../instance';\n\nexport default class Universities extends Component {\n  state = {\n    universities: null,\n    page: 1,\n    state: \"Select State\",\n    apiLink: \"https://api.collegefitfor.me/universities\",\n    prev_page: 1,\n    loading: true,\n  };\n\n  componentDidMount() {\n    this.fetchUniversities();\n  }\n\n  /* works but is gacky. Use cleaner approach to access API like fetchUniversities method */\n  setter = (apiLink) => {\n    this.setState({apiLink})\n  \n    axios.get(this.state.apiLink)\n       .then(res => {\n           const universities = res.data;\n           this.setState({ universities });\n       })\n  }\n\n  fetchUniversities = () => {\n    api\n      .get('/universities', {\n        params: {\n          page: this.state.page,\n        },\n      })\n      .then((res) => res.data)\n      .then((universities) => {\n        this.setState({ universities, loading: false });\n      });\n  };\n\n  formatPercent = (value) => {\n    return value === 0 ? 'N/A' : value.toFixed(2).toString() + '%';\n  }\n\n  displayUniversities = () => {\n    const { universities } = this.state;\n    let rows = [];\n    for (let r = 0; r < 5; r++) {\n      let children = [];\n      for (let c = 0; c < 4; c++) {\n        if (universities.length <= c + 4 * r) {\n          break;\n        }\n        var university = universities[c + 4 * r];\n        children.push(\n          <Card className=\"universities-card\">\n            <Nav.Link className=\"university-instance\"\n              href={\n                '/universities/' +\n                university.name.replace(/ /g,\"_\")\n              }\n            >\n              <Card.Img src={university.image_url} variant=\"top\" height=\"200\" />\n              <Card.Body>\n                <Card.Title>{university.name}</Card.Title>\n                <Card.Text>\n                  City: {university.city_name}, {university.state_name}\n                </Card.Text>\n                <Card.Text>\n                  Acceptance Rate: {this.formatPercent(university.admission_rate)}\n                </Card.Text>\n              </Card.Body>\n            </Nav.Link>\n          </Card>\n        );\n      }\n      rows.push(<br></br>);\n      rows.push(<div className=\"row\">{children}</div>);\n      if (universities.length < 4 * r) break;\n    }\n    return rows;\n  };\n\n  changePage = (event, page, prev_page) => {\n    event.preventDefault();\n\n    this.setState(\n      {\n        page: page,\n        prev_page: prev_page,\n        loading: true,\n      },\n      () => this.fetchUniversities()\n    );\n  };\n\n  displayButtons = () => {\n    let buttons = []\n\n    if (this.state.prev_page > 7) {\n      buttons.push(\n        <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page - 7, this.state.prev_page - 7)}}>\n            &lt;&lt;\n        </Button>\n      )\n    }\n\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page, this.state.prev_page)}}>\n        {this.state.prev_page}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 1, this.state.prev_page)}}>\n        {this.state.prev_page + 1}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 2, this.state.prev_page)}}>\n        {this.state.prev_page + 2}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 3, this.state.prev_page)}}>\n        {this.state.prev_page + 3}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 4, this.state.prev_page)}}>\n        {this.state.prev_page + 4}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 5, this.state.prev_page)}}>\n        {this.state.prev_page + 5}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 6, this.state.prev_page)}}>\n        {this.state.prev_page + 6}\n      </Button>\n    )\n\n    if (this.state.prev_page < 29) {\n      buttons.push(\n        <Button variant=\"outline-primary mr-1\" onClick={(e) => {this.changePage(e, this.state.prev_page + 7, this.state.prev_page + 7)}}>\n            &gt;&gt;\n        </Button>\n      )\n    }\n\n    return buttons\n  }\n\n  render() {\n    return (\n      <div>\n        <Navigation />\n        <Jumbotron className=\"universities-jumbotron\"></Jumbotron>\n        <h1>Universities</h1>\n        <p className=\"universities-header\">\n          Find the University that's the best fit for you.\n        </p>\n        <p>Explore information on over 5,000 Universities across the country.</p>\n        {this.state.loading ? (\n          <Spinner\n            animation=\"border\"\n            role=\"status\"\n            className=\"Spinner-custom\"\n          />\n        ) : (\n          <>\n            <div className='row d-flex justify-content-center'>\n              <UniversityFilters setter={this.setter} />\n            </div>\n            <CardDeck>\n              {this.displayUniversities(this.state.universities)}\n            </CardDeck>\n            <p />\n            {this.displayButtons()}\n          </>\n        )}\n        <p />\n        <Footer />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}