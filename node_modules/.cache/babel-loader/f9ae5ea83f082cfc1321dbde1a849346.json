{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, Boolean_$type, fromEnum, markType } from \"igniteui-react-core\";\nimport { IHighlightingManager_$type } from \"./IHighlightingManager\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { HighlightingState } from \"./HighlightingState\";\n/**\n * @hidden\n */\n\nvar HighlightingManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(HighlightingManager, _super);\n\n  function HighlightingManager() {\n    var _this = _super.call(this) || this;\n\n    _this.a = new Dictionary$2(HighlightingInfo.$, HighlightingInfo.$, 0);\n    _this.c = new List$1(HighlightingInfo.$, 0);\n    _this.d = 0;\n    _this.e = 0;\n    _this.f = 0;\n    _this._dirtySeries = null;\n    _this.b = new Dictionary$2(Series.$, Boolean_$type, 0);\n    _this._inProgress = false;\n    _this._maxHighlightingProgress = 0;\n    _this._sumHighlightingProgress = 0;\n    _this._maxMarkerHighlightingProgress = 0;\n    _this._sumMarkerHighlightingProgress = 0;\n    _this.dirtySeries = new List$1(Series.$, 0);\n    return _this;\n  }\n\n  HighlightingManager.prototype.startHighlight = function (a) {\n    if (a == null) {\n      return;\n    }\n\n    this.inProgress = true;\n\n    if (!this.a.containsKey(a)) {\n      a.a = HighlightingState.inward;\n      this.a.item(a, a);\n      this.c.add(a);\n    }\n\n    if (a.a == HighlightingState.outward) {\n      a.a = HighlightingState.inward;\n    }\n  };\n\n  HighlightingManager.prototype.endHighlight = function (a) {\n    if (a == null) {\n      return;\n    }\n\n    if (!this.a.containsKey(a)) {\n      return;\n    }\n\n    if (a.a == HighlightingState.inward) {\n      if (a.d < 0.05) {\n        if (a.c) {\n          this.e = this.e + a.d;\n        } else {\n          this.d = this.d + a.d;\n        }\n\n        this.a.removeItem(a);\n        this.c.remove(a);\n        return;\n      }\n\n      a.a = HighlightingState.outward;\n    }\n\n    if (a.a == 2) {\n      a.a = HighlightingState.outward;\n      a.d = 1;\n    }\n  };\n\n  HighlightingManager.prototype.clear = function () {\n    this.c.clear();\n    this.a.clear();\n  };\n\n  HighlightingManager.prototype.getHighlightingInfo = function (a, b, c, d, e, f) {\n    for (var g = 0; g < this.c.count; g++) {\n      var h = this.c._inner[g];\n      var i = h.f;\n      var j = h.e;\n\n      if (d >= i && e <= j && h.c == f && a == h.b && (h.a == HighlightingState.inward || h.a == 2)) {\n        return h;\n      }\n    }\n\n    for (var k = 0; k < this.c.count; k++) {\n      var l = this.c._inner[k];\n      var m = l.f;\n      var n = l.e;\n\n      if (d >= m && e <= n && l.c == f && a == l.b && l.a == HighlightingState.outward) {\n        return l;\n      }\n    }\n\n    return null;\n  };\n\n  Object.defineProperty(HighlightingManager.prototype, \"dirtySeries\", {\n    get: function () {\n      return this._dirtySeries;\n    },\n    set: function (a) {\n      this._dirtySeries = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  HighlightingManager.prototype.tick = function (a) {\n    var e_1, _a;\n\n    this.b.clear();\n    this.dirtySeries.clear();\n    var b = 0;\n\n    if (this.f > a) {\n      b = 1 - this.f + a;\n    } else {\n      b = a - this.f;\n    }\n\n    this.f = a;\n    var c = false;\n    var d = new List$1(HighlightingInfo.$, 0);\n    this.maxHighlightingProgress = 0;\n    this.sumHighlightingProgress = 0;\n    this.maxMarkerHighlightingProgress = 0;\n    this.sumMarkerHighlightingProgress = 0;\n    var e = false;\n    var f = false;\n    var g = 0;\n    var h = 0;\n    var i = 0;\n    var j = 0;\n    var k = 0;\n    var l = 0;\n\n    for (var m = 0; m < this.c.count; m++) {\n      var n = this.c._inner[m];\n\n      if (n.a == HighlightingState.inward) {\n        if (n.c) {\n          e = true;\n          i = i + Math.min(1 - n.d, b);\n        } else {\n          f = true;\n          g = g + Math.min(1 - n.d, b);\n        }\n      }\n\n      if (n.a == HighlightingState.outward) {\n        if (n.c) {\n          j = j + Math.min(n.d, b);\n          l++;\n        } else {\n          h = h + Math.min(n.d, b);\n          k++;\n        }\n      }\n    }\n\n    h = h + this.d;\n    this.d = 0;\n    j = j + this.e;\n    this.e = 0;\n    var o = 1;\n    var p = 1;\n\n    if (f && h > g) {\n      var q = h - g;\n      o = g / h;\n    }\n\n    if (e && j > i) {\n      var r = j - i;\n      p = i / j;\n    }\n\n    var s;\n\n    for (var t = 0; t < this.c.count; t++) {\n      var u = this.c._inner[t];\n      s = b;\n\n      if (u.a == HighlightingState.outward) {\n        s = Math.min(s, u.d);\n\n        if (u.c) {\n          s = s * p;\n        } else {\n          s = s * o;\n        }\n\n        u.d = u.d - s;\n      } else {\n        u.d = u.d + s;\n      }\n\n      if (u.a == 2) {\n        u.d = 1;\n      }\n\n      if (u.d > 1) {\n        u.d = 1;\n      }\n\n      if (u.d < 0) {\n        u.d = 0;\n      }\n\n      if (u.c) {\n        this.maxMarkerHighlightingProgress = Math.max(u.d, this.maxMarkerHighlightingProgress);\n        this.sumMarkerHighlightingProgress = this.sumMarkerHighlightingProgress + u.d;\n      } else {\n        this.maxHighlightingProgress = Math.max(u.d, this.maxHighlightingProgress);\n        this.sumHighlightingProgress = this.sumHighlightingProgress + u.d;\n      }\n\n      if (u.a != HighlightingState.outward && u.d != 1) {\n        c = true;\n      }\n\n      if (u.a == HighlightingState.outward && u.d != 0) {\n        c = true;\n      }\n\n      if (u.d == 1 && u.a == HighlightingState.inward) {\n        u.a = 2;\n      }\n\n      if (u.d == 0 && u.a == HighlightingState.outward) {\n        d.add(u);\n      }\n\n      if (!this.b.containsKey(u.b)) {\n        this.b.addItem(u.b, true);\n        this.dirtySeries.add(u.b);\n      }\n    }\n\n    try {\n      for (var _b = tslib_1.__values(fromEnum(d)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var v = _c.value;\n        this.a.removeItem(v);\n        this.c.remove(v);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    if (this.a.count == 0) {\n      this.inProgress = false;\n      this.maxHighlightingProgress = 0;\n      this.sumHighlightingProgress = 0;\n      this.maxMarkerHighlightingProgress = 0;\n      this.sumMarkerHighlightingProgress = 0;\n    }\n\n    if (!c) {\n      this.f = 0;\n    }\n\n    return c;\n  };\n\n  Object.defineProperty(HighlightingManager.prototype, \"inProgress\", {\n    get: function () {\n      return this._inProgress;\n    },\n    set: function (a) {\n      this._inProgress = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"maxHighlightingProgress\", {\n    get: function () {\n      return this._maxHighlightingProgress;\n    },\n    set: function (a) {\n      this._maxHighlightingProgress = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"sumHighlightingProgress\", {\n    get: function () {\n      return this._sumHighlightingProgress;\n    },\n    set: function (a) {\n      this._sumHighlightingProgress = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"maxMarkerHighlightingProgress\", {\n    get: function () {\n      return this._maxMarkerHighlightingProgress;\n    },\n    set: function (a) {\n      this._maxMarkerHighlightingProgress = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"sumMarkerHighlightingProgress\", {\n    get: function () {\n      return this._sumMarkerHighlightingProgress;\n    },\n    set: function (a) {\n      this._sumMarkerHighlightingProgress = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  HighlightingManager.$t = markType(HighlightingManager, 'HighlightingManager', Base.$, [IHighlightingManager_$type]);\n  return HighlightingManager;\n}(Base);\n\nexport { HighlightingManager };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/HighlightingManager.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, Boolean_$type, fromEnum, markType } from \"igniteui-react-core\";\nimport { IHighlightingManager_$type } from \"./IHighlightingManager\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { HighlightingState } from \"./HighlightingState\";\n/**\n * @hidden\n */\nvar HighlightingManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(HighlightingManager, _super);\n    function HighlightingManager() {\n        var _this = _super.call(this) || this;\n        _this.a = new Dictionary$2(HighlightingInfo.$, HighlightingInfo.$, 0);\n        _this.c = new List$1(HighlightingInfo.$, 0);\n        _this.d = 0;\n        _this.e = 0;\n        _this.f = 0;\n        _this._dirtySeries = null;\n        _this.b = new Dictionary$2(Series.$, Boolean_$type, 0);\n        _this._inProgress = false;\n        _this._maxHighlightingProgress = 0;\n        _this._sumHighlightingProgress = 0;\n        _this._maxMarkerHighlightingProgress = 0;\n        _this._sumMarkerHighlightingProgress = 0;\n        _this.dirtySeries = new List$1(Series.$, 0);\n        return _this;\n    }\n    HighlightingManager.prototype.startHighlight = function (a) {\n        if (a == null) {\n            return;\n        }\n        this.inProgress = true;\n        if (!this.a.containsKey(a)) {\n            a.a = HighlightingState.inward;\n            this.a.item(a, a);\n            this.c.add(a);\n        }\n        if (a.a == HighlightingState.outward) {\n            a.a = HighlightingState.inward;\n        }\n    };\n    HighlightingManager.prototype.endHighlight = function (a) {\n        if (a == null) {\n            return;\n        }\n        if (!this.a.containsKey(a)) {\n            return;\n        }\n        if (a.a == HighlightingState.inward) {\n            if (a.d < 0.05) {\n                if (a.c) {\n                    this.e = this.e + a.d;\n                }\n                else {\n                    this.d = this.d + a.d;\n                }\n                this.a.removeItem(a);\n                this.c.remove(a);\n                return;\n            }\n            a.a = HighlightingState.outward;\n        }\n        if (a.a == 2) {\n            a.a = HighlightingState.outward;\n            a.d = 1;\n        }\n    };\n    HighlightingManager.prototype.clear = function () {\n        this.c.clear();\n        this.a.clear();\n    };\n    HighlightingManager.prototype.getHighlightingInfo = function (a, b, c, d, e, f) {\n        for (var g = 0; g < this.c.count; g++) {\n            var h = this.c._inner[g];\n            var i = h.f;\n            var j = h.e;\n            if (d >= i && e <= j && h.c == f && a == h.b && (h.a == HighlightingState.inward || h.a == 2)) {\n                return h;\n            }\n        }\n        for (var k = 0; k < this.c.count; k++) {\n            var l = this.c._inner[k];\n            var m = l.f;\n            var n = l.e;\n            if (d >= m && e <= n && l.c == f && a == l.b && (l.a == HighlightingState.outward)) {\n                return l;\n            }\n        }\n        return null;\n    };\n    Object.defineProperty(HighlightingManager.prototype, \"dirtySeries\", {\n        get: function () {\n            return this._dirtySeries;\n        },\n        set: function (a) {\n            this._dirtySeries = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighlightingManager.prototype.tick = function (a) {\n        var e_1, _a;\n        this.b.clear();\n        this.dirtySeries.clear();\n        var b = 0;\n        if (this.f > a) {\n            b = (1 - this.f) + a;\n        }\n        else {\n            b = a - this.f;\n        }\n        this.f = a;\n        var c = false;\n        var d = new List$1(HighlightingInfo.$, 0);\n        this.maxHighlightingProgress = 0;\n        this.sumHighlightingProgress = 0;\n        this.maxMarkerHighlightingProgress = 0;\n        this.sumMarkerHighlightingProgress = 0;\n        var e = false;\n        var f = false;\n        var g = 0;\n        var h = 0;\n        var i = 0;\n        var j = 0;\n        var k = 0;\n        var l = 0;\n        for (var m = 0; m < this.c.count; m++) {\n            var n = this.c._inner[m];\n            if (n.a == HighlightingState.inward) {\n                if (n.c) {\n                    e = true;\n                    i = i + Math.min(1 - n.d, b);\n                }\n                else {\n                    f = true;\n                    g = g + Math.min(1 - n.d, b);\n                }\n            }\n            if (n.a == HighlightingState.outward) {\n                if (n.c) {\n                    j = j + Math.min(n.d, b);\n                    l++;\n                }\n                else {\n                    h = h + Math.min(n.d, b);\n                    k++;\n                }\n            }\n        }\n        h = h + this.d;\n        this.d = 0;\n        j = j + this.e;\n        this.e = 0;\n        var o = 1;\n        var p = 1;\n        if (f && h > g) {\n            var q = h - g;\n            o = g / h;\n        }\n        if (e && j > i) {\n            var r = j - i;\n            p = i / j;\n        }\n        var s;\n        for (var t = 0; t < this.c.count; t++) {\n            var u = this.c._inner[t];\n            s = b;\n            if (u.a == HighlightingState.outward) {\n                s = Math.min(s, u.d);\n                if (u.c) {\n                    s = s * p;\n                }\n                else {\n                    s = s * o;\n                }\n                u.d = u.d - s;\n            }\n            else {\n                u.d = u.d + s;\n            }\n            if (u.a == 2) {\n                u.d = 1;\n            }\n            if (u.d > 1) {\n                u.d = 1;\n            }\n            if (u.d < 0) {\n                u.d = 0;\n            }\n            if (u.c) {\n                this.maxMarkerHighlightingProgress = Math.max(u.d, this.maxMarkerHighlightingProgress);\n                this.sumMarkerHighlightingProgress = this.sumMarkerHighlightingProgress + u.d;\n            }\n            else {\n                this.maxHighlightingProgress = Math.max(u.d, this.maxHighlightingProgress);\n                this.sumHighlightingProgress = this.sumHighlightingProgress + u.d;\n            }\n            if (u.a != HighlightingState.outward && u.d != 1) {\n                c = true;\n            }\n            if (u.a == HighlightingState.outward && u.d != 0) {\n                c = true;\n            }\n            if (u.d == 1 && u.a == HighlightingState.inward) {\n                u.a = 2;\n            }\n            if (u.d == 0 && u.a == HighlightingState.outward) {\n                d.add(u);\n            }\n            if (!this.b.containsKey(u.b)) {\n                this.b.addItem(u.b, true);\n                this.dirtySeries.add(u.b);\n            }\n        }\n        try {\n            for (var _b = tslib_1.__values(fromEnum(d)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var v = _c.value;\n                this.a.removeItem(v);\n                this.c.remove(v);\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        if (this.a.count == 0) {\n            this.inProgress = false;\n            this.maxHighlightingProgress = 0;\n            this.sumHighlightingProgress = 0;\n            this.maxMarkerHighlightingProgress = 0;\n            this.sumMarkerHighlightingProgress = 0;\n        }\n        if (!c) {\n            this.f = 0;\n        }\n        return c;\n    };\n    Object.defineProperty(HighlightingManager.prototype, \"inProgress\", {\n        get: function () {\n            return this._inProgress;\n        },\n        set: function (a) {\n            this._inProgress = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"maxHighlightingProgress\", {\n        get: function () {\n            return this._maxHighlightingProgress;\n        },\n        set: function (a) {\n            this._maxHighlightingProgress = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"sumHighlightingProgress\", {\n        get: function () {\n            return this._sumHighlightingProgress;\n        },\n        set: function (a) {\n            this._sumHighlightingProgress = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"maxMarkerHighlightingProgress\", {\n        get: function () {\n            return this._maxMarkerHighlightingProgress;\n        },\n        set: function (a) {\n            this._maxMarkerHighlightingProgress = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"sumMarkerHighlightingProgress\", {\n        get: function () {\n            return this._sumMarkerHighlightingProgress;\n        },\n        set: function (a) {\n            this._sumMarkerHighlightingProgress = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighlightingManager.$t = markType(HighlightingManager, 'HighlightingManager', Base.$, [IHighlightingManager_$type]);\n    return HighlightingManager;\n}(Base));\nexport { HighlightingManager };\n//# sourceMappingURL=HighlightingManager.js.map\n"]},"metadata":{},"sourceType":"module"}