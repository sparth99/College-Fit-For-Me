{"ast":null,"code":"var _jsxFileName = \"/Users/Parth/web-project/src/Pages/Restaurants.js\";\nimport React, { Component } from 'react';\nimport { Nav, CardDeck, Spinner } from 'react-bootstrap';\nimport '../Styles/Restaurants.css';\nimport Navigation from '../Components/Navigation';\nimport Footer from '../Components/Footer';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport { api } from '../instance';\nexport default class Restaurants extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      restaurants: null,\n      page: 1,\n      prev_page: 1,\n      loading: true\n    };\n\n    this.fetchRestaurants = () => {\n      api.get('/restaurants', {\n        params: {\n          page: this.state.page\n        }\n      }).then(res => res.data).then(restaurants => {\n        this.setState({\n          restaurants,\n          loading: false\n        });\n      });\n    };\n\n    this.formatString = value => {\n      return value === \"\" ? 'N/A' : value;\n    };\n\n    this.displayRestaurants = () => {\n      const {\n        restaurants\n      } = this.state;\n      let rows = [];\n\n      for (let r = 0; r < 5; r++) {\n        let children = [];\n\n        for (let c = 0; c < 3; c++) {\n          if (restaurants.length <= c + 3 * r) {\n            break;\n          }\n\n          var restaurant = restaurants[c + 3 * r];\n          children.push(React.createElement(Card, {\n            className: \"restaurants-card\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(Nav.Link, {\n            href: '/restaurants/' + String(restaurant.restaurant_name + \"*\" + restaurant.id).replace(/ /g, '_').toLowerCase(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(Card.Img, {\n            src: restaurant.image_url,\n            variant: \"top\",\n            height: \"300\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }), React.createElement(Card.Body, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, React.createElement(Card.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, restaurant.restaurant_name), React.createElement(Card.Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, \"Category: \", this.formatString(restaurant.categories))))));\n        }\n\n        rows.push(React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }));\n        rows.push(React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, children));\n        if (restaurants.length < 3 * r) break;\n      }\n\n      return rows;\n    };\n\n    this.changePage = (event, page, prev_page) => {\n      event.preventDefault();\n      this.setState({\n        page: page,\n        prev_page: prev_page,\n        loading: true\n      }, () => this.fetchRestaurants());\n    };\n\n    this.displayButtons = () => {\n      let buttons = [];\n\n      if (this.state.prev_page > 7) {\n        buttons.push(React.createElement(Button, {\n          variant: \"primary\",\n          onClick: e => {\n            this.changePage(e, this.state.prev_page - 7, this.state.prev_page - 7);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"<<\"));\n      }\n\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.state.prev_page));\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 1, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.prev_page + 1));\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 2, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.state.prev_page + 2));\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 3, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.prev_page + 3));\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 4, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.prev_page + 4));\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 5, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.prev_page + 5));\n      buttons.push(React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => {\n          this.changePage(e, this.state.prev_page + 6, this.state.prev_page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, this.state.prev_page + 6));\n\n      if (this.state.prev_page < 127) {\n        buttons.push(React.createElement(Button, {\n          variant: \"primary\",\n          onClick: e => {\n            this.changePage(e, this.state.prev_page + 7, this.state.prev_page + 7);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \">>\"));\n      } else {\n        buttons.push(React.createElement(Button, {\n          variant: \"primary\",\n          onClick: e => {\n            this.changePage(e, this.state.prev_page + 7, this.state.prev_page);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, this.state.prev_page + 7));\n      }\n\n      return buttons;\n    };\n  }\n\n  componentDidMount() {\n    this.fetchRestaurants();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(Jumbotron, {\n      className: \"restaurants-jumbotron\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Food Matters. Plain and Simple.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), \"Food fuels us. Food makes us.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), \"From the simpliest meals to the finest dining, food is an unavoidable part of life.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), \"With food being such a large part of life, it is important to find the right restaurant.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), \"Let us help you find the perfect restaurant!\"), this.state.loading ? React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      className: \"Spinner-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }) : React.createElement(React.Fragment, null, React.createElement(CardDeck, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, this.displayRestaurants(this.state.restaurants)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), this.displayButtons()), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/Parth/web-project/src/Pages/Restaurants.js"],"names":["React","Component","Nav","CardDeck","Spinner","Navigation","Footer","Jumbotron","Card","Button","api","Restaurants","state","restaurants","page","prev_page","loading","fetchRestaurants","get","params","then","res","data","setState","formatString","value","displayRestaurants","rows","r","children","c","length","restaurant","push","String","restaurant_name","id","replace","toLowerCase","image_url","categories","changePage","event","preventDefault","displayButtons","buttons","e","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Nav, CardDeck, Spinner } from 'react-bootstrap';\nimport '../Styles/Restaurants.css';\nimport Navigation from '../Components/Navigation';\nimport Footer from '../Components/Footer';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport { api } from '../instance';\n\nexport default class Restaurants extends Component {\n  state = {\n    restaurants: null,\n    page: 1,\n    prev_page: 1,\n    loading: true,\n  };\n\n  componentDidMount() {\n    this.fetchRestaurants();\n  }\n\n  fetchRestaurants = () => {\n    api\n      .get('/restaurants', {\n        params: {\n          page: this.state.page,\n        },\n      })\n      .then((res) => res.data)\n      .then((restaurants) => {\n        this.setState({ restaurants, loading: false });\n      });\n  };\n\n  formatString = (value) => {\n    return value === \"\" ? 'N/A' : value;\n  }\n\n  displayRestaurants = () => {\n    const { restaurants } = this.state;\n    let rows = [];\n    for (let r = 0; r < 5; r++) {\n      let children = [];\n      for (let c = 0; c < 3; c++) {\n        if (restaurants.length <= c + 3 * r) {\n          break;\n        }\n        var restaurant = restaurants[c + 3 * r];\n        children.push(\n          <Card className=\"restaurants-card\">\n            <Nav.Link\n              href={\n                '/restaurants/' +\n                String(restaurant.restaurant_name + \"*\" + restaurant.id)\n                  .replace(/ /g, '_')\n                  .toLowerCase()\n              }\n            >\n              <Card.Img src={restaurant.image_url} variant=\"top\" height=\"300\" />\n              <Card.Body>\n                <Card.Title>{restaurant.restaurant_name}</Card.Title>\n                <Card.Text>Category: {this.formatString(restaurant.categories)}</Card.Text>\n              </Card.Body>\n            </Nav.Link>\n          </Card>\n        );\n      }\n      rows.push(<br></br>);\n      rows.push(<div className=\"row\">{children}</div>);\n      if (restaurants.length < 3 * r) break;\n    }\n    return rows;\n  };\n\n  changePage = (event, page, prev_page) => {\n    event.preventDefault();\n\n    this.setState(\n      {\n        page: page,\n        prev_page: prev_page,\n        loading: true,\n      },\n      () => this.fetchRestaurants()\n    );\n  };\n\n  displayButtons = () => {\n    let buttons = []\n\n    if (this.state.prev_page > 7) {\n      buttons.push(\n        <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page - 7, this.state.prev_page - 7)}}>\n            &lt;&lt;\n        </Button>\n      )\n    }\n\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page, this.state.prev_page)}}>\n        {this.state.prev_page}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 1, this.state.prev_page)}}>\n        {this.state.prev_page + 1}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 2, this.state.prev_page)}}>\n        {this.state.prev_page + 2}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 3, this.state.prev_page)}}>\n        {this.state.prev_page + 3}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 4, this.state.prev_page)}}>\n        {this.state.prev_page + 4}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 5, this.state.prev_page)}}>\n        {this.state.prev_page + 5}\n      </Button>\n    )\n    buttons.push(\n      <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 6, this.state.prev_page)}}>\n        {this.state.prev_page + 6}\n      </Button>\n    )\n\n    if (this.state.prev_page < 127) {\n      buttons.push(\n        <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 7, this.state.prev_page + 7)}}>\n            &gt;&gt;\n        </Button>\n      )\n    } else {\n      buttons.push(\n        <Button variant=\"primary\" onClick={(e) => {this.changePage(e, this.state.prev_page + 7, this.state.prev_page)}}>\n          {this.state.prev_page + 7}\n        </Button>\n      )\n    }\n\n    return buttons\n  }\n\n  render() {\n    return (\n      <div>\n        <Navigation />\n        <Jumbotron className=\"restaurants-jumbotron\"></Jumbotron>\n        <p>\n          Food Matters. Plain and Simple.\n          <br />\n          Food fuels us. Food makes us.\n          <br />\n          From the simpliest meals to the finest dining, food is an unavoidable\n          part of life.\n          <br />\n          With food being such a large part of life, it is important to find the\n          right restaurant.\n          <br />\n          Let us help you find the perfect restaurant!\n        </p>\n        {this.state.loading ? (\n          <Spinner\n            animation=\"border\"\n            role=\"status\"\n            className=\"Spinner-custom\"\n          />\n        ) : (\n          <>\n            <CardDeck>\n              {this.displayRestaurants(this.state.restaurants)}\n            </CardDeck>\n            <p />\n            {this.displayButtons()}\n          </>\n        )}\n        <p />\n        <Footer />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}