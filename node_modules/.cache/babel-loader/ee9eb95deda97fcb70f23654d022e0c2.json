{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, runOn, delegateCombine, fromEnum, markType, String_$type } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { ITileZoomTile_$type } from \"./ITileZoomTile\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { TileZoomTileInfo } from \"./TileZoomTileInfo\";\nimport { TileZoomInfo } from \"./TileZoomInfo\";\nimport { truncate, logBase, isInfinity, isNaN_ } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar TileZoomManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(TileZoomManager, _super);\n\n  function TileZoomManager(a, b, c) {\n    var _this = _super.call(this) || this;\n\n    _this.e = null;\n    _this.av = null;\n    _this.aw = null;\n    _this.au = null;\n    _this.i = false;\n    _this.v = 0;\n    _this.k = null;\n    _this.l = null;\n    _this.n = null;\n    _this.q = -1;\n    _this.ao = null;\n    _this.p = 1;\n    _this.r = 1;\n    _this.y = 0;\n    _this.o = null;\n    _this.m = null;\n    _this.d = null;\n    _this.f = false;\n    _this.h = false;\n    _this.e = a;\n    var d = _this.e;\n    d.actualWindowRectChanged = delegateCombine(d.actualWindowRectChanged, runOn(_this, _this.am));\n    var e = _this.e;\n    e.gridAreaRectChanged = delegateCombine(e.gridAreaRectChanged, runOn(_this, _this.an));\n    _this.d = new TileZoomTileCache(c, _this);\n    _this.o = new List$1(TileZoomTileInfo.$, 0);\n    _this.m = new List$1(TileZoomTile.$, 0);\n    _this.k = new Dictionary$2(TileZoomTile.$, ITileZoomTile_$type, 0);\n    _this.l = new Dictionary$2(TileZoomTile.$, ITileZoomTile_$type, 0);\n    _this.n = new List$1(ITileZoomTile_$type, 0);\n    _this.h = b;\n\n    _this.ai();\n\n    return _this;\n  }\n\n  TileZoomManager.prototype.ai = function () {\n    this.av = this.e.m3;\n    this.ao = this.ap(this.av);\n    var a = this.s();\n    this.ac();\n    this.ab();\n    this.q = a;\n    this.v = this.t(a);\n    this.au = new Rect(0, 0, 0, a, a);\n  };\n\n  TileZoomManager.prototype.ap = function (a) {\n    return new Rect(0, a.left, a.top, a.width * this.p, a.height * this.r);\n  };\n\n  TileZoomManager.prototype.t = function (a) {\n    var b = a / 512;\n    var c = logBase(b, 2);\n    return c;\n  };\n\n  TileZoomManager.prototype.s = function () {\n    var a = Math.max(this.ao.width, this.ao.height);\n    var b = 1;\n    var c = 512;\n\n    while (c < a) {\n      b++;\n      c = 512 * b;\n    }\n\n    return c;\n  };\n\n  TileZoomManager.prototype.an = function (a, b) {\n    this.ai();\n    this.aj();\n  };\n\n  TileZoomManager.prototype.am = function (a, b) {\n    this.aj();\n  };\n\n  TileZoomManager.prototype.aj = function () {\n    this.f = true;\n    this.aw = this.e.mq;\n\n    if (this.i) {\n      if (this.j(this.aw)) {\n        this.ai();\n      }\n\n      this.af();\n      this.ak();\n      this.ag();\n    }\n  };\n\n  TileZoomManager.prototype.j = function (a) {\n    var b = 1;\n    var c = 1;\n\n    if (this.g(a)) {\n      if (a.width > a.height) {\n        var d = 1;\n\n        if (a.height != 0) {\n          d = a.width / a.height;\n        }\n\n        var e = 0;\n        var f = 1;\n\n        while (f < d) {\n          e++;\n          f = truncate(Math.pow(3, e));\n        }\n\n        f = truncate(Math.pow(3, e - 1));\n        c = f;\n\n        if (c == 0 || isInfinity(c) || isNaN_(c)) {\n          c = 1;\n        }\n      } else {\n        var g = 1;\n\n        if (a.width != 0) {\n          g = a.height / a.width;\n        }\n\n        var h = 0;\n        var i = 1;\n\n        while (i < g) {\n          h++;\n          i = truncate(Math.pow(3, h));\n        }\n\n        i = truncate(Math.pow(3, h - 1));\n        b = i;\n\n        if (isInfinity(b) || isNaN_(b)) {\n          b = 1;\n        }\n      }\n    } else {\n      b = 1;\n      c = 1;\n    }\n\n    var j = c != this.r || b != this.p;\n    this.p = b;\n    this.r = c;\n    return j;\n  };\n\n  TileZoomManager.prototype.g = function (a) {\n    return a.width / a.height > 3 || a.height / a.width > 3;\n  };\n\n  TileZoomManager.prototype.ag = function () {\n    var e_1, _a;\n\n    var a = this.a();\n\n    for (var b = 0; b < this.m.count; b++) {\n      this.aa(a, this.m._inner[b]);\n    }\n\n    var c = new Dictionary$2(Base.$, ITileZoomTile_$type, 0);\n\n    try {\n      for (var _b = tslib_1.__values(fromEnum(this.l.keys)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var d = _c.value;\n        c.addItem(this.l.item(d).content, this.l.item(d));\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    this.e.bn.b0(c, this.n, 512);\n  };\n\n  TileZoomManager.prototype.aa = function (a, b) {\n    var c = this.as(b, a);\n    var d = c.left * a.b;\n    var e = c.top * a.a;\n    var f = c.right * a.b;\n    var g = c.bottom * a.a;\n    var h = d - a.f.left;\n    var i = e - a.f.top;\n    var j = f - d;\n    var k = g - e;\n    b.xPosition = h / this.p;\n    b.yPosition = i / this.r;\n    b.width = j / this.p;\n    b.height = k / this.r;\n  };\n\n  TileZoomManager.prototype.ak = function () {\n    var e_2, _a;\n\n    var a = this.a();\n    this.k.clear();\n\n    for (var b = 0; b < this.m.count; b++) {\n      var c = this.m._inner[b];\n      this.k.addItem(c, c);\n    }\n\n    this.m.clear();\n    this.l.clear();\n    this.n.clear();\n\n    for (var d = 0; d < this.o.count; d++) {\n      var e = this.o._inner[d];\n      var f = this.d.b(e);\n\n      if (f == null) {\n        f = this.b(e, a);\n        this.d.f(f);\n      }\n\n      if (this.k.containsKey(f)) {\n        this.k.removeItem(f);\n        this.l.addItem(f, f);\n      } else {\n        this.z(f);\n        this.n.add(f);\n      }\n\n      this.m.add(f);\n    }\n\n    try {\n      for (var _b = tslib_1.__values(fromEnum(this.k.keys)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var g = _c.value;\n        this.ad(g);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  TileZoomManager.prototype.ad = function (a) {};\n\n  TileZoomManager.prototype.z = function (a) {};\n\n  TileZoomManager.prototype.b = function (a, b) {\n    var c = this.c(a);\n    var d = this.as(c, b);\n    var e = this.ar();\n    var f = 1 / e.width;\n    var g = e.height;\n\n    if (e.width > e.height) {\n      f = e.width;\n      g = 1 / e.height;\n    }\n\n    var h = (d.left - e.left) * f;\n    var i = (d.top - e.top) * g;\n    var j = (d.right - e.left) * f;\n    var k = (d.bottom - e.top) * g;\n    d = new Rect(0, h, i, j - h, k - i);\n    var l = this.e.bn.bf(d, c, truncate(512));\n    c.content = l;\n    return c;\n  };\n\n  TileZoomManager.prototype.ar = function () {\n    var a = this.e.m3;\n    var b = this.e.mu;\n\n    if (b.isEmpty) {\n      return new Rect(0, 0, 0, 1, 1);\n    }\n\n    var c = (b.left - a.left) / a.width;\n    var d = (b.top - a.top) / a.height;\n    var e = (b.right - a.left) / a.width;\n    var f = (b.bottom - a.top) / a.height;\n    return new Rect(0, c, d, e - c, f - d);\n  };\n\n  TileZoomManager.prototype.as = function (a, b) {\n    var c = a.info.xPosition * 512;\n    var d = a.info.yPosition * 512;\n    var e = c + 512;\n    var f = d + 512;\n    var g = c / b.d;\n    var h = d / b.c;\n    var i = 512 / b.d;\n    var j = 512 / b.c;\n    return new Rect(0, g, h, i, j);\n  };\n\n  TileZoomManager.prototype.c = function (a) {\n    var b = 0;\n    b = this.y;\n    this.y++;\n    var c = new TileZoomTile();\n    c.info = a;\n    c.iD = b;\n    return c;\n  };\n\n  TileZoomManager.prototype.a = function () {\n    var a = this.aq(this.aw);\n    var b = this.x(a);\n    var c = Math.pow(2, b) * 512;\n    var d = c;\n    var e = this.ao.width / this.au.width * c;\n    var f = this.ao.height / this.au.height * d;\n    var g = this.ao.width / a.width;\n    var h = this.ao.height / a.height;\n    var i = a.left * g;\n    var j = a.top * h;\n    var k = a.right * g;\n    var l = a.bottom * h;\n    var m = new TileZoomInfo();\n    m.f = new Rect(0, i, j, k - i, l - j);\n    var n = this.at(this.aw, m.f, b, g, h, e, f);\n    var o = n.left * e;\n    var p = n.top * f;\n    var q = n.right * e;\n    var r = n.bottom * f;\n    m.g = new Rect(0, o, p, q - o, r - p);\n    m.e = b;\n    m.d = e;\n    m.c = f;\n    m.b = g;\n    m.a = h;\n    return m;\n  };\n\n  TileZoomManager.prototype.aq = function (a) {\n    return a;\n  };\n\n  TileZoomManager.prototype.at = function (a, b, c, d, e, f, g) {\n    var h = (a.left + a.right) / 2;\n    var i = (a.top + a.bottom) / 2;\n    var j = a.width;\n    var k = a.height;\n    j = j * d / f;\n    k = k * e / g;\n    var l = j / 2;\n    var m = k / 2;\n    return new Rect(0, h - l, i - m, j, k);\n  };\n\n  TileZoomManager.prototype.af = function () {\n    var a = this.a();\n    var b = 512 * a.b / a.d;\n    var c = 512 * a.a / a.c;\n    var d = truncate(Math.floor(a.f.left / b));\n    var e = truncate(Math.floor(a.f.top / c));\n    var f = truncate(Math.floor(a.f.right / b));\n    var g = truncate(Math.floor(a.f.bottom / c));\n    this.o.clear();\n\n    var _loop_1 = function (h) {\n      var _loop_2 = function (i) {\n        this_1.o.add(function () {\n          var $ret = new TileZoomTileInfo();\n          $ret.xPosition = i;\n          $ret.yPosition = h;\n          $ret.zoomLevel = a.e;\n          return $ret;\n        }());\n      };\n\n      for (var i = d; i <= f; i++) {\n        _loop_2(i);\n      }\n    };\n\n    var this_1 = this;\n\n    for (var h = e; h <= g; h++) {\n      _loop_1(h);\n    }\n  };\n\n  TileZoomManager.prototype.x = function (a) {\n    var b = 1 / a.width;\n    var c = 1 / a.height;\n    var d;\n    var e;\n\n    if (this.h) {\n      d = Math.floor(logBase(b, 2));\n      e = Math.floor(logBase(c, 2));\n    } else {\n      d = Math.ceil(logBase(b, 2));\n      e = Math.ceil(logBase(c, 2));\n    }\n\n    var f = Math.min(d, e) + this.v;\n    return truncate(f);\n  };\n\n  TileZoomManager.prototype.ab = function () {\n    if (!this.f) {\n      return;\n    }\n\n    this.f = false;\n    this.e.bn.bx();\n    this.d.g();\n  };\n\n  TileZoomManager.prototype.al = function () {\n    this.i = true;\n  };\n\n  TileZoomManager.prototype.ah = function () {\n    this.i = false;\n    this.e.bn.cf();\n  };\n\n  TileZoomManager.prototype.ae = function (a) {\n    this.e.bn.by(a);\n  };\n\n  TileZoomManager.prototype.ac = function () {\n    this.m.clear();\n    this.o.clear();\n    this.k.clear();\n  };\n\n  TileZoomManager.$t = markType(TileZoomManager, 'TileZoomManager');\n  return TileZoomManager;\n}(Base);\n\nexport { TileZoomManager };\n/**\n * @hidden\n */\n\nvar TileZoomTileCache =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(TileZoomTileCache, _super);\n\n  function TileZoomTileCache(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.c = new Dictionary$2(String_$type, TileZoomTile.$, 0);\n    _this.d = new LinkedList$1(TileZoomTile.$);\n    _this.e = 0;\n    _this.a = null;\n    _this.e = a;\n    _this.a = b;\n    return _this;\n  }\n\n  TileZoomTileCache.prototype.g = function () {\n    this.c.clear();\n    this.d = new LinkedList$1(TileZoomTile.$);\n  };\n\n  TileZoomTileCache.prototype.i = function (a) {\n    this.d.h(a.b);\n    this.d.f(a);\n    a.b = this.d.d;\n  };\n\n  TileZoomTileCache.prototype.f = function (a) {\n    this.d.f(a);\n    this.c.addItem(a.info.toString(), a);\n    a.a = this;\n    a.b = this.d.d;\n\n    while (this.c.count > this.e) {\n      this.h(this.d.c.c);\n    }\n  };\n\n  TileZoomTileCache.prototype.h = function (a) {\n    this.d.h(a.b);\n    this.c.removeItem(a.info.toString());\n    this.a.ae(a);\n  };\n\n  TileZoomTileCache.prototype.b = function (a) {\n    if (this.c.containsKey(a.toString())) {\n      var b = this.c.item(a.toString());\n      b.touch();\n      return b;\n    }\n\n    return null;\n  };\n\n  TileZoomTileCache.$t = markType(TileZoomTileCache, 'TileZoomTileCache');\n  return TileZoomTileCache;\n}(Base);\n\nexport { TileZoomTileCache };\n/**\n * @hidden\n */\n\nvar TileZoomTile =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(TileZoomTile, _super);\n\n  function TileZoomTile() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._info = null;\n    _this.a = null;\n    _this.b = null;\n    _this._content = null;\n    _this._xPosition = 0;\n    _this._width = 0;\n    _this._yPosition = 0;\n    _this._height = 0;\n    _this._iD = 0;\n    return _this;\n  }\n\n  Object.defineProperty(TileZoomTile.prototype, \"info\", {\n    get: function () {\n      return this._info;\n    },\n    set: function (a) {\n      this._info = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  TileZoomTile.prototype.touch = function () {\n    if (this.a == null) {\n      return;\n    }\n\n    this.a.i(this);\n  };\n\n  Object.defineProperty(TileZoomTile.prototype, \"content\", {\n    get: function () {\n      return this._content;\n    },\n    set: function (a) {\n      this._content = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TileZoomTile.prototype, \"xPosition\", {\n    get: function () {\n      return this._xPosition;\n    },\n    set: function (a) {\n      this._xPosition = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TileZoomTile.prototype, \"width\", {\n    get: function () {\n      return this._width;\n    },\n    set: function (a) {\n      this._width = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TileZoomTile.prototype, \"yPosition\", {\n    get: function () {\n      return this._yPosition;\n    },\n    set: function (a) {\n      this._yPosition = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TileZoomTile.prototype, \"height\", {\n    get: function () {\n      return this._height;\n    },\n    set: function (a) {\n      this._height = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TileZoomTile.prototype, \"iD\", {\n    get: function () {\n      return this._iD;\n    },\n    set: function (a) {\n      this._iD = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  TileZoomTile.$t = markType(TileZoomTile, 'TileZoomTile', Base.$, [ITileZoomTile_$type]);\n  return TileZoomTile;\n}(Base);\n\nexport { TileZoomTile };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/TileZoomManager_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, runOn, delegateCombine, fromEnum, markType, String_$type } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { ITileZoomTile_$type } from \"./ITileZoomTile\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { TileZoomTileInfo } from \"./TileZoomTileInfo\";\nimport { TileZoomInfo } from \"./TileZoomInfo\";\nimport { truncate, logBase, isInfinity, isNaN_ } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar TileZoomManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TileZoomManager, _super);\n    function TileZoomManager(a, b, c) {\n        var _this = _super.call(this) || this;\n        _this.e = null;\n        _this.av = null;\n        _this.aw = null;\n        _this.au = null;\n        _this.i = false;\n        _this.v = 0;\n        _this.k = null;\n        _this.l = null;\n        _this.n = null;\n        _this.q = -1;\n        _this.ao = null;\n        _this.p = 1;\n        _this.r = 1;\n        _this.y = 0;\n        _this.o = null;\n        _this.m = null;\n        _this.d = null;\n        _this.f = false;\n        _this.h = false;\n        _this.e = a;\n        var d = _this.e;\n        d.actualWindowRectChanged = delegateCombine(d.actualWindowRectChanged, runOn(_this, _this.am));\n        var e = _this.e;\n        e.gridAreaRectChanged = delegateCombine(e.gridAreaRectChanged, runOn(_this, _this.an));\n        _this.d = new TileZoomTileCache(c, _this);\n        _this.o = new List$1(TileZoomTileInfo.$, 0);\n        _this.m = new List$1(TileZoomTile.$, 0);\n        _this.k = new Dictionary$2(TileZoomTile.$, ITileZoomTile_$type, 0);\n        _this.l = new Dictionary$2(TileZoomTile.$, ITileZoomTile_$type, 0);\n        _this.n = new List$1(ITileZoomTile_$type, 0);\n        _this.h = b;\n        _this.ai();\n        return _this;\n    }\n    TileZoomManager.prototype.ai = function () {\n        this.av = this.e.m3;\n        this.ao = this.ap(this.av);\n        var a = this.s();\n        this.ac();\n        this.ab();\n        this.q = a;\n        this.v = this.t(a);\n        this.au = new Rect(0, 0, 0, a, a);\n    };\n    TileZoomManager.prototype.ap = function (a) {\n        return new Rect(0, a.left, a.top, a.width * this.p, a.height * this.r);\n    };\n    TileZoomManager.prototype.t = function (a) {\n        var b = a / 512;\n        var c = logBase(b, 2);\n        return c;\n    };\n    TileZoomManager.prototype.s = function () {\n        var a = Math.max(this.ao.width, this.ao.height);\n        var b = 1;\n        var c = 512;\n        while (c < a) {\n            b++;\n            c = 512 * b;\n        }\n        return c;\n    };\n    TileZoomManager.prototype.an = function (a, b) {\n        this.ai();\n        this.aj();\n    };\n    TileZoomManager.prototype.am = function (a, b) {\n        this.aj();\n    };\n    TileZoomManager.prototype.aj = function () {\n        this.f = true;\n        this.aw = this.e.mq;\n        if (this.i) {\n            if (this.j(this.aw)) {\n                this.ai();\n            }\n            this.af();\n            this.ak();\n            this.ag();\n        }\n    };\n    TileZoomManager.prototype.j = function (a) {\n        var b = 1;\n        var c = 1;\n        if (this.g(a)) {\n            if (a.width > a.height) {\n                var d = 1;\n                if (a.height != 0) {\n                    d = a.width / a.height;\n                }\n                var e = 0;\n                var f = 1;\n                while (f < d) {\n                    e++;\n                    f = truncate(Math.pow(3, e));\n                }\n                f = truncate(Math.pow(3, e - 1));\n                c = f;\n                if (c == 0 || isInfinity(c) || isNaN_(c)) {\n                    c = 1;\n                }\n            }\n            else {\n                var g = 1;\n                if (a.width != 0) {\n                    g = a.height / a.width;\n                }\n                var h = 0;\n                var i = 1;\n                while (i < g) {\n                    h++;\n                    i = truncate(Math.pow(3, h));\n                }\n                i = truncate(Math.pow(3, h - 1));\n                b = i;\n                if (isInfinity(b) || isNaN_(b)) {\n                    b = 1;\n                }\n            }\n        }\n        else {\n            b = 1;\n            c = 1;\n        }\n        var j = c != this.r || b != this.p;\n        this.p = b;\n        this.r = c;\n        return j;\n    };\n    TileZoomManager.prototype.g = function (a) {\n        return (a.width / a.height) > 3 || (a.height / a.width) > 3;\n    };\n    TileZoomManager.prototype.ag = function () {\n        var e_1, _a;\n        var a = this.a();\n        for (var b = 0; b < this.m.count; b++) {\n            this.aa(a, this.m._inner[b]);\n        }\n        var c = new Dictionary$2(Base.$, ITileZoomTile_$type, 0);\n        try {\n            for (var _b = tslib_1.__values(fromEnum(this.l.keys)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var d = _c.value;\n                c.addItem(this.l.item(d).content, this.l.item(d));\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        this.e.bn.b0(c, this.n, 512);\n    };\n    TileZoomManager.prototype.aa = function (a, b) {\n        var c = this.as(b, a);\n        var d = c.left * a.b;\n        var e = c.top * a.a;\n        var f = c.right * a.b;\n        var g = c.bottom * a.a;\n        var h = d - a.f.left;\n        var i = e - a.f.top;\n        var j = f - d;\n        var k = g - e;\n        b.xPosition = h / this.p;\n        b.yPosition = i / this.r;\n        b.width = j / this.p;\n        b.height = k / this.r;\n    };\n    TileZoomManager.prototype.ak = function () {\n        var e_2, _a;\n        var a = this.a();\n        this.k.clear();\n        for (var b = 0; b < this.m.count; b++) {\n            var c = this.m._inner[b];\n            this.k.addItem(c, c);\n        }\n        this.m.clear();\n        this.l.clear();\n        this.n.clear();\n        for (var d = 0; d < this.o.count; d++) {\n            var e = this.o._inner[d];\n            var f = this.d.b(e);\n            if (f == null) {\n                f = this.b(e, a);\n                this.d.f(f);\n            }\n            if (this.k.containsKey(f)) {\n                this.k.removeItem(f);\n                this.l.addItem(f, f);\n            }\n            else {\n                this.z(f);\n                this.n.add(f);\n            }\n            this.m.add(f);\n        }\n        try {\n            for (var _b = tslib_1.__values(fromEnum(this.k.keys)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var g = _c.value;\n                this.ad(g);\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n    };\n    TileZoomManager.prototype.ad = function (a) {\n    };\n    TileZoomManager.prototype.z = function (a) {\n    };\n    TileZoomManager.prototype.b = function (a, b) {\n        var c = this.c(a);\n        var d = this.as(c, b);\n        var e = this.ar();\n        var f = 1 / e.width;\n        var g = e.height;\n        if (e.width > e.height) {\n            f = e.width;\n            g = 1 / e.height;\n        }\n        var h = (d.left - e.left) * f;\n        var i = (d.top - e.top) * g;\n        var j = (d.right - e.left) * f;\n        var k = (d.bottom - e.top) * g;\n        d = new Rect(0, h, i, j - h, k - i);\n        var l = this.e.bn.bf(d, c, truncate(512));\n        c.content = l;\n        return c;\n    };\n    TileZoomManager.prototype.ar = function () {\n        var a = this.e.m3;\n        var b = this.e.mu;\n        if (b.isEmpty) {\n            return new Rect(0, 0, 0, 1, 1);\n        }\n        var c = (b.left - a.left) / a.width;\n        var d = (b.top - a.top) / a.height;\n        var e = (b.right - a.left) / a.width;\n        var f = (b.bottom - a.top) / a.height;\n        return new Rect(0, c, d, e - c, f - d);\n    };\n    TileZoomManager.prototype.as = function (a, b) {\n        var c = a.info.xPosition * 512;\n        var d = a.info.yPosition * 512;\n        var e = c + 512;\n        var f = d + 512;\n        var g = c / b.d;\n        var h = d / b.c;\n        var i = 512 / b.d;\n        var j = 512 / b.c;\n        return new Rect(0, g, h, i, j);\n    };\n    TileZoomManager.prototype.c = function (a) {\n        var b = 0;\n        b = this.y;\n        this.y++;\n        var c = new TileZoomTile();\n        c.info = a;\n        c.iD = b;\n        return c;\n    };\n    TileZoomManager.prototype.a = function () {\n        var a = this.aq(this.aw);\n        var b = this.x(a);\n        var c = Math.pow(2, b) * 512;\n        var d = c;\n        var e = (this.ao.width / this.au.width) * c;\n        var f = (this.ao.height / this.au.height) * d;\n        var g = (this.ao.width / a.width);\n        var h = (this.ao.height / a.height);\n        var i = a.left * g;\n        var j = a.top * h;\n        var k = a.right * g;\n        var l = a.bottom * h;\n        var m = new TileZoomInfo();\n        m.f = new Rect(0, i, j, k - i, l - j);\n        var n = this.at(this.aw, m.f, b, g, h, e, f);\n        var o = n.left * e;\n        var p = n.top * f;\n        var q = n.right * e;\n        var r = n.bottom * f;\n        m.g = new Rect(0, o, p, q - o, r - p);\n        m.e = b;\n        m.d = e;\n        m.c = f;\n        m.b = g;\n        m.a = h;\n        return m;\n    };\n    TileZoomManager.prototype.aq = function (a) {\n        return a;\n    };\n    TileZoomManager.prototype.at = function (a, b, c, d, e, f, g) {\n        var h = (a.left + a.right) / 2;\n        var i = (a.top + a.bottom) / 2;\n        var j = a.width;\n        var k = a.height;\n        j = j * d / f;\n        k = k * e / g;\n        var l = j / 2;\n        var m = k / 2;\n        return new Rect(0, h - l, i - m, j, k);\n    };\n    TileZoomManager.prototype.af = function () {\n        var a = this.a();\n        var b = 512 * a.b / a.d;\n        var c = 512 * a.a / a.c;\n        var d = truncate(Math.floor(a.f.left / b));\n        var e = truncate(Math.floor(a.f.top / c));\n        var f = truncate(Math.floor(a.f.right / b));\n        var g = truncate(Math.floor(a.f.bottom / c));\n        this.o.clear();\n        var _loop_1 = function (h) {\n            var _loop_2 = function (i) {\n                this_1.o.add(((function () {\n                    var $ret = new TileZoomTileInfo();\n                    $ret.xPosition = i;\n                    $ret.yPosition = h;\n                    $ret.zoomLevel = a.e;\n                    return $ret;\n                })()));\n            };\n            for (var i = d; i <= f; i++) {\n                _loop_2(i);\n            }\n        };\n        var this_1 = this;\n        for (var h = e; h <= g; h++) {\n            _loop_1(h);\n        }\n    };\n    TileZoomManager.prototype.x = function (a) {\n        var b = 1 / a.width;\n        var c = 1 / a.height;\n        var d;\n        var e;\n        if (this.h) {\n            d = Math.floor(logBase(b, 2));\n            e = Math.floor(logBase(c, 2));\n        }\n        else {\n            d = Math.ceil(logBase(b, 2));\n            e = Math.ceil(logBase(c, 2));\n        }\n        var f = Math.min(d, e) + (this.v);\n        return truncate(f);\n    };\n    TileZoomManager.prototype.ab = function () {\n        if (!this.f) {\n            return;\n        }\n        this.f = false;\n        this.e.bn.bx();\n        this.d.g();\n    };\n    TileZoomManager.prototype.al = function () {\n        this.i = true;\n    };\n    TileZoomManager.prototype.ah = function () {\n        this.i = false;\n        this.e.bn.cf();\n    };\n    TileZoomManager.prototype.ae = function (a) {\n        this.e.bn.by(a);\n    };\n    TileZoomManager.prototype.ac = function () {\n        this.m.clear();\n        this.o.clear();\n        this.k.clear();\n    };\n    TileZoomManager.$t = markType(TileZoomManager, 'TileZoomManager');\n    return TileZoomManager;\n}(Base));\nexport { TileZoomManager };\n/**\n * @hidden\n */\nvar TileZoomTileCache = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TileZoomTileCache, _super);\n    function TileZoomTileCache(a, b) {\n        var _this = _super.call(this) || this;\n        _this.c = new Dictionary$2(String_$type, TileZoomTile.$, 0);\n        _this.d = new LinkedList$1(TileZoomTile.$);\n        _this.e = 0;\n        _this.a = null;\n        _this.e = a;\n        _this.a = b;\n        return _this;\n    }\n    TileZoomTileCache.prototype.g = function () {\n        this.c.clear();\n        this.d = new LinkedList$1(TileZoomTile.$);\n    };\n    TileZoomTileCache.prototype.i = function (a) {\n        this.d.h(a.b);\n        this.d.f(a);\n        a.b = this.d.d;\n    };\n    TileZoomTileCache.prototype.f = function (a) {\n        this.d.f(a);\n        this.c.addItem(a.info.toString(), a);\n        a.a = this;\n        a.b = this.d.d;\n        while (this.c.count > this.e) {\n            this.h(this.d.c.c);\n        }\n    };\n    TileZoomTileCache.prototype.h = function (a) {\n        this.d.h(a.b);\n        this.c.removeItem(a.info.toString());\n        this.a.ae(a);\n    };\n    TileZoomTileCache.prototype.b = function (a) {\n        if (this.c.containsKey(a.toString())) {\n            var b = this.c.item(a.toString());\n            b.touch();\n            return b;\n        }\n        return null;\n    };\n    TileZoomTileCache.$t = markType(TileZoomTileCache, 'TileZoomTileCache');\n    return TileZoomTileCache;\n}(Base));\nexport { TileZoomTileCache };\n/**\n * @hidden\n */\nvar TileZoomTile = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TileZoomTile, _super);\n    function TileZoomTile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._info = null;\n        _this.a = null;\n        _this.b = null;\n        _this._content = null;\n        _this._xPosition = 0;\n        _this._width = 0;\n        _this._yPosition = 0;\n        _this._height = 0;\n        _this._iD = 0;\n        return _this;\n    }\n    Object.defineProperty(TileZoomTile.prototype, \"info\", {\n        get: function () {\n            return this._info;\n        },\n        set: function (a) {\n            this._info = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TileZoomTile.prototype.touch = function () {\n        if (this.a == null) {\n            return;\n        }\n        this.a.i(this);\n    };\n    Object.defineProperty(TileZoomTile.prototype, \"content\", {\n        get: function () {\n            return this._content;\n        },\n        set: function (a) {\n            this._content = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TileZoomTile.prototype, \"xPosition\", {\n        get: function () {\n            return this._xPosition;\n        },\n        set: function (a) {\n            this._xPosition = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TileZoomTile.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (a) {\n            this._width = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TileZoomTile.prototype, \"yPosition\", {\n        get: function () {\n            return this._yPosition;\n        },\n        set: function (a) {\n            this._yPosition = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TileZoomTile.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (a) {\n            this._height = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TileZoomTile.prototype, \"iD\", {\n        get: function () {\n            return this._iD;\n        },\n        set: function (a) {\n            this._iD = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TileZoomTile.$t = markType(TileZoomTile, 'TileZoomTile', Base.$, [ITileZoomTile_$type]);\n    return TileZoomTile;\n}(Base));\nexport { TileZoomTile };\n//# sourceMappingURL=TileZoomManager_combined.js.map\n"]},"metadata":{},"sourceType":"module"}