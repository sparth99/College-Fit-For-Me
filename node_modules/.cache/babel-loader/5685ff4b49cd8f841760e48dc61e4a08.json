{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d2 = require('d3');\n\nvar _d3 = _interopRequireDefault(_d2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar number = _propTypes2.default.number;\nvar DefaultScalesMixin = {\n  propTypes: {\n    barPadding: number\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      barPadding: 0.5\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    this._makeScales(this.props);\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this._makeScales(nextProps);\n  },\n  _makeScales: function _makeScales(props) {\n    var xScale = props.xScale,\n        xIntercept = props.xIntercept,\n        yScale = props.yScale,\n        yIntercept = props.yIntercept;\n\n    if (!xScale) {\n      var _makeXScale = this._makeXScale(props);\n\n      var _makeXScale2 = _slicedToArray(_makeXScale, 2);\n\n      this._xScale = _makeXScale2[0];\n      this._xIntercept = _makeXScale2[1];\n    } else {\n      var _ref = [xScale, xIntercept];\n      this._xScale = _ref[0];\n      this._xIntercept = _ref[1];\n    }\n\n    if (!yScale) {\n      var _makeYScale = this._makeYScale(props);\n\n      var _makeYScale2 = _slicedToArray(_makeYScale, 2);\n\n      this._yScale = _makeYScale2[0];\n      this._yIntercept = _makeYScale2[1];\n    } else {\n      var _ref2 = [yScale, yIntercept];\n      this._yScale = _ref2[0];\n      this._yIntercept = _ref2[1];\n    }\n  },\n  _makeXScale: function _makeXScale(props) {\n    var x = props.x,\n        values = props.values;\n    var data = this._data;\n\n    if (typeof x(values(data[0])[0]) === 'number') {\n      return this._makeLinearXScale(props);\n    } else if (typeof x(values(data[0])[0]).getMonth === 'function') {\n      return this._makeTimeXScale(props);\n    } else {\n      return this._makeOrdinalXScale(props);\n    }\n  },\n  _makeLinearXScale: function _makeLinearXScale(props) {\n    var x = props.x,\n        values = props.values;\n    var data = this._data;\n    var extentsData = data.map(function (stack) {\n      return values(stack).map(function (e) {\n        return x(e);\n      });\n    });\n\n    var extents = _d3.default.extent(Array.prototype.concat.apply([], extentsData));\n\n    var scale = _d3.default.scale.linear().domain(extents).range([0, this._innerWidth]);\n\n    var zero = _d3.default.max([0, scale.domain()[0]]);\n\n    var xIntercept = scale(zero);\n    return [scale, xIntercept];\n  },\n  _makeOrdinalXScale: function _makeOrdinalXScale(props) {\n    var x = props.x,\n        values = props.values,\n        barPadding = props.barPadding;\n\n    var scale = _d3.default.scale.ordinal().domain(values(this._data[0]).map(function (e) {\n      return x(e);\n    })).rangeRoundBands([0, this._innerWidth], barPadding);\n\n    return [scale, 0];\n  },\n  _makeTimeXScale: function _makeTimeXScale(props) {\n    var x = props.x,\n        values = props.values;\n\n    var minDate = _d3.default.min(values(this._data[0]), x);\n\n    var maxDate = _d3.default.max(values(this._data[0]), x);\n\n    var scale = _d3.default.time.scale().domain([minDate, maxDate]).range([0, this._innerWidth]);\n\n    return [scale, 0];\n  },\n  _makeYScale: function _makeYScale(props) {\n    var y = props.y,\n        values = props.values;\n    var data = this._data;\n\n    if (typeof y(values(data[0])[0]) === 'number') {\n      return this._makeLinearYScale(props);\n    } else {\n      return this._makeOrdinalYScale(props);\n    }\n  },\n  _makeLinearYScale: function _makeLinearYScale(props) {\n    var y = props.y,\n        y0 = props.y0,\n        values = props.values,\n        groupedBars = props.groupedBars;\n\n    var extentsData = this._data.map(function (stack) {\n      return values(stack).map(function (e) {\n        return groupedBars ? y(e) : y0(e) + y(e);\n      });\n    });\n\n    var extents = _d3.default.extent(Array.prototype.concat.apply([], extentsData));\n\n    extents = [_d3.default.min([0, extents[0]]), extents[1]];\n\n    var scale = _d3.default.scale.linear().domain(extents).range([this._innerHeight, 0]);\n\n    var zero = _d3.default.max([0, scale.domain()[0]]);\n\n    var yIntercept = scale(zero);\n    return [scale, yIntercept];\n  },\n  _makeOrdinalYScale: function _makeOrdinalYScale() {\n    var scale = _d3.default.scale.ordinal().range([this._innerHeight, 0]);\n\n    var yIntercept = scale(0);\n    return [scale, yIntercept];\n  }\n};\nexports.default = DefaultScalesMixin;","map":{"version":3,"sources":["/Users/Parth/web-project/node_modules/react-d3-components/lib/DefaultScalesMixin.js"],"names":["Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_propTypes","require","_propTypes2","_interopRequireDefault","_d2","_d3","obj","__esModule","default","number","DefaultScalesMixin","propTypes","barPadding","getDefaultProps","componentWillMount","_makeScales","props","componentWillReceiveProps","nextProps","xScale","xIntercept","yScale","yIntercept","_makeXScale","_makeXScale2","_xScale","_xIntercept","_ref","_makeYScale","_makeYScale2","_yScale","_yIntercept","_ref2","x","values","data","_data","_makeLinearXScale","getMonth","_makeTimeXScale","_makeOrdinalXScale","extentsData","map","stack","e","extents","extent","prototype","concat","apply","scale","linear","domain","range","_innerWidth","zero","max","ordinal","rangeRoundBands","minDate","min","maxDate","time","y","_makeLinearYScale","_makeOrdinalYScale","y0","groupedBars","_innerHeight"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIA,IAAIC,cAAc,GAAG,YAAY;AAAE,WAASC,aAAT,CAAuBC,GAAvB,EAA4BC,CAA5B,EAA+B;AAAE,QAAIC,IAAI,GAAG,EAAX;AAAe,QAAIC,EAAE,GAAG,IAAT;AAAe,QAAIC,EAAE,GAAG,KAAT;AAAgB,QAAIC,EAAE,GAAGC,SAAT;;AAAoB,QAAI;AAAE,WAAK,IAAIC,EAAE,GAAGP,GAAG,CAACQ,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiCC,EAAtC,EAA0C,EAAEP,EAAE,GAAG,CAACO,EAAE,GAAGH,EAAE,CAACI,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyET,EAAE,GAAG,IAA9E,EAAoF;AAAED,QAAAA,IAAI,CAACW,IAAL,CAAUH,EAAE,CAACb,KAAb;;AAAqB,YAAII,CAAC,IAAIC,IAAI,CAACY,MAAL,KAAgBb,CAAzB,EAA4B;AAAQ;AAAE,KAAvJ,CAAwJ,OAAOc,GAAP,EAAY;AAAEX,MAAAA,EAAE,GAAG,IAAL;AAAWC,MAAAA,EAAE,GAAGU,GAAL;AAAW,KAA5L,SAAqM;AAAE,UAAI;AAAE,YAAI,CAACZ,EAAD,IAAOI,EAAE,CAAC,QAAD,CAAb,EAAyBA,EAAE,CAAC,QAAD,CAAF;AAAiB,OAAhD,SAAyD;AAAE,YAAIH,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE;;AAAC,WAAOH,IAAP;AAAc;;AAAC,SAAO,UAAUF,GAAV,EAAeC,CAAf,EAAkB;AAAE,QAAIe,KAAK,CAACC,OAAN,CAAcjB,GAAd,CAAJ,EAAwB;AAAE,aAAOA,GAAP;AAAa,KAAvC,MAA6C,IAAIQ,MAAM,CAACC,QAAP,IAAmBf,MAAM,CAACM,GAAD,CAA7B,EAAoC;AAAE,aAAOD,aAAa,CAACC,GAAD,EAAMC,CAAN,CAApB;AAA+B,KAArE,MAA2E;AAAE,YAAM,IAAIiB,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,GAArO;AAAwO,CAAhoB,EAArB;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIC,WAAW,GAAGC,sBAAsB,CAACH,UAAD,CAAxC;;AAEA,IAAII,GAAG,GAAGH,OAAO,CAAC,IAAD,CAAjB;;AAEA,IAAII,GAAG,GAAGF,sBAAsB,CAACC,GAAD,CAAhC;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,IAAIG,MAAM,GAAGP,WAAW,CAACM,OAAZ,CAAoBC,MAAjC;AAGA,IAAIC,kBAAkB,GAAG;AACrBC,EAAAA,SAAS,EAAE;AACPC,IAAAA,UAAU,EAAEH;AADL,GADU;AAKrBI,EAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AACxC,WAAO;AACHD,MAAAA,UAAU,EAAE;AADT,KAAP;AAGH,GAToB;AAUrBE,EAAAA,kBAAkB,EAAE,SAASA,kBAAT,GAA8B;AAC9C,SAAKC,WAAL,CAAiB,KAAKC,KAAtB;AACH,GAZoB;AAarBC,EAAAA,yBAAyB,EAAE,SAASA,yBAAT,CAAmCC,SAAnC,EAA8C;AACrE,SAAKH,WAAL,CAAiBG,SAAjB;AACH,GAfoB;AAgBrBH,EAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AACrC,QAAIG,MAAM,GAAGH,KAAK,CAACG,MAAnB;AAAA,QACIC,UAAU,GAAGJ,KAAK,CAACI,UADvB;AAAA,QAEIC,MAAM,GAAGL,KAAK,CAACK,MAFnB;AAAA,QAGIC,UAAU,GAAGN,KAAK,CAACM,UAHvB;;AAMA,QAAI,CAACH,MAAL,EAAa;AACT,UAAII,WAAW,GAAG,KAAKA,WAAL,CAAiBP,KAAjB,CAAlB;;AAEA,UAAIQ,YAAY,GAAG7C,cAAc,CAAC4C,WAAD,EAAc,CAAd,CAAjC;;AAEA,WAAKE,OAAL,GAAeD,YAAY,CAAC,CAAD,CAA3B;AACA,WAAKE,WAAL,GAAmBF,YAAY,CAAC,CAAD,CAA/B;AACH,KAPD,MAOO;AACH,UAAIG,IAAI,GAAG,CAACR,MAAD,EAASC,UAAT,CAAX;AACA,WAAKK,OAAL,GAAeE,IAAI,CAAC,CAAD,CAAnB;AACA,WAAKD,WAAL,GAAmBC,IAAI,CAAC,CAAD,CAAvB;AACH;;AAED,QAAI,CAACN,MAAL,EAAa;AACT,UAAIO,WAAW,GAAG,KAAKA,WAAL,CAAiBZ,KAAjB,CAAlB;;AAEA,UAAIa,YAAY,GAAGlD,cAAc,CAACiD,WAAD,EAAc,CAAd,CAAjC;;AAEA,WAAKE,OAAL,GAAeD,YAAY,CAAC,CAAD,CAA3B;AACA,WAAKE,WAAL,GAAmBF,YAAY,CAAC,CAAD,CAA/B;AACH,KAPD,MAOO;AACH,UAAIG,KAAK,GAAG,CAACX,MAAD,EAASC,UAAT,CAAZ;AACA,WAAKQ,OAAL,GAAeE,KAAK,CAAC,CAAD,CAApB;AACA,WAAKD,WAAL,GAAmBC,KAAK,CAAC,CAAD,CAAxB;AACH;AACJ,GAhDoB;AAiDrBT,EAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBP,KAArB,EAA4B;AACrC,QAAIiB,CAAC,GAAGjB,KAAK,CAACiB,CAAd;AAAA,QACIC,MAAM,GAAGlB,KAAK,CAACkB,MADnB;AAGA,QAAIC,IAAI,GAAG,KAAKC,KAAhB;;AAEA,QAAI,OAAOH,CAAC,CAACC,MAAM,CAACC,IAAI,CAAC,CAAD,CAAL,CAAN,CAAgB,CAAhB,CAAD,CAAR,KAAiC,QAArC,EAA+C;AAC3C,aAAO,KAAKE,iBAAL,CAAuBrB,KAAvB,CAAP;AACH,KAFD,MAEO,IAAI,OAAOiB,CAAC,CAACC,MAAM,CAACC,IAAI,CAAC,CAAD,CAAL,CAAN,CAAgB,CAAhB,CAAD,CAAD,CAAsBG,QAA7B,KAA0C,UAA9C,EAA0D;AAC7D,aAAO,KAAKC,eAAL,CAAqBvB,KAArB,CAAP;AACH,KAFM,MAEA;AACH,aAAO,KAAKwB,kBAAL,CAAwBxB,KAAxB,CAAP;AACH;AACJ,GA9DoB;AA+DrBqB,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,CAA2BrB,KAA3B,EAAkC;AACjD,QAAIiB,CAAC,GAAGjB,KAAK,CAACiB,CAAd;AAAA,QACIC,MAAM,GAAGlB,KAAK,CAACkB,MADnB;AAGA,QAAIC,IAAI,GAAG,KAAKC,KAAhB;AAEA,QAAIK,WAAW,GAAGN,IAAI,CAACO,GAAL,CAAS,UAAUC,KAAV,EAAiB;AACxC,aAAOT,MAAM,CAACS,KAAD,CAAN,CAAcD,GAAd,CAAkB,UAAUE,CAAV,EAAa;AAClC,eAAOX,CAAC,CAACW,CAAD,CAAR;AACH,OAFM,CAAP;AAGH,KAJiB,CAAlB;;AAKA,QAAIC,OAAO,GAAGxC,GAAG,CAACG,OAAJ,CAAYsC,MAAZ,CAAmBjD,KAAK,CAACkD,SAAN,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,EAA7B,EAAiCR,WAAjC,CAAnB,CAAd;;AAEA,QAAIS,KAAK,GAAG7C,GAAG,CAACG,OAAJ,CAAY0C,KAAZ,CAAkBC,MAAlB,GAA2BC,MAA3B,CAAkCP,OAAlC,EAA2CQ,KAA3C,CAAiD,CAAC,CAAD,EAAI,KAAKC,WAAT,CAAjD,CAAZ;;AAEA,QAAIC,IAAI,GAAGlD,GAAG,CAACG,OAAJ,CAAYgD,GAAZ,CAAgB,CAAC,CAAD,EAAIN,KAAK,CAACE,MAAN,GAAe,CAAf,CAAJ,CAAhB,CAAX;;AACA,QAAIhC,UAAU,GAAG8B,KAAK,CAACK,IAAD,CAAtB;AAEA,WAAO,CAACL,KAAD,EAAQ9B,UAAR,CAAP;AACH,GAlFoB;AAmFrBoB,EAAAA,kBAAkB,EAAE,SAASA,kBAAT,CAA4BxB,KAA5B,EAAmC;AACnD,QAAIiB,CAAC,GAAGjB,KAAK,CAACiB,CAAd;AAAA,QACIC,MAAM,GAAGlB,KAAK,CAACkB,MADnB;AAAA,QAEItB,UAAU,GAAGI,KAAK,CAACJ,UAFvB;;AAKA,QAAIsC,KAAK,GAAG7C,GAAG,CAACG,OAAJ,CAAY0C,KAAZ,CAAkBO,OAAlB,GAA4BL,MAA5B,CAAmClB,MAAM,CAAC,KAAKE,KAAL,CAAW,CAAX,CAAD,CAAN,CAAsBM,GAAtB,CAA0B,UAAUE,CAAV,EAAa;AAClF,aAAOX,CAAC,CAACW,CAAD,CAAR;AACH,KAF8C,CAAnC,EAERc,eAFQ,CAEQ,CAAC,CAAD,EAAI,KAAKJ,WAAT,CAFR,EAE+B1C,UAF/B,CAAZ;;AAIA,WAAO,CAACsC,KAAD,EAAQ,CAAR,CAAP;AACH,GA9FoB;AA+FrBX,EAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBvB,KAAzB,EAAgC;AAC7C,QAAIiB,CAAC,GAAGjB,KAAK,CAACiB,CAAd;AAAA,QACIC,MAAM,GAAGlB,KAAK,CAACkB,MADnB;;AAIA,QAAIyB,OAAO,GAAGtD,GAAG,CAACG,OAAJ,CAAYoD,GAAZ,CAAgB1B,MAAM,CAAC,KAAKE,KAAL,CAAW,CAAX,CAAD,CAAtB,EAAuCH,CAAvC,CAAd;;AACA,QAAI4B,OAAO,GAAGxD,GAAG,CAACG,OAAJ,CAAYgD,GAAZ,CAAgBtB,MAAM,CAAC,KAAKE,KAAL,CAAW,CAAX,CAAD,CAAtB,EAAuCH,CAAvC,CAAd;;AAEA,QAAIiB,KAAK,GAAG7C,GAAG,CAACG,OAAJ,CAAYsD,IAAZ,CAAiBZ,KAAjB,GAAyBE,MAAzB,CAAgC,CAACO,OAAD,EAAUE,OAAV,CAAhC,EAAoDR,KAApD,CAA0D,CAAC,CAAD,EAAI,KAAKC,WAAT,CAA1D,CAAZ;;AAEA,WAAO,CAACJ,KAAD,EAAQ,CAAR,CAAP;AACH,GA1GoB;AA2GrBtB,EAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBZ,KAArB,EAA4B;AACrC,QAAI+C,CAAC,GAAG/C,KAAK,CAAC+C,CAAd;AAAA,QACI7B,MAAM,GAAGlB,KAAK,CAACkB,MADnB;AAGA,QAAIC,IAAI,GAAG,KAAKC,KAAhB;;AAEA,QAAI,OAAO2B,CAAC,CAAC7B,MAAM,CAACC,IAAI,CAAC,CAAD,CAAL,CAAN,CAAgB,CAAhB,CAAD,CAAR,KAAiC,QAArC,EAA+C;AAC3C,aAAO,KAAK6B,iBAAL,CAAuBhD,KAAvB,CAAP;AACH,KAFD,MAEO;AACH,aAAO,KAAKiD,kBAAL,CAAwBjD,KAAxB,CAAP;AACH;AACJ,GAtHoB;AAuHrBgD,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,CAA2BhD,KAA3B,EAAkC;AACjD,QAAI+C,CAAC,GAAG/C,KAAK,CAAC+C,CAAd;AAAA,QACIG,EAAE,GAAGlD,KAAK,CAACkD,EADf;AAAA,QAEIhC,MAAM,GAAGlB,KAAK,CAACkB,MAFnB;AAAA,QAGIiC,WAAW,GAAGnD,KAAK,CAACmD,WAHxB;;AAMA,QAAI1B,WAAW,GAAG,KAAKL,KAAL,CAAWM,GAAX,CAAe,UAAUC,KAAV,EAAiB;AAC9C,aAAOT,MAAM,CAACS,KAAD,CAAN,CAAcD,GAAd,CAAkB,UAAUE,CAAV,EAAa;AAClC,eAAOuB,WAAW,GAAGJ,CAAC,CAACnB,CAAD,CAAJ,GAAUsB,EAAE,CAACtB,CAAD,CAAF,GAAQmB,CAAC,CAACnB,CAAD,CAArC;AACH,OAFM,CAAP;AAGH,KAJiB,CAAlB;;AAKA,QAAIC,OAAO,GAAGxC,GAAG,CAACG,OAAJ,CAAYsC,MAAZ,CAAmBjD,KAAK,CAACkD,SAAN,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,EAA7B,EAAiCR,WAAjC,CAAnB,CAAd;;AAEAI,IAAAA,OAAO,GAAG,CAACxC,GAAG,CAACG,OAAJ,CAAYoD,GAAZ,CAAgB,CAAC,CAAD,EAAIf,OAAO,CAAC,CAAD,CAAX,CAAhB,CAAD,EAAmCA,OAAO,CAAC,CAAD,CAA1C,CAAV;;AAEA,QAAIK,KAAK,GAAG7C,GAAG,CAACG,OAAJ,CAAY0C,KAAZ,CAAkBC,MAAlB,GAA2BC,MAA3B,CAAkCP,OAAlC,EAA2CQ,KAA3C,CAAiD,CAAC,KAAKe,YAAN,EAAoB,CAApB,CAAjD,CAAZ;;AAEA,QAAIb,IAAI,GAAGlD,GAAG,CAACG,OAAJ,CAAYgD,GAAZ,CAAgB,CAAC,CAAD,EAAIN,KAAK,CAACE,MAAN,GAAe,CAAf,CAAJ,CAAhB,CAAX;;AACA,QAAI9B,UAAU,GAAG4B,KAAK,CAACK,IAAD,CAAtB;AAEA,WAAO,CAACL,KAAD,EAAQ5B,UAAR,CAAP;AACH,GA7IoB;AA8IrB2C,EAAAA,kBAAkB,EAAE,SAASA,kBAAT,GAA8B;AAC9C,QAAIf,KAAK,GAAG7C,GAAG,CAACG,OAAJ,CAAY0C,KAAZ,CAAkBO,OAAlB,GAA4BJ,KAA5B,CAAkC,CAAC,KAAKe,YAAN,EAAoB,CAApB,CAAlC,CAAZ;;AAEA,QAAI9C,UAAU,GAAG4B,KAAK,CAAC,CAAD,CAAtB;AAEA,WAAO,CAACA,KAAD,EAAQ5B,UAAR,CAAP;AACH;AApJoB,CAAzB;AAuJA7C,OAAO,CAAC+B,OAAR,GAAkBE,kBAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d2 = require('d3');\n\nvar _d3 = _interopRequireDefault(_d2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar number = _propTypes2.default.number;\n\n\nvar DefaultScalesMixin = {\n    propTypes: {\n        barPadding: number\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            barPadding: 0.5\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        this._makeScales(this.props);\n    },\n    componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n        this._makeScales(nextProps);\n    },\n    _makeScales: function _makeScales(props) {\n        var xScale = props.xScale,\n            xIntercept = props.xIntercept,\n            yScale = props.yScale,\n            yIntercept = props.yIntercept;\n\n\n        if (!xScale) {\n            var _makeXScale = this._makeXScale(props);\n\n            var _makeXScale2 = _slicedToArray(_makeXScale, 2);\n\n            this._xScale = _makeXScale2[0];\n            this._xIntercept = _makeXScale2[1];\n        } else {\n            var _ref = [xScale, xIntercept];\n            this._xScale = _ref[0];\n            this._xIntercept = _ref[1];\n        }\n\n        if (!yScale) {\n            var _makeYScale = this._makeYScale(props);\n\n            var _makeYScale2 = _slicedToArray(_makeYScale, 2);\n\n            this._yScale = _makeYScale2[0];\n            this._yIntercept = _makeYScale2[1];\n        } else {\n            var _ref2 = [yScale, yIntercept];\n            this._yScale = _ref2[0];\n            this._yIntercept = _ref2[1];\n        }\n    },\n    _makeXScale: function _makeXScale(props) {\n        var x = props.x,\n            values = props.values;\n\n        var data = this._data;\n\n        if (typeof x(values(data[0])[0]) === 'number') {\n            return this._makeLinearXScale(props);\n        } else if (typeof x(values(data[0])[0]).getMonth === 'function') {\n            return this._makeTimeXScale(props);\n        } else {\n            return this._makeOrdinalXScale(props);\n        }\n    },\n    _makeLinearXScale: function _makeLinearXScale(props) {\n        var x = props.x,\n            values = props.values;\n\n        var data = this._data;\n\n        var extentsData = data.map(function (stack) {\n            return values(stack).map(function (e) {\n                return x(e);\n            });\n        });\n        var extents = _d3.default.extent(Array.prototype.concat.apply([], extentsData));\n\n        var scale = _d3.default.scale.linear().domain(extents).range([0, this._innerWidth]);\n\n        var zero = _d3.default.max([0, scale.domain()[0]]);\n        var xIntercept = scale(zero);\n\n        return [scale, xIntercept];\n    },\n    _makeOrdinalXScale: function _makeOrdinalXScale(props) {\n        var x = props.x,\n            values = props.values,\n            barPadding = props.barPadding;\n\n\n        var scale = _d3.default.scale.ordinal().domain(values(this._data[0]).map(function (e) {\n            return x(e);\n        })).rangeRoundBands([0, this._innerWidth], barPadding);\n\n        return [scale, 0];\n    },\n    _makeTimeXScale: function _makeTimeXScale(props) {\n        var x = props.x,\n            values = props.values;\n\n\n        var minDate = _d3.default.min(values(this._data[0]), x);\n        var maxDate = _d3.default.max(values(this._data[0]), x);\n\n        var scale = _d3.default.time.scale().domain([minDate, maxDate]).range([0, this._innerWidth]);\n\n        return [scale, 0];\n    },\n    _makeYScale: function _makeYScale(props) {\n        var y = props.y,\n            values = props.values;\n\n        var data = this._data;\n\n        if (typeof y(values(data[0])[0]) === 'number') {\n            return this._makeLinearYScale(props);\n        } else {\n            return this._makeOrdinalYScale(props);\n        }\n    },\n    _makeLinearYScale: function _makeLinearYScale(props) {\n        var y = props.y,\n            y0 = props.y0,\n            values = props.values,\n            groupedBars = props.groupedBars;\n\n\n        var extentsData = this._data.map(function (stack) {\n            return values(stack).map(function (e) {\n                return groupedBars ? y(e) : y0(e) + y(e);\n            });\n        });\n        var extents = _d3.default.extent(Array.prototype.concat.apply([], extentsData));\n\n        extents = [_d3.default.min([0, extents[0]]), extents[1]];\n\n        var scale = _d3.default.scale.linear().domain(extents).range([this._innerHeight, 0]);\n\n        var zero = _d3.default.max([0, scale.domain()[0]]);\n        var yIntercept = scale(zero);\n\n        return [scale, yIntercept];\n    },\n    _makeOrdinalYScale: function _makeOrdinalYScale() {\n        var scale = _d3.default.scale.ordinal().range([this._innerHeight, 0]);\n\n        var yIntercept = scale(0);\n\n        return [scale, yIntercept];\n    }\n};\n\nexports.default = DefaultScalesMixin;"]},"metadata":{},"sourceType":"script"}