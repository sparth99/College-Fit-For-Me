{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { CategoryBucketCalculator } from \"./CategoryBucketCalculator\";\nimport { markType, typeCast, markDep, Point_$type } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { CategorySeries } from \"./CategorySeries\";\nimport { IIsCategoryBased_$type } from \"./IIsCategoryBased\";\nimport { IHasHighLowValueCategory_$type } from \"./IHasHighLowValueCategory\";\nimport { RangeCategoryFramePreparer } from \"./RangeCategoryFramePreparer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CategoryAxisBase } from \"./CategoryAxisBase\";\nimport { ICategoryScaler_$type } from \"./ICategoryScaler\";\nimport { IScaler_$type } from \"./IScaler\";\nimport { CategorySeriesView } from \"./CategorySeriesView\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { CategoryMarkerManager } from \"./CategoryMarkerManager\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { CollisionAvoider } from \"./CollisionAvoider\";\nimport { ISupportsMarkers_$type } from \"./ISupportsMarkers\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { FastFlattener } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar RangeCategoryBucketCalculator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(RangeCategoryBucketCalculator, _super);\n\n  function RangeCategoryBucketCalculator(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.j = null;\n    _this.l = 0;\n    _this.k = 0;\n    _this.i = null;\n    _this.h = null;\n    _this.j = a;\n    return _this;\n  }\n\n  RangeCategoryBucketCalculator.prototype.getBucketWithoutUnknowns = function (a) {\n    var b = false;\n    var c = this.i;\n    var d = this.h;\n    var e = this.l;\n    var f = this.k;\n    var g = Math.min(e, f);\n    var h = a * this.d;\n    var i = Math.min(h + this.d - 1, g - 1);\n    var j = 1.7976931348623157E+308;\n    var k = -1.7976931348623157E+308;\n    var l = true;\n    var m = 0;\n    var n = 0;\n    var o;\n    var p;\n\n    for (var q = h; q <= i; ++q) {\n      m = c[q];\n      n = d[q];\n\n      if (m < n) {\n        o = m;\n        p = n;\n      } else {\n        p = m;\n        o = n;\n      }\n\n      if (!l) {\n        j = j < o ? j : o;\n        k = k > o ? k : o;\n        j = j < p ? j : p;\n        k = k > p ? k : p;\n      } else {\n        j = Math.min(j, o);\n        k = Math.max(k, o);\n        k = Math.max(k, p);\n        j = Math.min(j, p);\n        l = false;\n      }\n    }\n\n    if (b && n < m) {\n      var r = j;\n      j = k;\n      k = r;\n    }\n\n    if (!l) {\n      var s = new Array(3);\n      s[0] = 0.5 * (h + i);\n      s[1] = j;\n      s[2] = k;\n      return s;\n    }\n\n    var t = new Array(3);\n    t[0] = NaN;\n    t[1] = NaN;\n    t[2] = NaN;\n    return t;\n  };\n\n  RangeCategoryBucketCalculator.prototype.getBucket = function (a) {\n    var b = false;\n    var c = this.i;\n    var d = this.h;\n    var e = this.l;\n    var f = this.k;\n    var g = Math.min(e, f);\n    var h = a * this.d;\n    var i = Math.min(h + this.d - 1, g - 1);\n    var j = NaN;\n    var k = NaN;\n    var l = true;\n    var m = 0;\n    var n = 0;\n    var o;\n    var p;\n\n    for (var q = h; q <= i; ++q) {\n      m = c[q];\n      n = d[q];\n\n      if (m < n) {\n        o = m;\n        p = n;\n      } else {\n        p = m;\n        o = n;\n      }\n\n      if (!l) {\n        if (!isNaN_(o)) {\n          j = j < o ? j : o;\n          k = k > o ? k : o;\n        }\n\n        if (!isNaN_(p)) {\n          j = j < p ? j : p;\n          k = k > p ? k : p;\n        }\n      } else {\n        if (!isNaN_(o)) {\n          if (isNaN_(j)) {\n            j = o;\n          } else {\n            j = Math.min(j, o);\n          }\n\n          if (!isNaN_(k)) {\n            k = Math.max(k, o);\n          }\n        }\n\n        if (!isNaN_(p)) {\n          if (isNaN_(k)) {\n            k = p;\n          } else {\n            k = Math.max(k, p);\n          }\n\n          if (!isNaN_(j)) {\n            j = Math.min(j, p);\n          }\n        }\n\n        if (!isNaN_(j) && !isNaN_(k)) {\n          l = false;\n        }\n      }\n    }\n\n    if (n < m && b) {\n      var r = j;\n      j = k;\n      k = r;\n    }\n\n    if (!l) {\n      var s = new Array(3);\n      s[0] = 0.5 * (h + i);\n      s[1] = j;\n      s[2] = k;\n      return s;\n    }\n\n    var t = new Array(3);\n    t[0] = NaN;\n    t[1] = NaN;\n    t[2] = NaN;\n    return t;\n  };\n\n  RangeCategoryBucketCalculator.prototype.cacheValues = function () {\n    this.l = this.j.cw.lowColumn.count;\n    this.k = this.j.cw.highColumn.count;\n    this.i = this.j.cw.lowColumn.asArray();\n    this.h = this.j.cw.highColumn.asArray();\n  };\n\n  RangeCategoryBucketCalculator.prototype.unCacheValues = function () {\n    this.i = null;\n    this.h = null;\n  };\n\n  RangeCategoryBucketCalculator.$t = markType(RangeCategoryBucketCalculator, 'RangeCategoryBucketCalculator', CategoryBucketCalculator.$);\n  return RangeCategoryBucketCalculator;\n}(CategoryBucketCalculator);\n\nexport { RangeCategoryBucketCalculator };\n/**\n * @hidden\n */\n\nvar RangeCategorySeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(RangeCategorySeries, _super);\n\n  function RangeCategorySeries() {\n    var _this = _super.call(this) || this;\n\n    _this._RangeFramePreparer = null;\n    _this.o0 = null;\n    _this.oy = null;\n    _this.ov = null;\n    _this.RangeFramePreparer = new RangeCategoryFramePreparer(1, _this, _this.ox, _this, _this, _this.ox.cn);\n    return _this;\n  }\n\n  RangeCategorySeries.prototype.bf = function () {\n    return new RangeCategorySeriesView(this);\n  };\n\n  RangeCategorySeries.prototype.getHostReferenceValue = function () {\n    return this.eh();\n  };\n\n  RangeCategorySeries.prototype.iu = function (a) {\n    _super.prototype.iu.call(this, a);\n\n    this.ox = a;\n  };\n\n  Object.defineProperty(RangeCategorySeries.prototype, \"RangeFramePreparer\", {\n    get: function () {\n      return this._RangeFramePreparer;\n    },\n    set: function (a) {\n      this._RangeFramePreparer = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  RangeCategorySeries.prototype.fs = function (a, b) {\n    var c = this.gu(b);\n\n    if (c == RangeCategorySeries.$$p[0]) {\n      return this.ft(a, b, this.o3);\n    }\n\n    if (c == RangeCategorySeries.$$p[0]) {\n      return this.ft(a, b, this.o3);\n    }\n\n    return _super.prototype.fs.call(this, a, b);\n  };\n\n  Object.defineProperty(RangeCategorySeries.prototype, \"lowColumn\", {\n    get: function () {\n      return this.o0;\n    },\n    set: function (a) {\n      if (this.o0 != a) {\n        var b = this.o0;\n        this.o0 = a;\n        this.raisePropertyChanged(\"LowColumn\", b, this.o0);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(RangeCategorySeries.prototype, \"highColumn\", {\n    get: function () {\n      return this.oy;\n    },\n    set: function (a) {\n      if (this.oy != a) {\n        var b = this.oy;\n        this.oy = a;\n        this.raisePropertyChanged(\"HighColumn\", b, this.oy);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  RangeCategorySeries.prototype.ng = function () {\n    return 11;\n  };\n\n  RangeCategorySeries.prototype.oo = function (a, b) {\n    _super.prototype.oo.call(this, a, b);\n\n    b.b0 = true;\n    CategoryMarkerManager.b(this, a.m, b.cq, this.l5);\n    this.oi(b, a);\n  };\n\n  RangeCategorySeries.prototype.o8 = function (a, b, c, d, e, f) {\n    this.ox.cx(a, b, c, d, e, f);\n  };\n\n  RangeCategorySeries.prototype.c9 = function (a) {\n    var b = new Rect(0, 0, 0, 1, 1);\n    var c = this.bi != null ? this.bi.bs : Rect.empty;\n    c = c.copy();\n    var d = this.bi != null ? this.bi.br : Rect.empty;\n    var e = !c.isEmpty && !d.isEmpty && this.bz != null ? this.bz.indexOf(a) : -1;\n    var f = this.fetchXAxis();\n    var g = this.fetchYAxis();\n    var h = this.ls(this.bi);\n    var i;\n\n    if (f != null) {\n      var j = new ScalerParams(0, b, b, f.b8, h);\n      i = f.dw(e, j);\n    } else {\n      i = NaN;\n    }\n\n    var k = f != null ? this.RangeFramePreparer.r(typeCast(ICategoryScaler_$type, f), b, b, h) : 0;\n    i += k;\n\n    if (e >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n      if (!isNaN_(i)) {\n        if (i < c.left + 0.1 * c.width) {\n          i = i + 0.4 * c.width;\n        }\n\n        if (i > c.right - 0.1 * c.width) {\n          i = i - 0.4 * c.width;\n        }\n\n        c.x = i - 0.5 * c.width;\n      }\n\n      if (g != null && this.highColumn != null && e < this.highColumn.count) {\n        var l = new ScalerParams(0, b, b, g.b8, h);\n        l.b = this.eh();\n        var m = g.dw(this.highColumn.item(e), l);\n        var n = g.dw(this.lowColumn.item(e), l);\n\n        if (!isNaN_(m) && !isNaN_(n)) {\n          var o = Math.abs(n - m);\n\n          if (c.height < o) {\n            c.height = o;\n            c.y = Math.min(n, m);\n          } else {\n            if (n < c.top + 0.1 * c.height) {\n              n = n + 0.4 * c.height;\n            }\n\n            if (n > c.bottom - 0.1 * c.height) {\n              n = n - 0.4 * c.height;\n            }\n\n            c.y = n - 0.5 * c.height;\n          }\n        }\n      }\n\n      if (this.bn != null) {\n        this.bn.ap(this.bs, c, true);\n      }\n    }\n\n    return e >= 0;\n  };\n\n  RangeCategorySeries.prototype.iz = function (a, b, c, d) {\n    _super.prototype.iz.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"FastItemsSource\":\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.lowColumn);\n          c.deregisterColumn(this.highColumn);\n          this.lowColumn = null;\n          this.highColumn = null;\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.lowColumn = this.bw(this.o6);\n          this.highColumn = this.bw(this.o3);\n        }\n\n        if (!this.n1()) {\n          this.nf.cn.g(this.eu);\n          this.jd(false);\n        }\n\n        break;\n\n      case RangeCategorySeries.$$p[1]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.lowColumn);\n          this.lowColumn = this.bw(this.o6);\n        }\n\n        break;\n\n      case \"LowColumn\":\n        if (!this.n1()) {\n          this.nf.cn.g(this.eu);\n          this.jd(false);\n        }\n\n        break;\n\n      case RangeCategorySeries.$$p[0]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.highColumn);\n          this.highColumn = this.bw(this.o3);\n        }\n\n        break;\n\n      case \"HighColumn\":\n        if (!this.n1()) {\n          this.nf.cn.g(this.eu);\n          this.jd(false);\n        }\n\n        break;\n    }\n  };\n\n  RangeCategorySeries.prototype.an = function (a) {\n    if (this.lowColumn == null || this.lowColumn.count == 0 || this.highColumn == null || this.highColumn.count == 0) {\n      return null;\n    }\n\n    if (a == this.fetchXAxis()) {\n      var b = Math.min(this.lowColumn.count, this.highColumn.count);\n      return new AxisRange(0, b - 1);\n    }\n\n    if (a == this.fetchYAxis()) {\n      var c = Math.min(this.lowColumn.minimum, this.highColumn.minimum);\n      var d = Math.max(this.lowColumn.maximum, this.highColumn.maximum);\n      return new AxisRange(Math.min(c, d), Math.max(c, d));\n    }\n\n    return null;\n  };\n\n  RangeCategorySeries.prototype.hy = function (a, b, c, d) {\n    if (this.fetchXAxis() != null && typeCast(ISortingAxis_$type, this.fetchXAxis()) !== null) {\n      this.fetchXAxis().i$i();\n    }\n\n    var e = this.fetchXAxis();\n\n    switch (a) {\n      case 3:\n        if (d == this.o6 || d == this.o3) {\n          if (e != null) {\n            e.cl();\n          }\n\n          if (!this.n1()) {\n            this.jd(true);\n          }\n        }\n\n        break;\n\n      case 1:\n        if (e != null) {\n          e.cl();\n        }\n\n        this.nf.cn.g(this.eu);\n\n        if (!this.n1()) {\n          this.jd(true);\n        }\n\n        break;\n\n      case 0:\n        if (e != null) {\n          e.cl();\n        }\n\n        this.nf.cn.g(this.eu);\n\n        if (!this.n1()) {\n          this.jd(true);\n        }\n\n        break;\n\n      case 2:\n        if (e != null) {\n          e.cl();\n        }\n\n        if (this.o6 != null && this.o3 != null && this.nf.cn.d > 0 && !this.n1()) {\n          this.jd(true);\n        }\n\n        break;\n\n      case 4:\n        if (e != null) {\n          e.cl();\n        }\n\n        this.nf.cn.g(this.eu);\n\n        if (!this.n1()) {\n          this.jd(true);\n        }\n\n        break;\n    }\n  };\n\n  RangeCategorySeries.prototype.dw = function (a, b, c) {\n    var d = _super.prototype.dw.call(this, a, b, c);\n\n    if (this.lowColumn == null || this.lowColumn.count == 0 || this.highColumn == null || this.highColumn.count == 0) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  RangeCategorySeries.prototype.ol = function (a, b) {\n    _super.prototype.ol.call(this, a, b);\n\n    this.RangeFramePreparer.d(a, b);\n  };\n\n  Object.defineProperty(RangeCategorySeries.prototype, \"currentCategoryMode\", {\n    get: function () {\n      return this.preferredCategoryMode(typeCast(CategoryAxisBase.$, this.fetchXAxis()));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(RangeCategorySeries.prototype, \"scaler\", {\n    get: function () {\n      return typeCast(ICategoryScaler_$type, this.fetchXAxis());\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(RangeCategorySeries.prototype, \"yScaler\", {\n    get: function () {\n      return typeCast(IScaler_$type, this.fetchYAxis());\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(RangeCategorySeries.prototype, \"bucketizer\", {\n    get: function () {\n      return this.nf.cn;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(RangeCategorySeries.prototype, \"currentMode2Index\", {\n    get: function () {\n      return this.n9();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  RangeCategorySeries.prototype.provideCollisionDetector = function () {\n    return new CollisionAvoider();\n  };\n\n  Object.defineProperty(RangeCategorySeries.prototype, \"mayContainUnknowns\", {\n    get: function () {\n      return this.lowColumn == null || this.lowColumn.mayContainUnknowns || this.highColumn == null || this.highColumn.mayContainUnknowns;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  RangeCategorySeries.prototype.jf = function (a, b) {\n    var c = this.dl;\n\n    _super.prototype.jf.call(this, a, b);\n\n    if (!c) {\n      this.bi.az(b);\n      return;\n    }\n\n    this.bi.az(b);\n\n    if (this.cc(this.bh)) {\n      return;\n    }\n\n    var d = new RangeCategoryFramePreparer(1, this, typeCast(ISupportsMarkers_$type, this.bh), this.bs.bn.m, this, this.bh.cn);\n\n    if (!this.df) {\n      this.m9 = new CategoryFrame(3);\n      this.m9.u();\n      d.d(this.m9, this.bh);\n    }\n\n    this.df = false;\n    this.oo(this.m9, this.bh);\n    this.dl = false;\n  };\n\n  RangeCategorySeries.prototype.jc = function (a, b, c, d, e) {\n    _super.prototype.jc.call(this, a, b, c, d, e);\n\n    var f = this.a0.a$h.item(d);\n    var g = f;\n    g.cn.g(this.eu);\n    f.ay(c);\n\n    if (this.cc(g)) {\n      return;\n    }\n\n    var h = new RangeCategoryFramePreparer(1, this, typeCast(ISupportsMarkers_$type, f), f, this, f.cn);\n\n    if (this.ov == null) {\n      this.ov = new CategoryFrame(3);\n    }\n\n    this.ov.u();\n    h.d(this.ov, g);\n    this.oo(this.ov, g);\n  };\n\n  RangeCategorySeries.prototype.eh = function () {\n    return Series.ei(this.lowColumn, typeCast(ISortingAxis_$type, this.fetchXAxis()));\n  };\n\n  Object.defineProperty(RangeCategorySeries.prototype, \"useHighMarkerFidelity\", {\n    get: function () {\n      return this.n2;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  RangeCategorySeries.$t = markType(RangeCategorySeries, 'RangeCategorySeries', CategorySeries.$, [IIsCategoryBased_$type, IHasHighLowValueCategory_$type]);\n  RangeCategorySeries.$$p = markDep(DependencyProperty, PropertyMetadata, RangeCategorySeries, 'raisePropertyChanged', ['HighMemberPath:o3:o9', [2, null], 'LowMemberPath:o6:pa', [2, null]]);\n  return RangeCategorySeries;\n}(CategorySeries);\n\nexport { RangeCategorySeries };\n/**\n * @hidden\n */\n\nvar RangeCategorySeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(RangeCategorySeriesView, _super);\n\n  function RangeCategorySeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.cw = null;\n    _this.cw = a;\n    return _this;\n  }\n\n  RangeCategorySeriesView.prototype.cx = function (a, b, c, d, e, f) {\n    a.ak.clear();\n    b.ak.clear();\n    c.ak.clear();\n    var g = FastFlattener.b(d, e, true, f, this.e.eu);\n    var h = FastFlattener.b(d, e, false, f, this.e.eu);\n    var i = g.count;\n    var j = h.count;\n    var k;\n    var l;\n    var m;\n    var n;\n\n    for (var o = 0; o < i; o++) {\n      k = g.item(o);\n      l = e._inner[k];\n      m = l[0];\n      n = l[1];\n      a.ak.add({\n        $type: Point_$type,\n        x: m,\n        y: n\n      });\n      b.ak.add({\n        $type: Point_$type,\n        x: m,\n        y: n\n      });\n    }\n\n    var p;\n    var q;\n\n    for (var r = 0; r < j; r++) {\n      k = h.item(r);\n      l = e._inner[k];\n\n      if (f) {\n        p = l[0];\n        q = l[2];\n      } else {\n        p = l[2];\n        q = l[3];\n      }\n\n      c.ak.add({\n        $type: Point_$type,\n        x: p,\n        y: q\n      });\n      b.ak.add({\n        $type: Point_$type,\n        x: p,\n        y: q\n      });\n    }\n\n    a.ab = a.ak.count > 0;\n    b.ab = b.ak.count > 0;\n    c.ab = c.ak.count > 0;\n  };\n\n  RangeCategorySeriesView.prototype.co = function () {\n    return new RangeCategoryBucketCalculator(this);\n  };\n\n  RangeCategorySeriesView.$t = markType(RangeCategorySeriesView, 'RangeCategorySeriesView', CategorySeriesView.$);\n  return RangeCategorySeriesView;\n}(CategorySeriesView);\n\nexport { RangeCategorySeriesView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/RangeCategoryBucketCalculator_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { CategoryBucketCalculator } from \"./CategoryBucketCalculator\";\nimport { markType, typeCast, markDep, Point_$type } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { CategorySeries } from \"./CategorySeries\";\nimport { IIsCategoryBased_$type } from \"./IIsCategoryBased\";\nimport { IHasHighLowValueCategory_$type } from \"./IHasHighLowValueCategory\";\nimport { RangeCategoryFramePreparer } from \"./RangeCategoryFramePreparer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CategoryAxisBase } from \"./CategoryAxisBase\";\nimport { ICategoryScaler_$type } from \"./ICategoryScaler\";\nimport { IScaler_$type } from \"./IScaler\";\nimport { CategorySeriesView } from \"./CategorySeriesView\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { CategoryMarkerManager } from \"./CategoryMarkerManager\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { CollisionAvoider } from \"./CollisionAvoider\";\nimport { ISupportsMarkers_$type } from \"./ISupportsMarkers\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { FastFlattener } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar RangeCategoryBucketCalculator = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RangeCategoryBucketCalculator, _super);\n    function RangeCategoryBucketCalculator(a) {\n        var _this = _super.call(this, a) || this;\n        _this.j = null;\n        _this.l = 0;\n        _this.k = 0;\n        _this.i = null;\n        _this.h = null;\n        _this.j = a;\n        return _this;\n    }\n    RangeCategoryBucketCalculator.prototype.getBucketWithoutUnknowns = function (a) {\n        var b = false;\n        var c = this.i;\n        var d = this.h;\n        var e = this.l;\n        var f = this.k;\n        var g = Math.min(e, f);\n        var h = a * this.d;\n        var i = Math.min(h + this.d - 1, g - 1);\n        var j = 1.7976931348623157E+308;\n        var k = -1.7976931348623157E+308;\n        var l = true;\n        var m = 0;\n        var n = 0;\n        var o;\n        var p;\n        for (var q = h; q <= i; ++q) {\n            m = c[q];\n            n = d[q];\n            if (m < n) {\n                o = m;\n                p = n;\n            }\n            else {\n                p = m;\n                o = n;\n            }\n            if (!l) {\n                j = j < o ? j : o;\n                k = k > o ? k : o;\n                j = j < p ? j : p;\n                k = k > p ? k : p;\n            }\n            else {\n                j = Math.min(j, o);\n                k = Math.max(k, o);\n                k = Math.max(k, p);\n                j = Math.min(j, p);\n                l = false;\n            }\n        }\n        if (b && n < m) {\n            var r = j;\n            j = k;\n            k = r;\n        }\n        if (!l) {\n            var s = new Array(3);\n            s[0] = 0.5 * (h + i);\n            s[1] = j;\n            s[2] = k;\n            return s;\n        }\n        var t = new Array(3);\n        t[0] = NaN;\n        t[1] = NaN;\n        t[2] = NaN;\n        return t;\n    };\n    RangeCategoryBucketCalculator.prototype.getBucket = function (a) {\n        var b = false;\n        var c = this.i;\n        var d = this.h;\n        var e = this.l;\n        var f = this.k;\n        var g = Math.min(e, f);\n        var h = a * this.d;\n        var i = Math.min(h + this.d - 1, g - 1);\n        var j = NaN;\n        var k = NaN;\n        var l = true;\n        var m = 0;\n        var n = 0;\n        var o;\n        var p;\n        for (var q = h; q <= i; ++q) {\n            m = c[q];\n            n = d[q];\n            if (m < n) {\n                o = m;\n                p = n;\n            }\n            else {\n                p = m;\n                o = n;\n            }\n            if (!l) {\n                if (!isNaN_(o)) {\n                    j = j < o ? j : o;\n                    k = k > o ? k : o;\n                }\n                if (!isNaN_(p)) {\n                    j = j < p ? j : p;\n                    k = k > p ? k : p;\n                }\n            }\n            else {\n                if (!isNaN_(o)) {\n                    if (isNaN_(j)) {\n                        j = o;\n                    }\n                    else {\n                        j = Math.min(j, o);\n                    }\n                    if (!isNaN_(k)) {\n                        k = Math.max(k, o);\n                    }\n                }\n                if (!isNaN_(p)) {\n                    if (isNaN_(k)) {\n                        k = p;\n                    }\n                    else {\n                        k = Math.max(k, p);\n                    }\n                    if (!isNaN_(j)) {\n                        j = Math.min(j, p);\n                    }\n                }\n                if (!isNaN_(j) && !isNaN_(k)) {\n                    l = false;\n                }\n            }\n        }\n        if (n < m && b) {\n            var r = j;\n            j = k;\n            k = r;\n        }\n        if (!l) {\n            var s = new Array(3);\n            s[0] = 0.5 * (h + i);\n            s[1] = j;\n            s[2] = k;\n            return s;\n        }\n        var t = new Array(3);\n        t[0] = NaN;\n        t[1] = NaN;\n        t[2] = NaN;\n        return t;\n    };\n    RangeCategoryBucketCalculator.prototype.cacheValues = function () {\n        this.l = this.j.cw.lowColumn.count;\n        this.k = this.j.cw.highColumn.count;\n        this.i = this.j.cw.lowColumn.asArray();\n        this.h = this.j.cw.highColumn.asArray();\n    };\n    RangeCategoryBucketCalculator.prototype.unCacheValues = function () {\n        this.i = null;\n        this.h = null;\n    };\n    RangeCategoryBucketCalculator.$t = markType(RangeCategoryBucketCalculator, 'RangeCategoryBucketCalculator', CategoryBucketCalculator.$);\n    return RangeCategoryBucketCalculator;\n}(CategoryBucketCalculator));\nexport { RangeCategoryBucketCalculator };\n/**\n * @hidden\n */\nvar RangeCategorySeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RangeCategorySeries, _super);\n    function RangeCategorySeries() {\n        var _this = _super.call(this) || this;\n        _this._RangeFramePreparer = null;\n        _this.o0 = null;\n        _this.oy = null;\n        _this.ov = null;\n        _this.RangeFramePreparer = new RangeCategoryFramePreparer(1, _this, _this.ox, _this, _this, _this.ox.cn);\n        return _this;\n    }\n    RangeCategorySeries.prototype.bf = function () {\n        return new RangeCategorySeriesView(this);\n    };\n    RangeCategorySeries.prototype.getHostReferenceValue = function () {\n        return this.eh();\n    };\n    RangeCategorySeries.prototype.iu = function (a) {\n        _super.prototype.iu.call(this, a);\n        this.ox = a;\n    };\n    Object.defineProperty(RangeCategorySeries.prototype, \"RangeFramePreparer\", {\n        get: function () {\n            return this._RangeFramePreparer;\n        },\n        set: function (a) {\n            this._RangeFramePreparer = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeCategorySeries.prototype.fs = function (a, b) {\n        var c = this.gu(b);\n        if (c == RangeCategorySeries.$$p[0]) {\n            return this.ft(a, b, this.o3);\n        }\n        if (c == RangeCategorySeries.$$p[0]) {\n            return this.ft(a, b, this.o3);\n        }\n        return _super.prototype.fs.call(this, a, b);\n    };\n    Object.defineProperty(RangeCategorySeries.prototype, \"lowColumn\", {\n        get: function () {\n            return this.o0;\n        },\n        set: function (a) {\n            if (this.o0 != a) {\n                var b = this.o0;\n                this.o0 = a;\n                this.raisePropertyChanged(\"LowColumn\", b, this.o0);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeCategorySeries.prototype, \"highColumn\", {\n        get: function () {\n            return this.oy;\n        },\n        set: function (a) {\n            if (this.oy != a) {\n                var b = this.oy;\n                this.oy = a;\n                this.raisePropertyChanged(\"HighColumn\", b, this.oy);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeCategorySeries.prototype.ng = function () {\n        return 11;\n    };\n    RangeCategorySeries.prototype.oo = function (a, b) {\n        _super.prototype.oo.call(this, a, b);\n        b.b0 = true;\n        CategoryMarkerManager.b(this, a.m, b.cq, this.l5);\n        this.oi(b, a);\n    };\n    RangeCategorySeries.prototype.o8 = function (a, b, c, d, e, f) {\n        this.ox.cx(a, b, c, d, e, f);\n    };\n    RangeCategorySeries.prototype.c9 = function (a) {\n        var b = new Rect(0, 0, 0, 1, 1);\n        var c = this.bi != null ? this.bi.bs : Rect.empty;\n        c = c.copy();\n        var d = this.bi != null ? this.bi.br : Rect.empty;\n        var e = !c.isEmpty && !d.isEmpty && this.bz != null ? this.bz.indexOf(a) : -1;\n        var f = this.fetchXAxis();\n        var g = this.fetchYAxis();\n        var h = this.ls(this.bi);\n        var i;\n        if (f != null) {\n            var j = new ScalerParams(0, b, b, f.b8, h);\n            i = f.dw(e, j);\n        }\n        else {\n            i = NaN;\n        }\n        var k = f != null ? this.RangeFramePreparer.r(typeCast(ICategoryScaler_$type, f), b, b, h) : 0;\n        i += k;\n        if (e >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n            if (!isNaN_(i)) {\n                if (i < c.left + 0.1 * c.width) {\n                    i = i + 0.4 * c.width;\n                }\n                if (i > c.right - 0.1 * c.width) {\n                    i = i - 0.4 * c.width;\n                }\n                c.x = i - 0.5 * c.width;\n            }\n            if (g != null && this.highColumn != null && e < this.highColumn.count) {\n                var l = new ScalerParams(0, b, b, g.b8, h);\n                l.b = this.eh();\n                var m = g.dw(this.highColumn.item(e), l);\n                var n = g.dw(this.lowColumn.item(e), l);\n                if (!isNaN_(m) && !isNaN_(n)) {\n                    var o = Math.abs(n - m);\n                    if (c.height < o) {\n                        c.height = o;\n                        c.y = Math.min(n, m);\n                    }\n                    else {\n                        if (n < c.top + 0.1 * c.height) {\n                            n = n + 0.4 * c.height;\n                        }\n                        if (n > c.bottom - 0.1 * c.height) {\n                            n = n - 0.4 * c.height;\n                        }\n                        c.y = n - 0.5 * c.height;\n                    }\n                }\n            }\n            if (this.bn != null) {\n                this.bn.ap(this.bs, c, true);\n            }\n        }\n        return e >= 0;\n    };\n    RangeCategorySeries.prototype.iz = function (a, b, c, d) {\n        _super.prototype.iz.call(this, a, b, c, d);\n        switch (b) {\n            case \"FastItemsSource\":\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.lowColumn);\n                    c.deregisterColumn(this.highColumn);\n                    this.lowColumn = null;\n                    this.highColumn = null;\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.lowColumn = this.bw(this.o6);\n                    this.highColumn = this.bw(this.o3);\n                }\n                if (!this.n1()) {\n                    this.nf.cn.g(this.eu);\n                    this.jd(false);\n                }\n                break;\n            case RangeCategorySeries.$$p[1]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.lowColumn);\n                    this.lowColumn = this.bw(this.o6);\n                }\n                break;\n            case \"LowColumn\":\n                if (!this.n1()) {\n                    this.nf.cn.g(this.eu);\n                    this.jd(false);\n                }\n                break;\n            case RangeCategorySeries.$$p[0]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.highColumn);\n                    this.highColumn = this.bw(this.o3);\n                }\n                break;\n            case \"HighColumn\":\n                if (!this.n1()) {\n                    this.nf.cn.g(this.eu);\n                    this.jd(false);\n                }\n                break;\n        }\n    };\n    RangeCategorySeries.prototype.an = function (a) {\n        if (this.lowColumn == null || this.lowColumn.count == 0 || this.highColumn == null || this.highColumn.count == 0) {\n            return null;\n        }\n        if (a == this.fetchXAxis()) {\n            var b = Math.min(this.lowColumn.count, this.highColumn.count);\n            return new AxisRange(0, b - 1);\n        }\n        if (a == this.fetchYAxis()) {\n            var c = Math.min(this.lowColumn.minimum, this.highColumn.minimum);\n            var d = Math.max(this.lowColumn.maximum, this.highColumn.maximum);\n            return new AxisRange(Math.min(c, d), Math.max(c, d));\n        }\n        return null;\n    };\n    RangeCategorySeries.prototype.hy = function (a, b, c, d) {\n        if (this.fetchXAxis() != null && typeCast(ISortingAxis_$type, this.fetchXAxis()) !== null) {\n            this.fetchXAxis().i$i();\n        }\n        var e = this.fetchXAxis();\n        switch (a) {\n            case 3:\n                if (d == this.o6 || d == this.o3) {\n                    if (e != null) {\n                        e.cl();\n                    }\n                    if (!this.n1()) {\n                        this.jd(true);\n                    }\n                }\n                break;\n            case 1:\n                if (e != null) {\n                    e.cl();\n                }\n                this.nf.cn.g(this.eu);\n                if (!this.n1()) {\n                    this.jd(true);\n                }\n                break;\n            case 0:\n                if (e != null) {\n                    e.cl();\n                }\n                this.nf.cn.g(this.eu);\n                if (!this.n1()) {\n                    this.jd(true);\n                }\n                break;\n            case 2:\n                if (e != null) {\n                    e.cl();\n                }\n                if (this.o6 != null && this.o3 != null && this.nf.cn.d > 0 && !this.n1()) {\n                    this.jd(true);\n                }\n                break;\n            case 4:\n                if (e != null) {\n                    e.cl();\n                }\n                this.nf.cn.g(this.eu);\n                if (!this.n1()) {\n                    this.jd(true);\n                }\n                break;\n        }\n    };\n    RangeCategorySeries.prototype.dw = function (a, b, c) {\n        var d = _super.prototype.dw.call(this, a, b, c);\n        if (this.lowColumn == null || this.lowColumn.count == 0 || this.highColumn == null || this.highColumn.count == 0) {\n            d = false;\n        }\n        return d;\n    };\n    RangeCategorySeries.prototype.ol = function (a, b) {\n        _super.prototype.ol.call(this, a, b);\n        this.RangeFramePreparer.d(a, b);\n    };\n    Object.defineProperty(RangeCategorySeries.prototype, \"currentCategoryMode\", {\n        get: function () {\n            return this.preferredCategoryMode(typeCast(CategoryAxisBase.$, this.fetchXAxis()));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeCategorySeries.prototype, \"scaler\", {\n        get: function () {\n            return typeCast(ICategoryScaler_$type, this.fetchXAxis());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeCategorySeries.prototype, \"yScaler\", {\n        get: function () {\n            return typeCast(IScaler_$type, this.fetchYAxis());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeCategorySeries.prototype, \"bucketizer\", {\n        get: function () {\n            return this.nf.cn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeCategorySeries.prototype, \"currentMode2Index\", {\n        get: function () {\n            return this.n9();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeCategorySeries.prototype.provideCollisionDetector = function () {\n        return new CollisionAvoider();\n    };\n    Object.defineProperty(RangeCategorySeries.prototype, \"mayContainUnknowns\", {\n        get: function () {\n            return this.lowColumn == null || this.lowColumn.mayContainUnknowns || this.highColumn == null || this.highColumn.mayContainUnknowns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeCategorySeries.prototype.jf = function (a, b) {\n        var c = this.dl;\n        _super.prototype.jf.call(this, a, b);\n        if (!c) {\n            this.bi.az(b);\n            return;\n        }\n        this.bi.az(b);\n        if (this.cc(this.bh)) {\n            return;\n        }\n        var d = new RangeCategoryFramePreparer(1, this, typeCast(ISupportsMarkers_$type, this.bh), this.bs.bn.m, this, this.bh.cn);\n        if (!this.df) {\n            this.m9 = new CategoryFrame(3);\n            this.m9.u();\n            d.d(this.m9, this.bh);\n        }\n        this.df = false;\n        this.oo(this.m9, this.bh);\n        this.dl = false;\n    };\n    RangeCategorySeries.prototype.jc = function (a, b, c, d, e) {\n        _super.prototype.jc.call(this, a, b, c, d, e);\n        var f = this.a0.a$h.item(d);\n        var g = f;\n        g.cn.g(this.eu);\n        f.ay(c);\n        if (this.cc(g)) {\n            return;\n        }\n        var h = new RangeCategoryFramePreparer(1, this, typeCast(ISupportsMarkers_$type, f), f, this, f.cn);\n        if (this.ov == null) {\n            this.ov = new CategoryFrame(3);\n        }\n        this.ov.u();\n        h.d(this.ov, g);\n        this.oo(this.ov, g);\n    };\n    RangeCategorySeries.prototype.eh = function () {\n        return Series.ei(this.lowColumn, typeCast(ISortingAxis_$type, this.fetchXAxis()));\n    };\n    Object.defineProperty(RangeCategorySeries.prototype, \"useHighMarkerFidelity\", {\n        get: function () {\n            return this.n2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeCategorySeries.$t = markType(RangeCategorySeries, 'RangeCategorySeries', CategorySeries.$, [IIsCategoryBased_$type, IHasHighLowValueCategory_$type]);\n    RangeCategorySeries.$$p = markDep(DependencyProperty, PropertyMetadata, RangeCategorySeries, 'raisePropertyChanged', ['HighMemberPath:o3:o9', [2, null], 'LowMemberPath:o6:pa', [2, null]]);\n    return RangeCategorySeries;\n}(CategorySeries));\nexport { RangeCategorySeries };\n/**\n * @hidden\n */\nvar RangeCategorySeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RangeCategorySeriesView, _super);\n    function RangeCategorySeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.cw = null;\n        _this.cw = a;\n        return _this;\n    }\n    RangeCategorySeriesView.prototype.cx = function (a, b, c, d, e, f) {\n        a.ak.clear();\n        b.ak.clear();\n        c.ak.clear();\n        var g = FastFlattener.b(d, e, true, f, this.e.eu);\n        var h = FastFlattener.b(d, e, false, f, this.e.eu);\n        var i = g.count;\n        var j = h.count;\n        var k;\n        var l;\n        var m;\n        var n;\n        for (var o = 0; o < i; o++) {\n            k = g.item(o);\n            l = e._inner[k];\n            m = l[0];\n            n = l[1];\n            a.ak.add({ $type: Point_$type, x: m, y: n });\n            b.ak.add({ $type: Point_$type, x: m, y: n });\n        }\n        var p;\n        var q;\n        for (var r = 0; r < j; r++) {\n            k = h.item(r);\n            l = e._inner[k];\n            if (f) {\n                p = l[0];\n                q = l[2];\n            }\n            else {\n                p = l[2];\n                q = l[3];\n            }\n            c.ak.add({ $type: Point_$type, x: p, y: q });\n            b.ak.add({ $type: Point_$type, x: p, y: q });\n        }\n        a.ab = a.ak.count > 0;\n        b.ab = b.ak.count > 0;\n        c.ab = c.ak.count > 0;\n    };\n    RangeCategorySeriesView.prototype.co = function () {\n        return new RangeCategoryBucketCalculator(this);\n    };\n    RangeCategorySeriesView.$t = markType(RangeCategorySeriesView, 'RangeCategorySeriesView', CategorySeriesView.$);\n    return RangeCategorySeriesView;\n}(CategorySeriesView));\nexport { RangeCategorySeriesView };\n//# sourceMappingURL=RangeCategoryBucketCalculator_combined.js.map\n"]},"metadata":{},"sourceType":"module"}