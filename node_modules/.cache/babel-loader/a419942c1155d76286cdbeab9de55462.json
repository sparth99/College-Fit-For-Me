{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { ScatterBase } from \"./ScatterBase\";\nimport { UnknownValuePlotting_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Point_$type, typeCast, Number_$type, enumGetBox, markType, markDep } from \"igniteui-react-core\";\nimport { OwnedPoint } from \"./OwnedPoint\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { ScatterLineSeriesView } from \"./ScatterLineSeriesView\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { Clipper } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { PolyLineSegment } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { PathFigureCollection } from \"igniteui-react-core\";\nimport { Flattener } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar ScatterLineSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(ScatterLineSeries, _super);\n\n  function ScatterLineSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.ab = ScatterLineSeries.$;\n    _this.m9 = new ScatterFrame();\n    _this.nb = new ScatterFrame();\n    _this.m8 = new ScatterFrame();\n\n    var a = function (b, c, d) {\n      var e = _this.bz.indexOf(b.a);\n\n      if (e == -1 || e == 0) {\n        return b;\n      }\n\n      var f = _this.bz.item(e - 1);\n\n      var g;\n\n      if (!function () {\n        var h = c.g.tryGetValue(f, g);\n        g = h.p1;\n        return h.ret;\n      }()) {\n        return b;\n      }\n\n      return g;\n    };\n\n    _this.m9.o = a;\n    _this.nb.o = a;\n    _this.m8.o = a;\n    return _this;\n  }\n\n  ScatterLineSeries.prototype.bf = function () {\n    return new ScatterLineSeriesView(this);\n  };\n\n  ScatterLineSeries.prototype.dh = function (a, b) {\n    if (this.l4(a, b)) {\n      return true;\n    }\n\n    if (this.oy(a, b)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ScatterLineSeries.prototype.oy = function (a, b) {\n    var c = this.bi;\n    var d = c.da;\n    return this.di(a, b, d.ak);\n  };\n\n  ScatterLineSeries.prototype.n2 = function (a, b) {\n    var _this = this;\n\n    _super.prototype.n2.call(this, a, b);\n\n    a.m.clear();\n    a.u.clear();\n    var c = b.bs;\n    var d = b.br;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.eu * this.eu;\n    var g = 0;\n\n    if (this.nd != null) {\n      g = this.nd.count;\n    }\n\n    if (this.nf != null) {\n      g = Math.min(this.nf.count, g);\n    }\n\n    var h = new ScalerParams(0, c, d, this.m4.d, e);\n\n    var i = function () {\n      var $ret = new ScalerParams(0, c, d, _this.m4.e, e);\n      $ret.b = _this.eh();\n      return $ret;\n    }();\n\n    var j = arrayShallowClone(this.nd.asArray());\n    var k = arrayShallowClone(this.nf.asArray());\n    this.xAxis.gn(boxArray$1(j), 0, j.length, h);\n    this.yAxis.gn(boxArray$1(k), 0, k.length, i);\n    var l = d.top - 10;\n    var m = d.bottom + 10;\n    var n = d.left - 10;\n    var o = d.right + 10;\n\n    var p = function () {\n      var $ret = new Clipper(1, n, m, o, l, false);\n      $ret.i = a.m;\n      return $ret;\n    }();\n\n    for (var q = 0; q < g;) {\n      var r = q;\n      ++q;\n\n      if (g > this.nk) {\n        while (q < g) {\n          var s = j[q] - j[r];\n          var t = k[q] - k[r];\n          var u = s * s + t * t;\n\n          if (u >= f) {\n            break;\n          }\n\n          ++q;\n        }\n\n        p.j(this.o5(j, k, r, q - 1));\n      } else {\n        var v = new OwnedPoint();\n        v.c = {\n          $type: Point_$type,\n          x: j[r],\n          y: k[r]\n        };\n        v.a = this.bz.item(r);\n\n        if (!a.u.containsKey(v.a)) {\n          a.u.addItem(v.a, v);\n        }\n      }\n    }\n\n    if (g > this.nk) {\n      p.i = null;\n    }\n  };\n\n  ScatterLineSeries.prototype.o5 = function (a, b, c, d) {\n    if (c == d) {\n      return {\n        $type: Point_$type,\n        x: a[c],\n        y: b[c]\n      };\n    }\n\n    var e = 0;\n    var f = 0;\n    var g = d - c + 1;\n\n    for (var h = c; h <= d; ++h) {\n      e += a[h];\n      f += b[h];\n    }\n\n    return {\n      $type: Point_$type,\n      x: e / g,\n      y: f / g\n    };\n  };\n\n  ScatterLineSeries.prototype.ob = function (a, b) {\n    b.c0(false);\n\n    _super.prototype.ob.call(this, a, b);\n\n    var c = new Rect(0, b.br.left, b.br.top, b.br.width, b.br.height);\n    c = RectUtil.t(c, this.ey, this.ey);\n    this.n6(a, new Clipper(0, c, false));\n    var d = typeCast(ScatterLineSeriesView.$, b);\n    this.o3(d.da, a.m.count, function (e) {\n      return a.m._inner[e].x;\n    }, function (e) {\n      return a.m._inner[e].y;\n    }, this.ox, this.eu);\n  };\n\n  ScatterLineSeries.prototype.o3 = function (a, b, c, d, e, f) {\n    var g = new PathGeometry();\n    a.ak = g;\n    g.c = new PathFigureCollection();\n    var h = new List$1(PolyLineSegment.$, 0);\n    var i = 0;\n\n    for (var j = 0; j < b; j++) {\n      if (isNaN_(c(j)) || isNaN_(d(j))) {\n        var k = j - i;\n\n        if (k > 0) {\n          if (e == 1 || h.count == 0) {\n            var l = new PolyLineSegment();\n            h.add(l);\n          }\n\n          this.o2(h._inner[h.count - 1]._points, i, j - 1, c, d, f);\n        }\n\n        i = j + 1;\n      }\n    }\n\n    if (e == 1 || h.count == 0) {\n      var m = new PolyLineSegment();\n      h.add(m);\n    }\n\n    this.o2(h._inner[h.count - 1]._points, i, b - 1, c, d, f);\n\n    var _loop_1 = function (n) {\n      var o = h._inner[n];\n\n      if (o._points.count > 0) {\n        var p = function () {\n          var $ret = new PathFigure();\n          $ret.startPoint = o._points._inner[0];\n          return $ret;\n        }();\n\n        p._segments.add(o);\n\n        g.c.add(p);\n      }\n    };\n\n    for (var n = 0; n < h.count; n++) {\n      _loop_1(n);\n    }\n  };\n\n  ScatterLineSeries.prototype.oz = function (a, b, c, d, e, f) {\n    var g = new List$1(Number_$type, 0);\n    var h = d;\n    var i = e;\n    var j = i - h + 1;\n\n    while (j > 0) {\n      if (j <= 512) {\n        Flattener.c(g, b, c, h, i, f);\n        h = i + 1;\n      } else {\n        var k = h + 512 - 1;\n        Flattener.c(g, b, c, h, k, f);\n        h = k + 1;\n      }\n\n      j = i - h + 1;\n    }\n\n    return g;\n  };\n\n  ScatterLineSeries.prototype.o2 = function (a, b, c, d, e, f) {\n    if (c > -1) {\n      var g = this.eu;\n      var h = this.oz(new List$1(Number_$type, 0), d, e, b, c, g);\n      var i = void 0;\n\n      for (var j = 0; j < h.count; j++) {\n        i = h.item(j);\n        a.add({\n          $type: Point_$type,\n          x: d(i),\n          y: e(i)\n        });\n      }\n    }\n  };\n\n  ScatterLineSeries.prototype.iz = function (a, b, c, d) {\n    _super.prototype.iz.call(this, a, b, c, d);\n\n    switch (b) {\n      case ScatterLineSeries.$$p[0]:\n        this.jd(false);\n        this.ik();\n        break;\n    }\n  };\n\n  ScatterLineSeries.$t = markType(ScatterLineSeries, 'ScatterLineSeries', ScatterBase.$);\n  ScatterLineSeries.$$p = markDep(DependencyProperty, PropertyMetadata, ScatterLineSeries, 'raisePropertyChanged', ['UnknownValuePlotting:ox:o4', [UnknownValuePlotting_$type, enumGetBox(UnknownValuePlotting_$type, 1)]]);\n  return ScatterLineSeries;\n}(ScatterBase);\n\nexport { ScatterLineSeries };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/ScatterLineSeries.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { ScatterBase } from \"./ScatterBase\";\nimport { UnknownValuePlotting_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Point_$type, typeCast, Number_$type, enumGetBox, markType, markDep } from \"igniteui-react-core\";\nimport { OwnedPoint } from \"./OwnedPoint\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { ScatterLineSeriesView } from \"./ScatterLineSeriesView\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { Clipper } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { PolyLineSegment } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { PathFigureCollection } from \"igniteui-react-core\";\nimport { Flattener } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar ScatterLineSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ScatterLineSeries, _super);\n    function ScatterLineSeries() {\n        var _this = _super.call(this) || this;\n        _this.ab = ScatterLineSeries.$;\n        _this.m9 = new ScatterFrame();\n        _this.nb = new ScatterFrame();\n        _this.m8 = new ScatterFrame();\n        var a = function (b, c, d) {\n            var e = _this.bz.indexOf(b.a);\n            if (e == -1 || e == 0) {\n                return b;\n            }\n            var f = _this.bz.item(e - 1);\n            var g;\n            if (!((function () { var h = c.g.tryGetValue(f, g); g = h.p1; return h.ret; })())) {\n                return b;\n            }\n            return g;\n        };\n        _this.m9.o = a;\n        _this.nb.o = a;\n        _this.m8.o = a;\n        return _this;\n    }\n    ScatterLineSeries.prototype.bf = function () {\n        return new ScatterLineSeriesView(this);\n    };\n    ScatterLineSeries.prototype.dh = function (a, b) {\n        if (this.l4(a, b)) {\n            return true;\n        }\n        if (this.oy(a, b)) {\n            return true;\n        }\n        return false;\n    };\n    ScatterLineSeries.prototype.oy = function (a, b) {\n        var c = this.bi;\n        var d = c.da;\n        return this.di(a, b, d.ak);\n    };\n    ScatterLineSeries.prototype.n2 = function (a, b) {\n        var _this = this;\n        _super.prototype.n2.call(this, a, b);\n        a.m.clear();\n        a.u.clear();\n        var c = b.bs;\n        var d = b.br;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.eu * this.eu;\n        var g = 0;\n        if (this.nd != null) {\n            g = this.nd.count;\n        }\n        if (this.nf != null) {\n            g = Math.min(this.nf.count, g);\n        }\n        var h = new ScalerParams(0, c, d, this.m4.d, e);\n        var i = ((function () {\n            var $ret = new ScalerParams(0, c, d, _this.m4.e, e);\n            $ret.b = _this.eh();\n            return $ret;\n        })());\n        var j = arrayShallowClone(this.nd.asArray());\n        var k = arrayShallowClone(this.nf.asArray());\n        this.xAxis.gn(boxArray$1(j), 0, j.length, h);\n        this.yAxis.gn(boxArray$1(k), 0, k.length, i);\n        var l = d.top - 10;\n        var m = d.bottom + 10;\n        var n = d.left - 10;\n        var o = d.right + 10;\n        var p = ((function () {\n            var $ret = new Clipper(1, n, m, o, l, false);\n            $ret.i = a.m;\n            return $ret;\n        })());\n        for (var q = 0; q < g;) {\n            var r = q;\n            ++q;\n            if (g > this.nk) {\n                while (q < g) {\n                    var s = j[q] - j[r];\n                    var t = k[q] - k[r];\n                    var u = s * s + t * t;\n                    if (u >= f) {\n                        break;\n                    }\n                    ++q;\n                }\n                p.j(this.o5(j, k, r, q - 1));\n            }\n            else {\n                var v = new OwnedPoint();\n                v.c = { $type: Point_$type, x: j[r], y: k[r] };\n                v.a = this.bz.item(r);\n                if (!a.u.containsKey(v.a)) {\n                    a.u.addItem(v.a, v);\n                }\n            }\n        }\n        if (g > this.nk) {\n            p.i = null;\n        }\n    };\n    ScatterLineSeries.prototype.o5 = function (a, b, c, d) {\n        if (c == d) {\n            return { $type: Point_$type, x: a[c], y: b[c] };\n        }\n        var e = 0;\n        var f = 0;\n        var g = (d - c + 1);\n        for (var h = c; h <= d; ++h) {\n            e += a[h];\n            f += b[h];\n        }\n        return { $type: Point_$type, x: e / g, y: f / g };\n    };\n    ScatterLineSeries.prototype.ob = function (a, b) {\n        b.c0(false);\n        _super.prototype.ob.call(this, a, b);\n        var c = new Rect(0, b.br.left, b.br.top, b.br.width, b.br.height);\n        c = RectUtil.t(c, this.ey, this.ey);\n        this.n6(a, new Clipper(0, c, false));\n        var d = typeCast(ScatterLineSeriesView.$, b);\n        this.o3(d.da, a.m.count, function (e) { return a.m._inner[e].x; }, function (e) { return a.m._inner[e].y; }, this.ox, this.eu);\n    };\n    ScatterLineSeries.prototype.o3 = function (a, b, c, d, e, f) {\n        var g = new PathGeometry();\n        a.ak = g;\n        g.c = new PathFigureCollection();\n        var h = new List$1(PolyLineSegment.$, 0);\n        var i = 0;\n        for (var j = 0; j < b; j++) {\n            if (isNaN_(c(j)) || isNaN_(d(j))) {\n                var k = j - i;\n                if (k > 0) {\n                    if (e == 1 || h.count == 0) {\n                        var l = new PolyLineSegment();\n                        h.add(l);\n                    }\n                    this.o2(h._inner[h.count - 1]._points, i, j - 1, c, d, f);\n                }\n                i = j + 1;\n            }\n        }\n        if (e == 1 || h.count == 0) {\n            var m = new PolyLineSegment();\n            h.add(m);\n        }\n        this.o2(h._inner[h.count - 1]._points, i, b - 1, c, d, f);\n        var _loop_1 = function (n) {\n            var o = h._inner[n];\n            if (o._points.count > 0) {\n                var p = ((function () {\n                    var $ret = new PathFigure();\n                    $ret.startPoint = o._points._inner[0];\n                    return $ret;\n                })());\n                p._segments.add(o);\n                g.c.add(p);\n            }\n        };\n        for (var n = 0; n < h.count; n++) {\n            _loop_1(n);\n        }\n    };\n    ScatterLineSeries.prototype.oz = function (a, b, c, d, e, f) {\n        var g = new List$1(Number_$type, 0);\n        var h = d;\n        var i = e;\n        var j = i - h + 1;\n        while (j > 0) {\n            if (j <= 512) {\n                Flattener.c(g, b, c, h, i, f);\n                h = i + 1;\n            }\n            else {\n                var k = h + 512 - 1;\n                Flattener.c(g, b, c, h, k, f);\n                h = k + 1;\n            }\n            j = i - h + 1;\n        }\n        return g;\n    };\n    ScatterLineSeries.prototype.o2 = function (a, b, c, d, e, f) {\n        if (c > -1) {\n            var g = this.eu;\n            var h = this.oz(new List$1(Number_$type, 0), d, e, b, c, g);\n            var i = void 0;\n            for (var j = 0; j < h.count; j++) {\n                i = h.item(j);\n                a.add({ $type: Point_$type, x: d(i), y: e(i) });\n            }\n        }\n    };\n    ScatterLineSeries.prototype.iz = function (a, b, c, d) {\n        _super.prototype.iz.call(this, a, b, c, d);\n        switch (b) {\n            case ScatterLineSeries.$$p[0]:\n                this.jd(false);\n                this.ik();\n                break;\n        }\n    };\n    ScatterLineSeries.$t = markType(ScatterLineSeries, 'ScatterLineSeries', ScatterBase.$);\n    ScatterLineSeries.$$p = markDep(DependencyProperty, PropertyMetadata, ScatterLineSeries, 'raisePropertyChanged', ['UnknownValuePlotting:ox:o4', [UnknownValuePlotting_$type, enumGetBox(UnknownValuePlotting_$type, 1)]]);\n    return ScatterLineSeries;\n}(ScatterBase));\nexport { ScatterLineSeries };\n//# sourceMappingURL=ScatterLineSeries.js.map\n"]},"metadata":{},"sourceType":"module"}