{"ast":null,"code":"var _jsxFileName = \"/Users/Parth/web-project/src/Components/SearchInput.js\";\nimport React, { Component } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nexport default class SearchInput extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchQuery: ''\n    };\n\n    this.handleKeyPress = target => {\n      if (target.charCode === 13) {\n        this.handleSearch(target);\n      }\n    };\n\n    this.handleSearch = target => {\n      target.preventDefault();\n      let {\n        modelType\n      } = this.props;\n\n      if (!modelType) {\n        const urlSplit = String(window.location.href).split('/');\n        const routeType = urlSplit[3];\n\n        if (routeType === 'home') {\n          modelType = 'cities';\n        } else if (routeType === 'search') {\n          const typeAndParams = urlSplit[4];\n          modelType = typeAndParams.substring(0, typeAndParams.indexOf('?'));\n        } else {\n          modelType = routeType;\n        }\n      }\n\n      const {\n        searchQuery\n      } = this.state;\n      window.location.href = `/search/${modelType}?search_query=${searchQuery}`;\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        searchQuery: event.target.value\n      });\n    };\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      React.createElement(Form, {\n        inline: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Form.Control, {\n        className: \"mr-sm-2\",\n        placeholder: \"Search\",\n        type: \"text\",\n        onChange: this.handleChange,\n        onKeyPress: key => {\n          this.handleKeyPress(key);\n        },\n        value: this.state.searchQuery,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"outline-primary\",\n        onClick: this.handleSearch,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, \"Search\"))\n    );\n  }\n\n}","map":{"version":3,"sources":["/Users/Parth/web-project/src/Components/SearchInput.js"],"names":["React","Component","Form","Button","SearchInput","state","searchQuery","handleKeyPress","target","charCode","handleSearch","preventDefault","modelType","props","urlSplit","String","window","location","href","split","routeType","typeAndParams","substring","indexOf","handleChange","event","setState","value","render","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AAEA,eAAe,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAAA;AAAA;AAAA,SACjDI,KADiD,GACzC;AACNC,MAAAA,WAAW,EAAE;AADP,KADyC;;AAAA,SAMjDC,cANiD,GAM/BC,MAAD,IAAY;AAC3B,UAAIA,MAAM,CAACC,QAAP,KAAoB,EAAxB,EAA4B;AAC1B,aAAKC,YAAL,CAAkBF,MAAlB;AACD;AACF,KAVgD;;AAAA,SAajDE,YAbiD,GAajCF,MAAD,IAAY;AACzBA,MAAAA,MAAM,CAACG,cAAP;AACA,UAAI;AAAEC,QAAAA;AAAF,UAAgB,KAAKC,KAAzB;;AACA,UAAI,CAACD,SAAL,EAAgB;AACd,cAAME,QAAQ,GAAGC,MAAM,CAACC,MAAM,CAACC,QAAP,CAAgBC,IAAjB,CAAN,CAA6BC,KAA7B,CAAmC,GAAnC,CAAjB;AACA,cAAMC,SAAS,GAAGN,QAAQ,CAAC,CAAD,CAA1B;;AACA,YAAIM,SAAS,KAAK,MAAlB,EAA0B;AACxBR,UAAAA,SAAS,GAAG,QAAZ;AACD,SAFD,MAEO,IAAIQ,SAAS,KAAK,QAAlB,EAA4B;AACjC,gBAAMC,aAAa,GAAGP,QAAQ,CAAC,CAAD,CAA9B;AACAF,UAAAA,SAAS,GAAGS,aAAa,CAACC,SAAd,CAAwB,CAAxB,EAA2BD,aAAa,CAACE,OAAd,CAAsB,GAAtB,CAA3B,CAAZ;AACD,SAHM,MAGA;AACLX,UAAAA,SAAS,GAAGQ,SAAZ;AACD;AACF;;AACD,YAAM;AAAEd,QAAAA;AAAF,UAAkB,KAAKD,KAA7B;AACAW,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,WAAUN,SAAU,iBAAgBN,WAAY,EAAxE;AACD,KA9BgD;;AAAA,SAiCjDkB,YAjCiD,GAiCjCC,KAAD,IAAW;AACxB,WAAKC,QAAL,CAAc;AAAEpB,QAAAA,WAAW,EAAEmB,KAAK,CAACjB,MAAN,CAAamB;AAA5B,OAAd;AACD,KAnCgD;AAAA;;AAqCjDC,EAAAA,MAAM,GAAG;AACP;AAAA;AACE,0BAAC,IAAD;AAAM,QAAA,MAAM,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,0BAAC,IAAD,CAAM,OAAN;AACE,QAAA,SAAS,EAAC,SADZ;AAEE,QAAA,WAAW,EAAC,QAFd;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,QAAQ,EAAE,KAAKJ,YAJjB;AAKE,QAAA,UAAU,EAAGK,GAAD,IAAS;AACnB,eAAKtB,cAAL,CAAoBsB,GAApB;AACD,SAPH;AAQE,QAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWC,WARpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAAA;AAWE,0BAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,iBAAhB;AAAkC,QAAA,OAAO,EAAE,KAAKI,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF;AADF;AAiBD;;AAvDgD","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Button } from 'react-bootstrap';\n\nexport default class SearchInput extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  // On enter (key code 13), change href to point to search results page\n  handleKeyPress = (target) => {\n    if (target.charCode === 13) {\n      this.handleSearch(target);\n    }\n  };\n\n  // On search button pressed, change href to point to search results page\n  handleSearch = (target) => {\n    target.preventDefault();\n    let { modelType } = this.props;\n    if (!modelType) {\n      const urlSplit = String(window.location.href).split('/');\n      const routeType = urlSplit[3];\n      if (routeType === 'home') {\n        modelType = 'cities';\n      } else if (routeType === 'search') {\n        const typeAndParams = urlSplit[4];\n        modelType = typeAndParams.substring(0, typeAndParams.indexOf('?'));\n      } else {\n        modelType = routeType;\n      }\n    }\n    const { searchQuery } = this.state;\n    window.location.href = `/search/${modelType}?search_query=${searchQuery}`;\n  };\n\n  // On key press, update the state of the searchQuery\n  handleChange = (event) => {\n    this.setState({ searchQuery: event.target.value });\n  };\n\n  render() {\n    return (\n      <Form inline>\n        <Form.Control\n          className=\"mr-sm-2\"\n          placeholder=\"Search\"\n          type=\"text\"\n          onChange={this.handleChange}\n          onKeyPress={(key) => {\n            this.handleKeyPress(key);\n          }}\n          value={this.state.searchQuery}\n        />\n        <Button variant=\"outline-primary\" onClick={this.handleSearch}>\n          Search\n        </Button>\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}