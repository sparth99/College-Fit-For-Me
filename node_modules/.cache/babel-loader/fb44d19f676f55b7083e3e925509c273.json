{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { HorizontalAnchoredCategorySeries } from \"./HorizontalAnchoredCategorySeries\";\nimport { Brush } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { runOn, markType, markDep, fromEnum } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { ArrayExtension } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnchoredCategorySeriesView } from \"./AnchoredCategorySeriesView\";\n/**\n * @hidden\n */\n\nvar WaterfallSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(WaterfallSeries, _super);\n\n  function WaterfallSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.ab = WaterfallSeries.$;\n    return _this;\n  }\n\n  WaterfallSeries.prototype.bf = function () {\n    return new WaterfallSeriesView(this);\n  };\n\n  WaterfallSeries.prototype.iu = function (a) {\n    _super.prototype.iu.call(this, a);\n\n    this.qh = a;\n  };\n\n  WaterfallSeries.prototype.preferredCategoryMode = function (a) {\n    return 2;\n  };\n\n  WaterfallSeries.prototype.get_cz = function () {\n    return true;\n  };\n\n  WaterfallSeries.prototype.ji = function (a, b) {\n    _super.prototype.ji.call(this, a, b);\n\n    this.qs = a;\n    this.qt = b;\n  };\n\n  WaterfallSeries.prototype.k9 = function () {\n    return this.qs;\n  };\n\n  WaterfallSeries.prototype.get_nv = function () {\n    return true;\n  };\n\n  WaterfallSeries.prototype.iz = function (a, b, c, d) {\n    _super.prototype.iz.call(this, a, b, c, d);\n\n    switch (b) {\n      case WaterfallSeries.$$p[3]:\n      case WaterfallSeries.$$p[2]:\n      case WaterfallSeries.$$p[0]:\n      case WaterfallSeries.$$p[1]:\n        this.jd(false);\n        break;\n    }\n  };\n\n  WaterfallSeries.prototype.dh = function (a, b) {\n    if (this.dk(a, b)) {\n      return true;\n    }\n\n    if (this.l4(a, b)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  WaterfallSeries.prototype.lu = function (a) {\n    var _this = this;\n\n    if (this.qh == null || this.qh.c7 == null || this.qh.c7.count == 0 || this.xAxis == null) {\n      return Rect.empty;\n    }\n\n    var b = this.qh.c7;\n    var c = this.lg(a);\n    var d = -1;\n    var e = this.xAxis.b8;\n    var f = this.ly.right * 2;\n\n    if (e) {\n      d = ArrayExtension.binarySearch$1(Rectangle.$, b, function (g) {\n        var h = _this.qh.de(g);\n\n        return f - c.x < f - (h.left + h.width / 2) ? -1 : f - c.x > f - (h.left + h.width / 2) ? 1 : 0;\n      });\n    } else {\n      d = ArrayExtension.binarySearch$1(Rectangle.$, b, function (g) {\n        var h = _this.qh.de(g);\n\n        return c.x < h.left + h.width / 2 ? -1 : c.x > h.left + h.width / 2 ? 1 : 0;\n      });\n    }\n\n    if (d < 0) {\n      d = ~d;\n      d--;\n    }\n\n    if (d < 0) {\n      d = 0;\n    }\n\n    if (d > b.count - 1) {\n      d = b.count - 1;\n    }\n\n    var g = d;\n    var h = d;\n\n    if (g < 0) {\n      g--;\n    }\n\n    if (h < b.count - 1) {\n      h++;\n    }\n\n    var i = this.qu(g);\n    var j = this.qu(d);\n    var k = this.qu(h);\n    var l = i.left + i.width / 2;\n    var m = j.left + j.width / 2;\n    var n = k.left + k.width / 2;\n    var o = Math.abs(l - c.x);\n    var p = Math.abs(m - c.x);\n    var q = Math.abs(n - c.x);\n    var r = i.containsPoint(c);\n    var s = j.containsPoint(c);\n    var t = k.containsPoint(c);\n\n    if (p <= o && p <= q) {\n      if (!e && t) {\n        return k;\n      }\n\n      if (e && r) {\n        return i;\n      }\n\n      return j;\n    }\n\n    if (o <= p && o <= q) {\n      if (!e && s) {\n        return j;\n      }\n\n      return i;\n    }\n\n    if (q <= p && q <= o) {\n      if (e && s) {\n        return j;\n      }\n\n      return k;\n    }\n\n    return Rect.empty;\n  };\n\n  WaterfallSeries.prototype.qu = function (a) {\n    return this.qh.dd(a);\n  };\n\n  WaterfallSeries.prototype.ng = function () {\n    return 1;\n  };\n\n  WaterfallSeries.prototype.hv = function (a, b) {\n    _super.prototype.hv.call(this, a, b);\n\n    this.qh.c7.count = 0;\n  };\n\n  WaterfallSeries.prototype.eg = function () {\n    return this.py.jr(this.bi.bs, this.bi.br, this.getEffectiveViewport1(this.bi));\n  };\n\n  WaterfallSeries.prototype.oo = function (a, b) {\n    var c = b;\n\n    _super.prototype.oo.call(this, a, b);\n\n    var d = b.bs;\n    var e = b.br;\n    var f = this.getEffectiveViewport1(b);\n    var g = this.py.jr(d, e, f);\n    var h = this.qi;\n    var i = this.qj;\n    var j;\n    var k = this.o7(b);\n    var l = NaN;\n    var m = c.c7;\n    var n;\n    var o = 0;\n    this.ne.x(this, this.nz(), this.py, runOn(this, this.m0), this.n7(b), this.n8(b));\n    this.ne.p = this.qi;\n    this.ne.q = this.qj;\n    this.ne.j = this.qi;\n    this.ne.k = this.qj;\n    var p = false;\n    var q = this.ne.c;\n\n    if (q != null) {\n      p = true;\n    }\n\n    var r = this.py.cd;\n    var s = this.valueColumn.count;\n    var t = a.f;\n    var u = this.py;\n    var v = new ScalerParams(0, d, e, this.py.b8, f);\n    var w = this.k3;\n    var x = this.qs;\n    var y = this.k4;\n    var z = this.qt || y;\n\n    if (a.f.count > 0) {\n      j = a.f._inner[0][0] - 0.5 * g;\n      var aa = a.f._inner[0][1];\n\n      if (!isNaN_(aa)) {\n        if (aa > k) {\n          n = m.item(o);\n          o++;\n          c.dc(n, j, k);\n          n.width = g;\n          n.height = Math.abs(k - aa);\n          this.ne.al = x;\n          this.ne.ah = x;\n          this.ne.am = z;\n          this.ne.ai = z;\n          this.ne.f = true;\n\n          if (p) {\n            this.ok(t, 0, s, u, v, b.n);\n          }\n\n          this.ne.ae(n, false, false, false, false);\n          n.am = this.ne.j;\n          n.an = this.ne.k;\n        } else {\n          n = m.item(o);\n          o++;\n          c.dc(n, j, aa);\n          n.width = g;\n          n.height = Math.abs(aa - k);\n          this.ne.al = w;\n          this.ne.ah = w;\n          this.ne.am = y;\n          this.ne.ai = y;\n          this.ne.f = false;\n\n          if (p) {\n            this.ok(t, 0, s, u, v, b.n);\n          }\n\n          this.ne.ae(n, false, false, false, false);\n          n.am = this.ne.j;\n          n.an = this.ne.k;\n        }\n\n        l = aa;\n      } else {\n        l = k;\n      }\n    }\n\n    for (var ab = 1; ab < a.f.count; ++ab) {\n      var ac = a.f._inner[ab];\n      j = a.f._inner[ab][0] - 0.5 * g;\n      var ad = ac[1];\n\n      if (!isNaN_(ad)) {\n        n = m.item(o);\n        o++;\n        c.dc(n, j, Math.min(l, ad));\n        n.width = g;\n        n.height = Math.abs(l - ad);\n        this.ne.al = w;\n        this.ne.ah = w;\n        this.ne.am = y;\n        this.ne.ai = y;\n        this.ne.f = false;\n\n        if (l > ad) {\n          if (p) {\n            this.ok(t, ab, s, u, v, b.n);\n          }\n        } else {\n          this.ne.al = x;\n          this.ne.ah = x;\n          this.ne.am = z;\n          this.ne.ai = z;\n          this.ne.f = true;\n\n          if (p) {\n            this.ok(t, ab, s, u, v, b.n);\n          }\n        }\n\n        this.ne.ae(n, false, false, false, false);\n        n.am = this.ne.j;\n        n.an = this.ne.k;\n        l = ad;\n      }\n    }\n\n    m.count = o;\n    b.cu(a);\n  };\n\n  Object.defineProperty(WaterfallSeries.prototype, \"useHighMarkerFidelity\", {\n    get: function () {\n      return this.n2;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  WaterfallSeries.$t = markType(WaterfallSeries, 'WaterfallSeries', HorizontalAnchoredCategorySeries.$);\n  WaterfallSeries.$$p = markDep(DependencyProperty, PropertyMetadata, WaterfallSeries, 'raisePropertyChanged', ['NegativeBrush:qs:qo', [Brush.$, null], 'NegativeOutline:qt:qp', [Brush.$, null], 'RadiusX:qi:qq', [1, 2], 'RadiusY:qj:qr', [1, 2]]);\n  return WaterfallSeries;\n}(HorizontalAnchoredCategorySeries);\n\nexport { WaterfallSeries };\n/**\n * @hidden\n */\n\nvar WaterfallSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(WaterfallSeriesView, _super);\n\n  function WaterfallSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.c6 = null;\n    _this.c8 = null;\n    _this.df = new Rectangle();\n    _this.c7 = null;\n    _this.c6 = a;\n\n    _this.c7 = function () {\n      var $ret = new Pool$1(Rectangle.$);\n      $ret.create = runOn(_this, _this.dg);\n      $ret.activate = runOn(_this, _this.c9);\n      $ret.disactivate = runOn(_this, _this.db);\n      $ret.destroy = runOn(_this, _this.da);\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  WaterfallSeriesView.prototype.ap = function () {\n    _super.prototype.ap.call(this);\n\n    this.c8 = new List$1(Rectangle.$, 0);\n\n    if (!this.n) {\n      this.e.eu = 4;\n\n      this.c6.qs = function () {\n        var $ret = new Brush();\n        $ret.fill = \"#C62828\";\n        return $ret;\n      }();\n\n      this.c6.qt = function () {\n        var $ret = new Brush();\n        $ret.fill = \"#C62828\";\n        return $ret;\n      }();\n\n      this.e.bj = 5;\n    }\n  };\n\n  WaterfallSeriesView.prototype.dg = function () {\n    var a = new Rectangle();\n    this.c8.add(a);\n    a._visibility = 1;\n    return a;\n  };\n\n  WaterfallSeriesView.prototype.c9 = function (a) {\n    a._visibility = 0;\n  };\n\n  WaterfallSeriesView.prototype.db = function (a) {\n    a._visibility = 1;\n  };\n\n  WaterfallSeriesView.prototype.da = function (a) {\n    this.c8.remove(a);\n  };\n\n  WaterfallSeriesView.prototype.dc = function (a, b, c) {\n    var d = false;\n\n    if (a.o != c) {\n      d = true;\n      a.o = c;\n    }\n\n    if (a.n != b) {\n      d = true;\n      a.n = b;\n    }\n\n    if (d) {\n      this.an();\n    }\n  };\n\n  WaterfallSeriesView.prototype.z = function (a) {\n    return this.c8._inner[a];\n  };\n\n  WaterfallSeriesView.prototype.y = function (a) {\n    var b = this.c8._inner[a];\n    this.df._visibility = b._visibility;\n    this.df.n = b.n;\n    this.df.o = b.o;\n    this.df.width = b.width;\n    this.df.height = b.height;\n    var c = this.bm(a);\n    this.df._fill = c;\n    this.df._stroke = c;\n    this.df.ac = this.e.ey + 3;\n    return this.df;\n  };\n\n  WaterfallSeriesView.prototype.a3 = function (a, b) {\n    _super.prototype.a3.call(this, a, b);\n\n    if (a.d) {\n      for (var c = 0; c < this.c8.count; c++) {\n        var d = this.x(c, b);\n        this.ba(d, c, b);\n        a.v(d);\n      }\n    }\n  };\n\n  WaterfallSeriesView.prototype.ai = function (a) {\n    var e_1, _a, e_2, _b;\n\n    _super.prototype.ai.call(this, a);\n\n    var b = 0;\n    var c = new List$1(Rectangle.$, 0);\n\n    try {\n      for (var _c = tslib_1.__values(fromEnum(this.c7.a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var d = _d.value;\n        c.add(d);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    c.aa(function (e, f) {\n      if (e.n < f.n) {\n        return -1;\n      } else if (e.n > f.n) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n\n    try {\n      for (var _e = tslib_1.__values(fromEnum(c)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var e = _f.value;\n        var f = \"Negative\";\n\n        if (e._fill == this.e.k3) {\n          f = \"Positive\";\n        }\n\n        this.e.a2.exportRectangleData(a, e, \"column\" + b, [\"Main\", f]);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    b++;\n  };\n\n  WaterfallSeriesView.prototype.dd = function (a) {\n    var b = this.c7.item(a);\n    return new Rect(0, b.n, b.o, b.width, b.height);\n  };\n\n  WaterfallSeriesView.prototype.de = function (a) {\n    return new Rect(0, a.n, a.o, a.width, a.height);\n  };\n\n  WaterfallSeriesView.$t = markType(WaterfallSeriesView, 'WaterfallSeriesView', AnchoredCategorySeriesView.$);\n  return WaterfallSeriesView;\n}(AnchoredCategorySeriesView);\n\nexport { WaterfallSeriesView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/WaterfallSeries_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { HorizontalAnchoredCategorySeries } from \"./HorizontalAnchoredCategorySeries\";\nimport { Brush } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { runOn, markType, markDep, fromEnum } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { ArrayExtension } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnchoredCategorySeriesView } from \"./AnchoredCategorySeriesView\";\n/**\n * @hidden\n */\nvar WaterfallSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WaterfallSeries, _super);\n    function WaterfallSeries() {\n        var _this = _super.call(this) || this;\n        _this.ab = WaterfallSeries.$;\n        return _this;\n    }\n    WaterfallSeries.prototype.bf = function () {\n        return new WaterfallSeriesView(this);\n    };\n    WaterfallSeries.prototype.iu = function (a) {\n        _super.prototype.iu.call(this, a);\n        this.qh = a;\n    };\n    WaterfallSeries.prototype.preferredCategoryMode = function (a) {\n        return 2;\n    };\n    WaterfallSeries.prototype.get_cz = function () {\n        return true;\n    };\n    WaterfallSeries.prototype.ji = function (a, b) {\n        _super.prototype.ji.call(this, a, b);\n        this.qs = a;\n        this.qt = b;\n    };\n    WaterfallSeries.prototype.k9 = function () {\n        return this.qs;\n    };\n    WaterfallSeries.prototype.get_nv = function () {\n        return true;\n    };\n    WaterfallSeries.prototype.iz = function (a, b, c, d) {\n        _super.prototype.iz.call(this, a, b, c, d);\n        switch (b) {\n            case WaterfallSeries.$$p[3]:\n            case WaterfallSeries.$$p[2]:\n            case WaterfallSeries.$$p[0]:\n            case WaterfallSeries.$$p[1]:\n                this.jd(false);\n                break;\n        }\n    };\n    WaterfallSeries.prototype.dh = function (a, b) {\n        if (this.dk(a, b)) {\n            return true;\n        }\n        if (this.l4(a, b)) {\n            return true;\n        }\n        return false;\n    };\n    WaterfallSeries.prototype.lu = function (a) {\n        var _this = this;\n        if (this.qh == null || this.qh.c7 == null || this.qh.c7.count == 0 || this.xAxis == null) {\n            return Rect.empty;\n        }\n        var b = this.qh.c7;\n        var c = this.lg(a);\n        var d = -1;\n        var e = this.xAxis.b8;\n        var f = this.ly.right * 2;\n        if (e) {\n            d = ArrayExtension.binarySearch$1(Rectangle.$, b, function (g) {\n                var h = _this.qh.de(g);\n                return (f - c.x) < (f - (h.left + h.width / 2)) ? -1 : ((f - c.x) > (f - (h.left + h.width / 2)) ? 1 : 0);\n            });\n        }\n        else {\n            d = ArrayExtension.binarySearch$1(Rectangle.$, b, function (g) {\n                var h = _this.qh.de(g);\n                return c.x < (h.left + h.width / 2) ? -1 : (c.x > (h.left + h.width / 2) ? 1 : 0);\n            });\n        }\n        if (d < 0) {\n            d = ~d;\n            d--;\n        }\n        if (d < 0) {\n            d = 0;\n        }\n        if (d > b.count - 1) {\n            d = b.count - 1;\n        }\n        var g = d;\n        var h = d;\n        if (g < 0) {\n            g--;\n        }\n        if (h < b.count - 1) {\n            h++;\n        }\n        var i = this.qu(g);\n        var j = this.qu(d);\n        var k = this.qu(h);\n        var l = i.left + i.width / 2;\n        var m = j.left + j.width / 2;\n        var n = k.left + k.width / 2;\n        var o = Math.abs(l - c.x);\n        var p = Math.abs(m - c.x);\n        var q = Math.abs(n - c.x);\n        var r = i.containsPoint(c);\n        var s = j.containsPoint(c);\n        var t = k.containsPoint(c);\n        if (p <= o && p <= q) {\n            if (!e && t) {\n                return k;\n            }\n            if (e && r) {\n                return i;\n            }\n            return j;\n        }\n        if (o <= p && o <= q) {\n            if (!e && s) {\n                return j;\n            }\n            return i;\n        }\n        if (q <= p && q <= o) {\n            if (e && s) {\n                return j;\n            }\n            return k;\n        }\n        return Rect.empty;\n    };\n    WaterfallSeries.prototype.qu = function (a) {\n        return this.qh.dd(a);\n    };\n    WaterfallSeries.prototype.ng = function () {\n        return 1;\n    };\n    WaterfallSeries.prototype.hv = function (a, b) {\n        _super.prototype.hv.call(this, a, b);\n        this.qh.c7.count = 0;\n    };\n    WaterfallSeries.prototype.eg = function () {\n        return this.py.jr(this.bi.bs, this.bi.br, this.getEffectiveViewport1(this.bi));\n    };\n    WaterfallSeries.prototype.oo = function (a, b) {\n        var c = b;\n        _super.prototype.oo.call(this, a, b);\n        var d = b.bs;\n        var e = b.br;\n        var f = this.getEffectiveViewport1(b);\n        var g = this.py.jr(d, e, f);\n        var h = this.qi;\n        var i = this.qj;\n        var j;\n        var k = this.o7(b);\n        var l = NaN;\n        var m = c.c7;\n        var n;\n        var o = 0;\n        this.ne.x(this, this.nz(), this.py, runOn(this, this.m0), this.n7(b), this.n8(b));\n        this.ne.p = this.qi;\n        this.ne.q = this.qj;\n        this.ne.j = this.qi;\n        this.ne.k = this.qj;\n        var p = false;\n        var q = this.ne.c;\n        if (q != null) {\n            p = true;\n        }\n        var r = this.py.cd;\n        var s = this.valueColumn.count;\n        var t = a.f;\n        var u = this.py;\n        var v = new ScalerParams(0, d, e, this.py.b8, f);\n        var w = this.k3;\n        var x = this.qs;\n        var y = this.k4;\n        var z = this.qt || y;\n        if (a.f.count > 0) {\n            j = a.f._inner[0][0] - 0.5 * g;\n            var aa = a.f._inner[0][1];\n            if (!isNaN_(aa)) {\n                if (aa > k) {\n                    n = m.item(o);\n                    o++;\n                    c.dc(n, j, k);\n                    n.width = g;\n                    n.height = Math.abs(k - aa);\n                    this.ne.al = x;\n                    this.ne.ah = x;\n                    this.ne.am = z;\n                    this.ne.ai = z;\n                    this.ne.f = true;\n                    if (p) {\n                        this.ok(t, 0, s, u, v, b.n);\n                    }\n                    this.ne.ae(n, false, false, false, false);\n                    n.am = this.ne.j;\n                    n.an = this.ne.k;\n                }\n                else {\n                    n = m.item(o);\n                    o++;\n                    c.dc(n, j, aa);\n                    n.width = g;\n                    n.height = Math.abs(aa - k);\n                    this.ne.al = w;\n                    this.ne.ah = w;\n                    this.ne.am = y;\n                    this.ne.ai = y;\n                    this.ne.f = false;\n                    if (p) {\n                        this.ok(t, 0, s, u, v, b.n);\n                    }\n                    this.ne.ae(n, false, false, false, false);\n                    n.am = this.ne.j;\n                    n.an = this.ne.k;\n                }\n                l = aa;\n            }\n            else {\n                l = k;\n            }\n        }\n        for (var ab = 1; ab < a.f.count; ++ab) {\n            var ac = a.f._inner[ab];\n            j = a.f._inner[ab][0] - 0.5 * g;\n            var ad = ac[1];\n            if (!isNaN_(ad)) {\n                n = m.item(o);\n                o++;\n                c.dc(n, j, Math.min(l, ad));\n                n.width = g;\n                n.height = Math.abs(l - ad);\n                this.ne.al = w;\n                this.ne.ah = w;\n                this.ne.am = y;\n                this.ne.ai = y;\n                this.ne.f = false;\n                if (l > ad) {\n                    if (p) {\n                        this.ok(t, ab, s, u, v, b.n);\n                    }\n                }\n                else {\n                    this.ne.al = x;\n                    this.ne.ah = x;\n                    this.ne.am = z;\n                    this.ne.ai = z;\n                    this.ne.f = true;\n                    if (p) {\n                        this.ok(t, ab, s, u, v, b.n);\n                    }\n                }\n                this.ne.ae(n, false, false, false, false);\n                n.am = this.ne.j;\n                n.an = this.ne.k;\n                l = ad;\n            }\n        }\n        m.count = o;\n        b.cu(a);\n    };\n    Object.defineProperty(WaterfallSeries.prototype, \"useHighMarkerFidelity\", {\n        get: function () {\n            return this.n2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WaterfallSeries.$t = markType(WaterfallSeries, 'WaterfallSeries', HorizontalAnchoredCategorySeries.$);\n    WaterfallSeries.$$p = markDep(DependencyProperty, PropertyMetadata, WaterfallSeries, 'raisePropertyChanged', ['NegativeBrush:qs:qo', [Brush.$, null], 'NegativeOutline:qt:qp', [Brush.$, null], 'RadiusX:qi:qq', [1, 2], 'RadiusY:qj:qr', [1, 2]]);\n    return WaterfallSeries;\n}(HorizontalAnchoredCategorySeries));\nexport { WaterfallSeries };\n/**\n * @hidden\n */\nvar WaterfallSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WaterfallSeriesView, _super);\n    function WaterfallSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.c6 = null;\n        _this.c8 = null;\n        _this.df = new Rectangle();\n        _this.c7 = null;\n        _this.c6 = a;\n        _this.c7 = ((function () {\n            var $ret = new Pool$1(Rectangle.$);\n            $ret.create = runOn(_this, _this.dg);\n            $ret.activate = runOn(_this, _this.c9);\n            $ret.disactivate = runOn(_this, _this.db);\n            $ret.destroy = runOn(_this, _this.da);\n            return $ret;\n        })());\n        return _this;\n    }\n    WaterfallSeriesView.prototype.ap = function () {\n        _super.prototype.ap.call(this);\n        this.c8 = new List$1(Rectangle.$, 0);\n        if (!this.n) {\n            this.e.eu = 4;\n            this.c6.qs = ((function () {\n                var $ret = new Brush();\n                $ret.fill = \"#C62828\";\n                return $ret;\n            })());\n            this.c6.qt = ((function () {\n                var $ret = new Brush();\n                $ret.fill = \"#C62828\";\n                return $ret;\n            })());\n            this.e.bj = 5;\n        }\n    };\n    WaterfallSeriesView.prototype.dg = function () {\n        var a = new Rectangle();\n        this.c8.add(a);\n        a._visibility = 1;\n        return a;\n    };\n    WaterfallSeriesView.prototype.c9 = function (a) {\n        a._visibility = 0;\n    };\n    WaterfallSeriesView.prototype.db = function (a) {\n        a._visibility = 1;\n    };\n    WaterfallSeriesView.prototype.da = function (a) {\n        this.c8.remove(a);\n    };\n    WaterfallSeriesView.prototype.dc = function (a, b, c) {\n        var d = false;\n        if (a.o != c) {\n            d = true;\n            a.o = c;\n        }\n        if (a.n != b) {\n            d = true;\n            a.n = b;\n        }\n        if (d) {\n            this.an();\n        }\n    };\n    WaterfallSeriesView.prototype.z = function (a) {\n        return this.c8._inner[a];\n    };\n    WaterfallSeriesView.prototype.y = function (a) {\n        var b = this.c8._inner[a];\n        this.df._visibility = b._visibility;\n        this.df.n = b.n;\n        this.df.o = b.o;\n        this.df.width = b.width;\n        this.df.height = b.height;\n        var c = this.bm(a);\n        this.df._fill = c;\n        this.df._stroke = c;\n        this.df.ac = this.e.ey + 3;\n        return this.df;\n    };\n    WaterfallSeriesView.prototype.a3 = function (a, b) {\n        _super.prototype.a3.call(this, a, b);\n        if (a.d) {\n            for (var c = 0; c < this.c8.count; c++) {\n                var d = this.x(c, b);\n                this.ba(d, c, b);\n                a.v(d);\n            }\n        }\n    };\n    WaterfallSeriesView.prototype.ai = function (a) {\n        var e_1, _a, e_2, _b;\n        _super.prototype.ai.call(this, a);\n        var b = 0;\n        var c = new List$1(Rectangle.$, 0);\n        try {\n            for (var _c = tslib_1.__values(fromEnum(this.c7.a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var d = _d.value;\n                c.add(d);\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        c.aa(function (e, f) {\n            if (e.n < f.n) {\n                return -1;\n            }\n            else if (e.n > f.n) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        });\n        try {\n            for (var _e = tslib_1.__values(fromEnum(c)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var e = _f.value;\n                var f = \"Negative\";\n                if (e._fill == this.e.k3) {\n                    f = \"Positive\";\n                }\n                this.e.a2.exportRectangleData(a, e, \"column\" + b, [\"Main\", f]);\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n        b++;\n    };\n    WaterfallSeriesView.prototype.dd = function (a) {\n        var b = this.c7.item(a);\n        return new Rect(0, b.n, b.o, b.width, b.height);\n    };\n    WaterfallSeriesView.prototype.de = function (a) {\n        return new Rect(0, a.n, a.o, a.width, a.height);\n    };\n    WaterfallSeriesView.$t = markType(WaterfallSeriesView, 'WaterfallSeriesView', AnchoredCategorySeriesView.$);\n    return WaterfallSeriesView;\n}(AnchoredCategorySeriesView));\nexport { WaterfallSeriesView };\n//# sourceMappingURL=WaterfallSeries_combined.js.map\n"]},"metadata":{},"sourceType":"module"}